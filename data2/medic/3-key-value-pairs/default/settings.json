{
  "_id": "settings",
  "_rev": "3-804e007cbc6c5a4dd0cc881da234579b",
  "settings": {
    "languages": [
      {
        "locale": "en",
        "enabled": true
      },
      {
        "locale": "sw",
        "enabled": true
      }
    ],
    "locale": "en",
    "locale_outgoing": "en",
    "date_format": "D MMM, YYYY",
    "reported_date_format": "DD-MMM-YYYY HH:mm:ss",
    "forms_only_mode": false,
    "place_hierarchy_types": [
      "a_county",
      "b_sub_county",
      "c_community_health_unit",
      "d_community_health_volunteer_area",
      "e_household"
    ],
    "default_responses": {
      "start_date": ""
    },
    "district_admins_access_unallocated_messages": false,
    "public_access": false,
    "default_country_code": 254,
    "gateway_number": "+13125551212",
    "dhis_data_sets": [
      {
        "id": "VMuFODsyWaO",
        "translation_key": "dhis.dataset.monthly.integration"
      }
    ],
    "schedule_morning_hours": 0,
    "schedule_morning_minutes": 0,
    "schedule_evening_hours": 23,
    "schedule_evening_minutes": 0,
    "synthetic_date": "",
    "contact_display_short": "clinic.name",
    "roles": {
      "county_supervisor": {
        "name": "usertype.county_supervisor"
      },
      "sub_county_supervisor": {
        "name": "usertype.sub_county_supervisor"
      },
      "analytics": {
        "name": "usertype.analytics"
      },
      "gateway": {
        "name": "usertype.gateway"
      },
      "community_health_assistant": {
        "name": "usertype.community_health_assistant",
        "offline": true
      },
      "community_health_volunteer": {
        "name": "usertype.community_health_volunteer",
        "offline": true
      },
      "user_manager": {
        "name": "usertype.user_manager"
      }
    },
    "permissions": {
      "can_access_gateway_api": [
        "gateway"
      ],
      "can_bulk_delete_reports": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_configure": [],
      "can_create_people": [
        "user_manager",
        "community_health_volunteer"
      ],
      "can_create_places": [
        "user_manager",
        "community_health_volunteer"
      ],
      "can_create_records": [
        "gateway",
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_create_users": [
        "user_manager"
      ],
      "can_create_chv_contacts": [],
      "can_create_household_contacts": [
        "community_health_volunteer"
      ],
      "can_edit_household_contacts": [
        "community_health_volunteer"
      ],
      "can_delete_contacts": [],
      "can_delete_messages": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_delete_reports": [],
      "can_delete_users": [
        "user_manager"
      ],
      "can_edit": [
        "user_manager",
        "gateway",
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_edit_profile": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_edit_verification": [
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_export_all": [],
      "can_export_contacts": [
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_export_feedback": [],
      "can_export_messages": [
        "analytics",
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_log_out_on_android": [
        "sub_county_supervisor",
        "community_health_assistant"
      ],
      "can_update_places": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_update_reports": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_update_users": [],
      "can_export_dhis": [],
      "can_verify_reports": [
        "sub_county_supervisor",
        "community_health_assistant"
      ],
      "can_view_analytics": [
        "analytics",
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_analytics_tab": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_call_action": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_contacts": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer",
        "user_manager"
      ],
      "can_view_contacts_tab": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer",
        "user_manager"
      ],
      "can_view_last_visited_date": [
        "community_health_volunteer"
      ],
      "can_view_uhc_stats": [
        "community_health_volunteer"
      ],
      "can_view_message_action": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_messages": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_messages_tab": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_outgoing_messages": [],
      "can_view_reports": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_reports_tab": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_tasks": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_tasks_tab": [
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_tasks_group": [
        "sub_county_supervisor",
        "community_health_volunteer"
      ],
      "can_view_unallocated_data_records": [
        "gateway",
        "sub_county_supervisor",
        "community_health_assistant",
        "community_health_volunteer"
      ],
      "can_view_users": [
        "user_manager"
      ],
      "can_write_wealth_quintiles": [],
      "can_aggregate_targets": [
        "sub_county_supervisor",
        "community_health_assistant"
      ],
      "can_upgrade": [],
      "can_view_old_filter_and_search": [],
      "can_view_old_action_bar": [],
      "can_default_facility_filter": [],
      "can_export_devices_details": [
        "national_admin"
      ]
    },
    "uhc": {
      "contacts_default_sort": "last_visited_date",
      "visit_count": {
        "month_start_date": 1,
        "visit_count_goal": 1
      }
    },
    "death_reporting": {
      "mark_deceased_forms": [
        "death_confirmation"
      ],
      "date_field": "fields.date_of_death"
    },
    "contact_types": [
      {
        "id": "a_county",
        "name_key": "contact.type.county",
        "group_key": "contact.type.county.plural",
        "create_key": "contact.type.county.new",
        "edit_key": "contact.type.place.edit",
        "primary_contact_key": "place.field.contact",
        "icon": "icon-county",
        "create_form": "form:contact:a_county:create",
        "edit_form": "form:contact:a_county:edit"
      },
      {
        "id": "b_sub_county",
        "name_key": "contact.type.sub_county",
        "group_key": "contact.type.sub_county.plural",
        "create_key": "contact.type.sub_county.new",
        "edit_key": "contact.type.place.edit",
        "primary_contact_key": "place.field.contact",
        "parents": [
          "a_county"
        ],
        "icon": "icon-sub-county",
        "create_form": "form:contact:b_sub_county:create",
        "edit_form": "form:contact:b_sub_county:edit"
      },
      {
        "id": "c_community_health_unit",
        "name_key": "contact.type.community_health_unit",
        "group_key": "contact.type.community_health_unit.plural",
        "create_key": "contact.type.community_health_unit.new",
        "edit_key": "contact.type.place.edit",
        "primary_contact_key": "place.field.contact",
        "parents": [
          "b_sub_county"
        ],
        "icon": "icon-community-health-unit",
        "create_form": "form:contact:c_community_health_unit:create",
        "edit_form": "form:contact:c_community_health_unit:edit"
      },
      {
        "id": "d_community_health_volunteer_area",
        "name_key": "contact.type.community_health_volunteer_area",
        "group_key": "contact.type.community_health_volunteer_area.plural",
        "create_key": "contact.type.community_health_volunteer_area.new",
        "edit_key": "contact.type.place.edit",
        "primary_contact_key": "place.field.contact",
        "parents": [
          "c_community_health_unit"
        ],
        "icon": "icon-community-health-volunteer-area",
        "create_form": "form:contact:d_community_health_volunteer_area:create",
        "edit_form": "form:contact:d_community_health_volunteer_area:edit"
      },
      {
        "id": "e_household",
        "name_key": "contact.type.household",
        "group_key": "contact.type.household.plural",
        "create_key": "contact.type.household.new",
        "edit_key": "contact.type.place.edit",
        "primary_contact_key": "place.field.contact",
        "parents": [
          "d_community_health_volunteer_area"
        ],
        "icon": "icon-household",
        "create_form": "form:contact:e_household:create",
        "edit_form": "form:contact:e_household:edit",
        "count_visits": true
      },
      {
        "id": "person",
        "name_key": "contact.type.person",
        "group_key": "contact.type.person.plural",
        "create_key": "contact.type.person.new",
        "edit_key": "contact.type.person.edit",
        "parents": [
          "a_county",
          "b_sub_county",
          "c_community_health_unit",
          "d_community_health_volunteer_area"
        ],
        "icon": "icon-person",
        "create_form": "form:contact:person:create",
        "edit_form": "form:contact:person:edit",
        "person": true
      },
      {
        "id": "f_client",
        "name_key": "contact.type.client",
        "group_key": "contact.type.client.plural",
        "create_key": "contact.type.client.new",
        "edit_key": "contact.type.client.edit",
        "parents": [
          "e_household"
        ],
        "icon": "icon-person",
        "create_form": "form:contact:f_client:create",
        "edit_form": "form:contact:f_client:edit",
        "person": true
      }
    ],
    "setup_complete": true,
    "contact_summary": "var ContactSummary = {}; !function(t,e){if('object'==typeof exports&&'object'==typeof module)module.exports=e();else if('function'==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)('object'==typeof exports?exports:t)[r]=n[r]}}(ContactSummary,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&'object'==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:t}),2&e&&'string'!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,'a',e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p='',n(n.s=7)}([function(t,e,n){'use strict';(function(t){n.d(e,'e',(function(){return r})),n.d(e,'p',(function(){return i})),n.d(e,'a',(function(){return o})),n.d(e,'c',(function(){return a})),n.d(e,'d',(function(){return u})),n.d(e,'o',(function(){return s})),n.d(e,'q',(function(){return c})),n.d(e,'t',(function(){return l})),n.d(e,'i',(function(){return f})),n.d(e,'r',(function(){return d})),n.d(e,'s',(function(){return h})),n.d(e,'k',(function(){return m})),n.d(e,'m',(function(){return p})),n.d(e,'j',(function(){return _})),n.d(e,'l',(function(){return v})),n.d(e,'g',(function(){return y})),n.d(e,'f',(function(){return g})),n.d(e,'h',(function(){return S})),n.d(e,'n',(function(){return w})),n.d(e,'b',(function(){return b}));var r='1.13.6',i='object'==typeof self&&self.self===self&&self||'object'==typeof t&&t.global===t&&t||Function('return this')()||{},o=Array.prototype,a=Object.prototype,u='undefined'!=typeof Symbol?Symbol.prototype:null,s=o.push,c=o.slice,l=a.toString,f=a.hasOwnProperty,d='undefined'!=typeof ArrayBuffer,h='undefined'!=typeof DataView,m=Array.isArray,p=Object.keys,_=Object.create,v=d&&ArrayBuffer.isView,y=isNaN,g=isFinite,S=!{toString:null}.propertyIsEnumerable('toString'),w=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'],b=Math.pow(2,53)-1}).call(this,n(9))},function(t,e,n){const r=n(13);t.exports=function(t){const e=t&&t.tasks&&t.tasks.schedules,n={isTimely:()=>!0,addDate:function(t,e){let r;return r=t?new Date(t.getTime()):n.now(),r.setDate(r.getDate()+e),r.setHours(0,0,0,0),r},getLmpDate:function(t){const e=t.fields.last_menstrual_period||4;return n.addDate(new Date(t.reported_date),-7*e)},getSchedule:function(t){return r.findWhere(e,{name:t})},getMostRecentTimestamp:function(t,e,r){const i=n.getMostRecentReport(t,e,r);return i&&i.reported_date},getMostRecentReport:function(t,e,r){Array.isArray(e)||(e=[e]);let i=null;return t.forEach((function(t){e.includes(t.form)&&!t.deleted&&(!i||t.reported_date>i.reported_date)&&(!r||t.fields&&n.fieldsMatch(t,r))&&(i=t)})),i},isFormSubmittedInWindow:function(t,e,n,r,i){let o=!1;return t.forEach((function(t){o||t.form!==e||t.reported_date>=n&&t.reported_date<=r&&(!i||i&&t.fields&&t.fields.follow_up_count>i)&&(o=!0)})),o},isFirstReportNewer:function(t,e){return t&&t.reported_date?!e||!e.reported_date||t.reported_date>e.reported_date:null},isDateValid:function(t){return!isNaN(t.getTime())},getField:function(t,e){return r.propertyOf(t.fields)(e.split('.'))},fieldsMatch:function(t,e){return Object.keys(e).every((function(r){return n.getField(t,r)===e[r]}))},MS_IN_DAY:864e5,now:function(){return new Date}};return n}},function(t,e,n){const{Interval:r,DateTime:i}=n(3),{getField:o,getMostRecentReport:a}=n(1)(),u=(t,e)=>f(t,e,'days'),s=(t,e)=>f(t,e,'years'),c=(t,e)=>f(t,e,'weeks'),l=(t,e)=>f(t,e,'months'),f=(t,e,n)=>r.fromDateTimes(new Date(t),new Date(e)).length(n),d=(t,e=[])=>!(t.muted||t.date_of_death||v(e)||y(e)),h={bcg:'BCG',opv0:'Birth Polio (OPV 0)',opv1:'OPV 1',opv2:'OPV 2',opv3:'OPV 3',pcv1:'PCV 1',pcv2:'PCV 2',pcv3:'PCV 3',penta1:'Penta 1',penta2:'Penta 2',penta3:'Penta 3',ipv:'IPV',rota1:'Rota 1',rota2:'Rota 2',rota3:'Rota 3',vit_a:'Vitamin A',measles_6:'Measles 6 months',measles_9:'Measles 9 months',measles_18:'Measles 18 months',malaria:'Malaria'},m={WASH:'wash',REFERRAL_FOLLOW_UP:'referral_follow_up',DEFAULTER_FOLLOW_UP:'defaulter_follow_up',DEATH_REPORT:'death_report',MUTE_PERSON:'mute_person',MUTE_HOUSEHOLD:'mute_household',POSTNATAL_CARE:'postnatal_care_service',FAMILY_PLANNING:'family_planning',POSTNATAL_CARE_SERVICE:'postnatal_care_service',TREATMENT_FOLLOW_UP:'treatment_follow_up',OVER_FIVE_ASSESSMENT:'over_five_assessment',PREGNANCY_HOME_VISIT:'pregnancy_home_visit',IMMUNIZATION_SERVICE:'immunization_service',U5_ASSESSMENT:'u5_assessment',HOUSEHOLD_MEMBER_REGISTRATION_REMINDER:'household_member_registration_reminder',COMMUNITY_EVENT:'community_event',POSTNATAL_CARE_SERVICE_NEWBORN:'postnatal_care_service_newborn',SGBV:'sgbv',DEATH_REVIEW:'death_review',COMMODITES_ORDER:'commodities_order',COMMODITES_RECEIVED:'commodity_received',COMMODITES_SUPPLIED:'commodity_supply',COMMODITES_COUNT:'commodity_count',COMMODITES_RETURN:'commodity_return',COMMODITES_RETURNED:'commodity_returned',COMMODITES_DISCREPANCY_RESOLUTION:'commodity_discrepancy',COMMODITES_STOCK_OUT:'commodity_stockout',CHV_CONSUMPTION_LOG:'chv_consumption_log',COMMODITY_RECEIVED_CONFRIMATION:'commodity_received_confirmation',COMMODITIES_DISCREPANCY_RECONCILIATION:'stock_ammendment',COMMODITY_RETURNED_CONFIRMATION:'commodity_returned_confirmation',UNMUTE_PERSON:'unmute_person',UNMUTE_HOUSEHOLD:'unmute_household',APPROVE_MUTE_PERSON:'approve_mute_person',APPROVE_MUTE_HOUSEHOLD:'approve_mute_household',CHU_SUPERVISION:'chu_supervision',CHV_SUPERVISION:'chv_supervision',CHA_SUPERVISION_CALENDAR:'cha_supervision_calendar',CEBS_CHV_SIGNAL_REPORTING:'chv_signal_reporting',CEBS_CHA_SIGNAL_REPORTING_VERIFICATION:'cha_signal_reporting_verification',CEBS_CHA_SIGNAL_VERIFICATION:'cha_signal_verification',SOCIO_ECONOMIC_SURVEY_PERSON:'socio_economic_survey_person',SOCIO_ECONOMIC_SURVEY:'socio_economic_survey',CLIENT_DETAILS_NOTIFICATION:'patient_details_reminder',CLIENT_DETAILS_MISMATCH:'CLIENT_DETAILS_MISMATCH'},p={COUNTY:'a_county',SUB_COUNTY:'b_sub_county',CHU:'c_community_health_unit',CHV_AREA:'d_community_health_volunteer_area',HOUSEHOLD:'e_household'},_=t=>t.replace(/_(\\d{1})\\b/g,'$1').replace(/(\\d{1})_months\\b/g,'$1').replace('vitamin_a','vit_a'),v=t=>{const e=a(t,[m.MUTE_PERSON,m.MUTE_HOUSEHOLD]),n=a(t,[m.APPROVE_MUTE_PERSON,m.APPROVE_MUTE_HOUSEHOLD]);return e&&(n&&n.reported_date<e.reported_date||!n)},y=t=>{const e=a(t,m.DEATH_REPORT),n=a(t,m.DEATH_REVIEW);return e&&(n&&n.reported_date<e.reported_date||!n)};t.exports={isEligibleForTasks:d,TASKS:{fp_side_effects:'task.fp_side_effects_referral_follow_up.title',fp_refill_service:'task.family_planning_service.title',immunization_service:'task.immunization.title',anc_defaulter_service:'task.anc-defaulter-referral-follow-up-service.title',anc_danger_signs_referral_follow_up:'task.anc-danger-signs-referral-follow-up-service.title',anc_mental_referral_follow_up:'task.anc-mental-signs-referral-follow-up-service.title',pregnancy_home_visit_service:'task.pregnancy_home_visit_service.title',pnc_mother_danger_signs:'task.pnc_mother_danger_signs.title',newborn_danger_signs:'task.pnc_newborn_danger_signs.title',pnc_newborn_immunization:'task.pnc_newborn_immunization.title',death_confirmation:'task.death_report_confirmation.title',chv_commodity_receipt:'task.commodity.received.title',chv_commodity_count:'task.commodity.count.title',cha_commodity_returned:'task.commodity.returned.title',cha_commodity_supplied_reconciliation:'task.commodity.supplied.reconciliation.title',cha_commodity_stock_out:'task.commodity.stock.out.title',sgbv_referral_follow_up:'task.sgbv_referral_follow_up.title',cha_verbal_autopsy:'task.cha_verbal_autopsy.title',chv_supervision:'task.chv_supervision.title',over5_3day_referral:'task.over_five_referral_service_3_day.title',under5_3day_referral:'task.u5_assessment_3_day_referral_follow_up.title',danger_signs_referral_follow_up:'task.danger_sign_over_five_referral_service.title',ceb_signal_verification:'task.ceb_signal_verification.title',hh_update_member_cr:'task.cr_contact.update'},Services:m,Places:p,Persons:{USER:'person',CLIENT:'f_client'},DAYS_IN_YEAR:365,differenceInDays:u,differenceInYears:s,FAMILY_PLANNING_METHODS:{cocs:'COCs – Combined Oral Contraceptive',pops:'POPs - Progestogen-only Pill',injectables:'Injectables',implant_1_rod:'Implants (1 rod)',implant_2_rods:'Implants (2 rods)',iucd:'IUCD (Coil)',condoms:'Condoms',tubal_ligation:'Tubal Ligation (TL)',cycle_beads:'Cycle Beads',vasectomy:'Vasectomy'},MS_IN_DAY:864e5,sortReports:(t,e)=>t.reported_date-e.reported_date,PNC_PERIOD_DAYS:42,MAX_PREGNANCY_AGE_IN_WEEKS:44,getPregnancyAgeInWeeks:t=>Math.floor(u(new Date(new Date(t).getTime()-266112e5),new Date)/7),VACCINATIONS:h,VITAMIN_A_DOSES:{vit_a_6:'6_months',vit_a_12:'12_months',vit_a_18:'18_months',vit_a_24:'24_months',vit_a_30:'30_months',vit_a_36:'36_months',vit_a_42:'42_months',vit_a_48:'48_months',vit_a_54:'54_months',vit_a_60:'60_months'},getField:o,getVaccinesReceived:t=>{let e=[];return t.forEach(t=>{const n=t.form===m.IMMUNIZATION_SERVICE?o(t,'group_vaccines.vaccines_given'):o(t,'immunization_screening.vaccines');n&&(e=e.concat(_(n).split(' ').map(t=>h[t])))}),e=Array.from(new Set(e)),e},countTotalVaccinesByAge:t=>{const e=c(t.date_of_birth,new Date);let n=0;return e>=0&&(n+=2),e>=6&&(n+=4),e>=10&&(n+=4),e>=14&&(n+=5),e>=24&&(n+=1),e>=36&&(n+=1),e>=72&&(n+=1),n},countTotalVitaminAVaccinesByAge:t=>{const e=l(t.date_of_birth,new Date);let n=0;return[6,12,18,24,30,36,42,48,54,60].forEach(t=>{e>=t&&(n+=1)}),n},mapImmunizationServiceVaccineAnswers:_,getNewbornHomeVisitCount:t=>t.filter(t=>t.form===m.POSTNATAL_CARE_SERVICE_NEWBORN&&'true'===o(t,'is_patient_available')).length,MAX_NEWBORN_AGE_IN_DAYS:28,DELIVERY_CHECK_WEEKS:{START:28,END:44},DAYS_IN_WEEK:7,differenceInWeeks:c,differenceInMonths:l,isSCHMT:t=>t.parent&&'b_sub_county'===t.parent.contact_type,isCHMT:t=>t.parent&&'a_county'===t.parent.contact_type,isCha:t=>t.parent&&'c_community_health_unit'===t.parent.contact_type,isChv:t=>t.parent&&'d_community_health_volunteer_area'===t.parent.contact_type,isMale:t=>t.sex&&'male'===t.sex,isFemaleOrIntersex:t=>t.sex&&('female'===t.sex||'intersex'===t.sex),Targets:{TOTAL_MALES:'total-population-male-all-time',WOMEN_15_49:'total-population-women-15-49-yr',TOTAL_FEMALES:'total-population-female-all-time',SKILLED_DELIVERIES:'skilled-deliveries-cha-percent',U5_ASSESSMENTS:'percent-under-5-assessed',HH_FUNCTIONAL_LATRINES:'percent-hh-functional-latrine',EXCLUSIVE_BREASTFEEDING:'percent-exclusive-breastfeeding',HH_VISITED:'count-households-visited',ACTIVE_PREGNANCIES:'total-active-pregnancies',UNDER_1_POPULATION:'total-population-under-1',UNDER_5_POPULATION:'total-population-under-5',PERCENT_POPULATION_LT_2_MONTHS_ASSESSED:'percent-population-under-2-months-assessed',U5_WITH_MALARIA_TREATED:'u5-with-malaria-treated',PERCENT_POPULATION_2_TO_59_MONTHS_ASSESSED:'percent-population-2-to-59-months-assessed',TOTAL_REFERRALS:'total-referrals',PERCENT_POPULATION_OVER_5_YEARS_ASSESSED:'percent-population-over-5-years-assessed',U5_WITH_PNEUMONIA_TREATED:'u5-with-pneumonia-treated',U5_WITH_DIARRHOEA_TREATED:'u5-with-diarrhoea-treated',GAM_RATE:'global-acute-malnutrition-rate',CHILDREN_WITH_UPTODATE_GROWTH_MONITORING:'children-with-uptodate-growth-monitoring',NEW_PREGNANT:'new-pregnant-women',PERCENT_POPULATION_OVER_2_MONTHS_SUSPECTED_MALARIA_TESTED_WITH_MRDT:'percent-population-over-two-months-with-suspected-malaria-tested-with-mrdt',PERCENT_REFERRED_TB_CASES_FOLLOWED_UP:'percent-tb-cases-follow-up'},getHouseholdId:t=>t.contact&&t.contact.contact_type===p.HOUSEHOLD?t.contact._id:t.contact.parent&&t.contact.parent._id,isEligibleNewborn:t=>u(t.date_of_birth,new Date)<28&&d(t),getLastChvSupervisionSummary:t=>{const e=t.filter(t=>t.form===m.CHV_SUPERVISION&&'yes'===o(t,'group_visit.is_available')),n=a(e,m.CHV_SUPERVISION);return{last_visit_date:n&&i.fromMillis(n.reported_date).toISODate()||'',last_visit_action_points:n&&o(n,'group_action_points.next_steps')||'',supervision_visit_count:n&&o(n,'supervision_visit_count')||0}},DateTime:i,Interval:r,getMostRecentReport:a,isOfChildBearingAge:t=>{const e=s(t.date_of_birth,new Date);return e>=10&&e<=49},getMemberSocioEconomicSummary:(t,e)=>{const n=a(e,m.SOCIO_ECONOMIC_SURVEY_PERSON)||{};return{identification_type:o(n,'group_demographics.identification_type')||t.identification_type,identification_type_other:o(n,'group_demographics.identification_type_other')||t.identification_type_other,identification_number:o(n,'group_demographics.identification_number')||t.identification_number,relationship_to_hh_head:o(n,'group_demographics.relationship_to_hh_head')||t.relationship_to_hh_head,relationship_to_hh_other:o(n,'group_demographics.relationship_to_hh_other')||t.relationship_to_hh_other,sex:o(n,'group_demographics.sex')||t.sex,date_of_birth:o(n,'group_demographics.date_of_birth')||t.date_of_birth,marital_status:o(n,'group_demographics.marital_status')||'',spouse_live_in_house:o(n,'group_demographics.spouse_live_in_house')||'',spouse_contact_uuid:o(n,'group_demographics.spouse_contact_uuid')||'',is_father_alive:o(n,'group_demographics.is_father_alive')||'',is_mother_alive:o(n,'group_demographics.is_mother_alive')||'',has_chronic_illness:o(n,'group_demographics.has_chronic_illness')||t.has_chronic_illness,chronic_illnesses:o(n,'group_demographics.chronic_illnesses')||t.chronic_illnesses,chronic_illnesses_other:o(n,'group_demographics.chronic_illnesses_other')||t.chronic_illnesses_other,disability:o(n,'group_demographics.disability')||t.disability,disability_other:o(n,'group_demographics.disability_other')||t.disability_other,requires_24_hour_care:o(n,'group_demographics.requires_24_hour_care')||'',main_care_giver_id:o(n,'group_demographics.main_care_giver_id')||'',school_attendance_status:o(n,'group_demographics.school_attendance_status')||'',education_level:o(n,'group_demographics.education_level')||'',other_education_level:o(n,'group_demographics.other_education_level')||'',doing_last_7_days:o(n,'group_demographics.doing_last_7_days')||'',work_formal:o(n,'group_demographics.work_formal')||''}},getHouseholdSocioEconomicSummary:t=>{const e=a(t,m.SOCIO_ECONOMIC_SURVEY);return{group_geographic_identification:e?e.fields.group_geographic_identification:{},group_dwelling_and_household:e?e.fields.group_dwelling_and_household:{},group_wash:e?e.fields.group_wash:{},group_fuel:e?e.fields.group_fuel:{},group_house_asset_ownership:e?e.fields.group_house_asset_ownership:{},group_social_assistance:e?e.fields.group_social_assistance:{}}},clientRegistryFields:['first_name','last_name','phone','nationality','country_of_birth','county_of_residence','subcounty','ward','village','identification_type','identification_number']}},function(t,e,n){'use strict';function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,'prototype',{writable:!1}),t}function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return(l=c()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function f(t){var e='function'==typeof Map?new Map:void 0;return(f=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf('[native code]')))return t;var n;if('function'!=typeof t)throw new TypeError('Super expression must either be null or a function');if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function d(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n='undefined'!=typeof Symbol&&t[Symbol.iterator]||t['@@iterator'];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if('string'==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return'Object'===n&&t.constructor&&(n=t.constructor.name),'Map'===n||'Set'===n?Array.from(t):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&'number'==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError('Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}Object.defineProperty(e,'__esModule',{value:!0});var p=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(f(Error)),_=function(t){function e(e){return t.call(this,'Invalid DateTime: '+e.toMessage())||this}return a(e,t),e}(p),v=function(t){function e(e){return t.call(this,'Invalid Interval: '+e.toMessage())||this}return a(e,t),e}(p),y=function(t){function e(e){return t.call(this,'Invalid Duration: '+e.toMessage())||this}return a(e,t),e}(p),g=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(p),S=function(t){function e(e){return t.call(this,'Invalid unit '+e)||this}return a(e,t),e}(p),w=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(p),b=function(t){function e(){return t.call(this,'Zone is an abstract class')||this}return a(e,t),e}(p),O='numeric',E='short',T='long',I={year:O,month:O,day:O},N={year:O,month:E,day:O},C={year:O,month:E,day:O,weekday:E},M={year:O,month:T,day:O},k={year:O,month:T,day:O,weekday:T},A={hour:O,minute:O},D={hour:O,minute:O,second:O},R={hour:O,minute:O,second:O,timeZoneName:E},x={hour:O,minute:O,second:O,timeZoneName:T},V={hour:O,minute:O,hourCycle:'h23'},L={hour:O,minute:O,second:O,hourCycle:'h23'},P={hour:O,minute:O,second:O,hourCycle:'h23',timeZoneName:E},F={hour:O,minute:O,second:O,hourCycle:'h23',timeZoneName:T},U={year:O,month:O,day:O,hour:O,minute:O},j={year:O,month:O,day:O,hour:O,minute:O,second:O},H={year:O,month:E,day:O,hour:O,minute:O},z={year:O,month:E,day:O,hour:O,minute:O,second:O},Z={year:O,month:E,day:O,weekday:E,hour:O,minute:O},q={year:O,month:T,day:O,hour:O,minute:O,timeZoneName:E},W={year:O,month:T,day:O,hour:O,minute:O,second:O,timeZoneName:E},Y={year:O,month:T,day:O,weekday:T,hour:O,minute:O,timeZoneName:T},B={year:O,month:T,day:O,weekday:T,hour:O,minute:O,second:O,timeZoneName:T};function G(t){return void 0===t}function J(t){return'number'==typeof t}function $(t){return'number'==typeof t&&t%1==0}function K(){try{return'undefined'!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Q(t,e,n){if(0!==t.length)return t.reduce((function(t,r){var i=[e(r),r];return t&&n(t[0],i[0])===t[0]?t:i}),null)[1]}function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tt(t,e,n){return $(t)&&t>=e&&t<=n}function et(t,e){return void 0===e&&(e=2),t<0?'-'+(''+-t).padStart(e,'0'):(''+t).padStart(e,'0')}function nt(t){return G(t)||null===t||''===t?void 0:parseInt(t,10)}function rt(t){return G(t)||null===t||''===t?void 0:parseFloat(t)}function it(t){if(!G(t)&&null!==t&&''!==t){var e=1e3*parseFloat('0.'+t);return Math.floor(e)}}function ot(t,e,n){void 0===n&&(n=!1);var r=Math.pow(10,e);return(n?Math.trunc:Math.round)(t*r)/r}function at(t){return t%4==0&&(t%100!=0||t%400==0)}function ut(t){return at(t)?366:365}function st(t,e){var n=function(t,e){return t-e*Math.floor(t/e)}(e-1,12)+1;return 2===n?at(t+(e-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function ct(t){var e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e)).setUTCFullYear(e.getUTCFullYear()-1900),+e}function lt(t){var e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===e||3===r?53:52}function ft(t){return t>99?t:t>60?1900+t:2e3+t}function dt(t,e,n,r){void 0===r&&(r=null);var i=new Date(t),a={hourCycle:'h23',year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'};r&&(a.timeZone=r);var u=o({timeZoneName:e},a),s=new Intl.DateTimeFormat(n,u).formatToParts(i).find((function(t){return'timezonename'===t.type.toLowerCase()}));return s?s.value:null}function ht(t,e){var n=parseInt(t,10);Number.isNaN(n)&&(n=0);var r=parseInt(e,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function mt(t){var e=Number(t);if('boolean'==typeof t||''===t||Number.isNaN(e))throw new w('Invalid unit value '+t);return e}function pt(t,e){var n={};for(var r in t)if(X(t,r)){var i=t[r];if(null==i)continue;n[e(r)]=mt(i)}return n}function _t(t,e){var n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?'+':'-';switch(e){case'short':return''+i+et(n,2)+':'+et(r,2);case'narrow':return''+i+n+(r>0?':'+r:'');case'techie':return''+i+et(n,2)+et(r,2);default:throw new RangeError('Value format '+e+' is out of range for property format')}}function vt(t){return function(t,e){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}(t,['hour','minute','second','millisecond'])}var yt=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/,gt=['January','February','March','April','May','June','July','August','September','October','November','December'],St=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],wt=['J','F','M','A','M','J','J','A','S','O','N','D'];function bt(t){switch(t){case'narrow':return[].concat(wt);case'short':return[].concat(St);case'long':return[].concat(gt);case'numeric':return['1','2','3','4','5','6','7','8','9','10','11','12'];case'2-digit':return['01','02','03','04','05','06','07','08','09','10','11','12'];default:return null}}var Ot=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'],Et=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],Tt=['M','T','W','T','F','S','S'];function It(t){switch(t){case'narrow':return[].concat(Tt);case'short':return[].concat(Et);case'long':return[].concat(Ot);case'numeric':return['1','2','3','4','5','6','7'];default:return null}}var Nt=['AM','PM'],Ct=['Before Christ','Anno Domini'],Mt=['BC','AD'],kt=['B','A'];function At(t){switch(t){case'narrow':return[].concat(kt);case'short':return[].concat(Mt);case'long':return[].concat(Ct);default:return null}}function Dt(t,e){for(var n,r='',i=m(t);!(n=i()).done;){var o=n.value;o.literal?r+=o.val:r+=e(o.val)}return r}var Rt={D:I,DD:N,DDD:M,DDDD:k,t:A,tt:D,ttt:R,tttt:x,T:V,TT:L,TTT:P,TTTT:F,f:U,ff:H,fff:q,ffff:Y,F:j,FF:z,FFF:W,FFFF:B},xt=function(){function t(t,e){this.opts=e,this.loc=t,this.systemLoc=null}t.create=function(e,n){return void 0===n&&(n={}),new t(e,n)},t.parseFormat=function(t){for(var e=null,n='',r=!1,i=[],o=0;o<t.length;o++){var a=t.charAt(o);'\\''===a?(n.length>0&&i.push({literal:r,val:n}),e=null,n='',r=!r):r||a===e?n+=a:(n.length>0&&i.push({literal:!1,val:n}),n=a,e=a)}return n.length>0&&i.push({literal:r,val:n}),i},t.macroTokenToFormatOpts=function(t){return Rt[t]};var e=t.prototype;return e.formatWithSystemDefault=function(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,o({},this.opts,e)).format()},e.formatDateTime=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).format()},e.formatDateTimeParts=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).formatToParts()},e.resolvedOptions=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).resolvedOptions()},e.num=function(t,e){if(void 0===e&&(e=0),this.opts.forceSimple)return et(t,e);var n=o({},this.opts);return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)},e.formatDateTimeFromString=function(e,n){var r=this,i='en'===this.loc.listingMode(),o=this.loc.outputCalendar&&'gregory'!==this.loc.outputCalendar,a=function(t,n){return r.loc.extract(e,t,n)},u=function(t){return e.isOffsetFixed&&0===e.offset&&t.allowZ?'Z':e.isValid?e.zone.formatOffset(e.ts,t.format):''},s=function(){return i?function(t){return Nt[t.hour<12?0:1]}(e):a({hour:'numeric',hourCycle:'h12'},'dayperiod')},c=function(t,n){return i?function(t,e){return bt(e)[t.month-1]}(e,t):a(n?{month:t}:{month:t,day:'numeric'},'month')},l=function(t,n){return i?function(t,e){return It(e)[t.weekday-1]}(e,t):a(n?{weekday:t}:{weekday:t,month:'long',day:'numeric'},'weekday')},f=function(t){return i?function(t,e){return At(e)[t.year<0?0:1]}(e,t):a({era:t},'era')};return Dt(t.parseFormat(n),(function(n){switch(n){case'S':return r.num(e.millisecond);case'u':case'SSS':return r.num(e.millisecond,3);case's':return r.num(e.second);case'ss':return r.num(e.second,2);case'uu':return r.num(Math.floor(e.millisecond/10),2);case'uuu':return r.num(Math.floor(e.millisecond/100));case'm':return r.num(e.minute);case'mm':return r.num(e.minute,2);case'h':return r.num(e.hour%12==0?12:e.hour%12);case'hh':return r.num(e.hour%12==0?12:e.hour%12,2);case'H':return r.num(e.hour);case'HH':return r.num(e.hour,2);case'Z':return u({format:'narrow',allowZ:r.opts.allowZ});case'ZZ':return u({format:'short',allowZ:r.opts.allowZ});case'ZZZ':return u({format:'techie',allowZ:r.opts.allowZ});case'ZZZZ':return e.zone.offsetName(e.ts,{format:'short',locale:r.loc.locale});case'ZZZZZ':return e.zone.offsetName(e.ts,{format:'long',locale:r.loc.locale});case'z':return e.zoneName;case'a':return s();case'd':return o?a({day:'numeric'},'day'):r.num(e.day);case'dd':return o?a({day:'2-digit'},'day'):r.num(e.day,2);case'c':return r.num(e.weekday);case'ccc':return l('short',!0);case'cccc':return l('long',!0);case'ccccc':return l('narrow',!0);case'E':return r.num(e.weekday);case'EEE':return l('short',!1);case'EEEE':return l('long',!1);case'EEEEE':return l('narrow',!1);case'L':return o?a({month:'numeric',day:'numeric'},'month'):r.num(e.month);case'LL':return o?a({month:'2-digit',day:'numeric'},'month'):r.num(e.month,2);case'LLL':return c('short',!0);case'LLLL':return c('long',!0);case'LLLLL':return c('narrow',!0);case'M':return o?a({month:'numeric'},'month'):r.num(e.month);case'MM':return o?a({month:'2-digit'},'month'):r.num(e.month,2);case'MMM':return c('short',!1);case'MMMM':return c('long',!1);case'MMMMM':return c('narrow',!1);case'y':return o?a({year:'numeric'},'year'):r.num(e.year);case'yy':return o?a({year:'2-digit'},'year'):r.num(e.year.toString().slice(-2),2);case'yyyy':return o?a({year:'numeric'},'year'):r.num(e.year,4);case'yyyyyy':return o?a({year:'numeric'},'year'):r.num(e.year,6);case'G':return f('short');case'GG':return f('long');case'GGGGG':return f('narrow');case'kk':return r.num(e.weekYear.toString().slice(-2),2);case'kkkk':return r.num(e.weekYear,4);case'W':return r.num(e.weekNumber);case'WW':return r.num(e.weekNumber,2);case'o':return r.num(e.ordinal);case'ooo':return r.num(e.ordinal,3);case'q':return r.num(e.quarter);case'qq':return r.num(e.quarter,2);case'X':return r.num(Math.floor(e.ts/1e3));case'x':return r.num(e.ts);default:return function(n){var i=t.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(e,i):n}(n)}}))},e.formatDurationFromString=function(e,n){var r,i=this,o=function(t){switch(t[0]){case'S':return'millisecond';case's':return'second';case'm':return'minute';case'h':return'hour';case'd':return'day';case'w':return'week';case'M':return'month';case'y':return'year';default:return null}},a=t.parseFormat(n),u=a.reduce((function(t,e){var n=e.literal,r=e.val;return n?t:t.concat(r)}),[]),s=e.shiftTo.apply(e,u.map(o).filter((function(t){return t})));return Dt(a,(r=s,function(t){var e=o(t);return e?i.num(r.get(e),t.length):t}))},t}(),Vt=function(){function t(t,e){this.reason=t,this.explanation=e}return t.prototype.toMessage=function(){return this.explanation?this.reason+': '+this.explanation:this.reason},t}(),Lt=function(){function t(){}var e=t.prototype;return e.offsetName=function(t,e){throw new b},e.formatOffset=function(t,e){throw new b},e.offset=function(t){throw new b},e.equals=function(t){throw new b},i(t,[{key:'type',get:function(){throw new b}},{key:'name',get:function(){throw new b}},{key:'ianaName',get:function(){return this.name}},{key:'isUniversal',get:function(){throw new b}},{key:'isValid',get:function(){throw new b}}]),t}(),Pt=null,Ft=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.offsetName=function(t,e){return dt(t,e.format,e.locale)},n.formatOffset=function(t,e){return _t(this.offset(t),e)},n.offset=function(t){return-new Date(t).getTimezoneOffset()},n.equals=function(t){return'system'===t.type},i(e,[{key:'type',get:function(){return'system'}},{key:'name',get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return!0}}],[{key:'instance',get:function(){return null===Pt&&(Pt=new e),Pt}}]),e}(Lt),Ut={};var jt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var Ht={},zt=function(t){function e(n){var r;return(r=t.call(this)||this).zoneName=n,r.valid=e.isValidZone(n),r}a(e,t),e.create=function(t){return Ht[t]||(Ht[t]=new e(t)),Ht[t]},e.resetCache=function(){Ht={},Ut={}},e.isValidSpecifier=function(t){return this.isValidZone(t)},e.isValidZone=function(t){if(!t)return!1;try{return new Intl.DateTimeFormat('en-US',{timeZone:t}).format(),!0}catch(t){return!1}};var n=e.prototype;return n.offsetName=function(t,e){return dt(t,e.format,e.locale,this.name)},n.formatOffset=function(t,e){return _t(this.offset(t),e)},n.offset=function(t){var e=new Date(t);if(isNaN(e))return NaN;var n,r=(n=this.name,Ut[n]||(Ut[n]=new Intl.DateTimeFormat('en-US',{hour12:!1,timeZone:n,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',era:'short'})),Ut[n]),i=r.formatToParts?function(t,e){for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var o=n[i],a=o.type,u=o.value,s=jt[a];'era'===a?r[s]=u:G(s)||(r[s]=parseInt(u,10))}return r}(r,e):function(t,e){var n=t.format(e).replace(/\\u200E/g,''),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),i=r[1],o=r[2];return[r[3],i,o,r[4],r[5],r[6],r[7]]}(r,e),o=i[0],a=i[1],u=i[2],s=i[3],c=i[4],l=i[5],f=i[6];'BC'===s&&(o=1-Math.abs(o));var d=+e,h=d%1e3;return(ct({year:o,month:a,day:u,hour:24===c?0:c,minute:l,second:f,millisecond:0})-(d-=h>=0?h:1e3+h))/6e4},n.equals=function(t){return'iana'===t.type&&t.name===this.name},i(e,[{key:'type',get:function(){return'iana'}},{key:'name',get:function(){return this.zoneName}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return this.valid}}]),e}(Lt),Zt=null,qt=function(t){function e(e){var n;return(n=t.call(this)||this).fixed=e,n}a(e,t),e.instance=function(t){return 0===t?e.utcInstance:new e(t)},e.parseSpecifier=function(t){if(t){var n=t.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new e(ht(n[1],n[2]))}return null};var n=e.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(t,e){return _t(this.fixed,e)},n.offset=function(){return this.fixed},n.equals=function(t){return'fixed'===t.type&&t.fixed===this.fixed},i(e,[{key:'type',get:function(){return'fixed'}},{key:'name',get:function(){return 0===this.fixed?'UTC':'UTC'+_t(this.fixed,'narrow')}},{key:'ianaName',get:function(){return 0===this.fixed?'Etc/UTC':'Etc/GMT'+_t(-this.fixed,'narrow')}},{key:'isUniversal',get:function(){return!0}},{key:'isValid',get:function(){return!0}}],[{key:'utcInstance',get:function(){return null===Zt&&(Zt=new e(0)),Zt}}]),e}(Lt),Wt=function(t){function e(e){var n;return(n=t.call(this)||this).zoneName=e,n}a(e,t);var n=e.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return''},n.offset=function(){return NaN},n.equals=function(){return!1},i(e,[{key:'type',get:function(){return'invalid'}},{key:'name',get:function(){return this.zoneName}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return!1}}]),e}(Lt);function Yt(t,e){if(G(t)||null===t)return e;if(t instanceof Lt)return t;if('string'==typeof t){var n=t.toLowerCase();return'default'===n?e:'local'===n||'system'===n?Ft.instance:'utc'===n||'gmt'===n?qt.utcInstance:qt.parseSpecifier(n)||zt.create(t)}return J(t)?qt.instance(t):'object'==typeof t&&t.offset&&'number'==typeof t.offset?t:new Wt(t)}var Bt,Gt=function(){return Date.now()},Jt='system',$t=null,Kt=null,Qt=null,Xt=function(){function t(){}return t.resetCaches=function(){de.resetCache(),zt.resetCache()},i(t,null,[{key:'now',get:function(){return Gt},set:function(t){Gt=t}},{key:'defaultZone',get:function(){return Yt(Jt,Ft.instance)},set:function(t){Jt=t}},{key:'defaultLocale',get:function(){return $t},set:function(t){$t=t}},{key:'defaultNumberingSystem',get:function(){return Kt},set:function(t){Kt=t}},{key:'defaultOutputCalendar',get:function(){return Qt},set:function(t){Qt=t}},{key:'throwOnInvalid',get:function(){return Bt},set:function(t){Bt=t}}]),t}(),te=['base'],ee=['padTo','floor'],ne={};var re={};function ie(t,e){void 0===e&&(e={});var n=JSON.stringify([t,e]),r=re[n];return r||(r=new Intl.DateTimeFormat(t,e),re[n]=r),r}var oe={};var ae={};var ue=null;function se(t,e,n,r,i){var o=t.listingMode(n);return'error'===o?null:'en'===o?r(e):i(e)}var ce=function(){function t(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1,n.padTo,n.floor;var r=d(n,ee);if(!e||Object.keys(r).length>0){var i=o({useGrouping:!1},n);n.padTo>0&&(i.minimumIntegerDigits=n.padTo),this.inf=function(t,e){void 0===e&&(e={});var n=JSON.stringify([t,e]),r=oe[n];return r||(r=new Intl.NumberFormat(t,e),oe[n]=r),r}(t,i)}}return t.prototype.format=function(t){if(this.inf){var e=this.floor?Math.floor(t):t;return this.inf.format(e)}return et(this.floor?Math.floor(t):ot(t,3),this.padTo)},t}(),le=function(){function t(t,e,n){var r;if(this.opts=n,t.zone.isUniversal){var i=t.offset/60*-1,a=i>=0?'Etc/GMT+'+i:'Etc/GMT'+i;0!==t.offset&&zt.create(a).valid?(r=a,this.dt=t):(r='UTC',n.timeZoneName?this.dt=t:this.dt=0===t.offset?t:fr.fromMillis(t.ts+60*t.offset*1e3))}else'system'===t.zone.type?this.dt=t:(this.dt=t,r=t.zone.name);var u=o({},this.opts);r&&(u.timeZone=r),this.dtf=ie(e,u)}var e=t.prototype;return e.format=function(){return this.dtf.format(this.dt.toJSDate())},e.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},e.resolvedOptions=function(){return this.dtf.resolvedOptions()},t}(),fe=function(){function t(t,e,n){this.opts=o({style:'long'},n),!e&&K()&&(this.rtf=function(t,e){void 0===e&&(e={});var n=e;n.base;var r=d(n,te),i=JSON.stringify([t,r]),o=ae[i];return o||(o=new Intl.RelativeTimeFormat(t,e),ae[i]=o),o}(t,n))}var e=t.prototype;return e.format=function(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,n,r){void 0===n&&(n='always'),void 0===r&&(r=!1);var i={years:['year','yr.'],quarters:['quarter','qtr.'],months:['month','mo.'],weeks:['week','wk.'],days:['day','day','days'],hours:['hour','hr.'],minutes:['minute','min.'],seconds:['second','sec.']},o=-1===['hours','minutes','seconds'].indexOf(t);if('auto'===n&&o){var a='days'===t;switch(e){case 1:return a?'tomorrow':'next '+i[t][0];case-1:return a?'yesterday':'last '+i[t][0];case 0:return a?'today':'this '+i[t][0]}}var u=Object.is(e,-0)||e<0,s=Math.abs(e),c=1===s,l=i[t],f=r?c?l[1]:l[2]||l[1]:c?i[t][0]:t;return u?s+' '+f+' ago':'in '+s+' '+f}(e,t,this.opts.numeric,'long'!==this.opts.style)},e.formatToParts=function(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]},t}(),de=function(){function t(t,e,n,r){var i=function(t){var e=t.indexOf('-u-');if(-1===e)return[t];var n,r=t.substring(0,e);try{n=ie(t).resolvedOptions()}catch(t){n=ie(r).resolvedOptions()}var i=n;return[r,i.numberingSystem,i.calendar]}(t),o=i[0],a=i[1],u=i[2];this.locale=o,this.numberingSystem=e||a||null,this.outputCalendar=n||u||null,this.intl=function(t,e,n){return n||e?(t+='-u',n&&(t+='-ca-'+n),e&&(t+='-nu-'+e),t):t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}t.fromOpts=function(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)},t.create=function(e,n,r,i){void 0===i&&(i=!1);var o=e||Xt.defaultLocale;return new t(o||(i?'en-US':ue||(ue=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||Xt.defaultNumberingSystem,r||Xt.defaultOutputCalendar,o)},t.resetCache=function(){ue=null,re={},oe={},ae={}},t.fromObject=function(e){var n=void 0===e?{}:e,r=n.locale,i=n.numberingSystem,o=n.outputCalendar;return t.create(r,i,o)};var e=t.prototype;return e.listingMode=function(){var t=this.isEnglish(),e=!(null!==this.numberingSystem&&'latn'!==this.numberingSystem||null!==this.outputCalendar&&'gregory'!==this.outputCalendar);return t&&e?'en':'intl'},e.clone=function(e){return e&&0!==Object.getOwnPropertyNames(e).length?t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this},e.redefaultToEN=function(t){return void 0===t&&(t={}),this.clone(o({},t,{defaultToEN:!0}))},e.redefaultToSystem=function(t){return void 0===t&&(t={}),this.clone(o({},t,{defaultToEN:!1}))},e.months=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!0),se(this,t,n,bt,(function(){var n=e?{month:t,day:'numeric'}:{month:t},i=e?'format':'standalone';return r.monthsCache[i][t]||(r.monthsCache[i][t]=function(t){for(var e=[],n=1;n<=12;n++){var r=fr.utc(2016,n,1);e.push(t(r))}return e}((function(t){return r.extract(t,n,'month')}))),r.monthsCache[i][t]}))},e.weekdays=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!0),se(this,t,n,It,(function(){var n=e?{weekday:t,year:'numeric',month:'long',day:'numeric'}:{weekday:t},i=e?'format':'standalone';return r.weekdaysCache[i][t]||(r.weekdaysCache[i][t]=function(t){for(var e=[],n=1;n<=7;n++){var r=fr.utc(2016,11,13+n);e.push(t(r))}return e}((function(t){return r.extract(t,n,'weekday')}))),r.weekdaysCache[i][t]}))},e.meridiems=function(t){var e=this;return void 0===t&&(t=!0),se(this,void 0,t,(function(){return Nt}),(function(){if(!e.meridiemCache){var t={hour:'numeric',hourCycle:'h12'};e.meridiemCache=[fr.utc(2016,11,13,9),fr.utc(2016,11,13,19)].map((function(n){return e.extract(n,t,'dayperiod')}))}return e.meridiemCache}))},e.eras=function(t,e){var n=this;return void 0===e&&(e=!0),se(this,t,e,At,(function(){var e={era:t};return n.eraCache[t]||(n.eraCache[t]=[fr.utc(-40,1,1),fr.utc(2017,1,1)].map((function(t){return n.extract(t,e,'era')}))),n.eraCache[t]}))},e.extract=function(t,e,n){var r=this.dtFormatter(t,e).formatToParts().find((function(t){return t.type.toLowerCase()===n}));return r?r.value:null},e.numberFormatter=function(t){return void 0===t&&(t={}),new ce(this.intl,t.forceSimple||this.fastNumbers,t)},e.dtFormatter=function(t,e){return void 0===e&&(e={}),new le(t,this.intl,e)},e.relFormatter=function(t){return void 0===t&&(t={}),new fe(this.intl,this.isEnglish(),t)},e.listFormatter=function(t){return void 0===t&&(t={}),function(t,e){void 0===e&&(e={});var n=JSON.stringify([t,e]),r=ne[n];return r||(r=new Intl.ListFormat(t,e),ne[n]=r),r}(this.intl,t)},e.isEnglish=function(){return'en'===this.locale||'en-us'===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith('en-us')},e.equals=function(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar},i(t,[{key:'fastNumbers',get:function(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||'latn'===t.numberingSystem)&&('latn'===t.numberingSystem||!t.locale||t.locale.startsWith('en')||'latn'===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),t}();function he(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return t+e.source}),'');return RegExp('^'+r+'$')}function me(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(e,n){var r=e[0],i=e[1],a=e[2],u=n(t,a),s=u[0],c=u[1],l=u[2];return[o({},r,s),c||i,l]}),[{},null,1]).slice(0,2)}}function pe(t){if(null==t)return[null,null];for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i],u=a[0],s=a[1],c=u.exec(t);if(c)return s(c)}return[null,null]}function _e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){var r,i={};for(r=0;r<e.length;r++)i[e[r]]=nt(t[n+r]);return[i,null,n+r]}}var ve=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,ye=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,ge=RegExp(''+ye.source+('(?:'+ve.source+'?(?:\\\\[('+yt.source+')\\\\])?)?')),Se=RegExp('(?:T'+ge.source+')?'),we=_e('weekYear','weekNumber','weekDay'),be=_e('year','ordinal'),Oe=RegExp(ye.source+' ?(?:'+ve.source+'|('+yt.source+'))?'),Ee=RegExp('(?: '+Oe.source+')?');function Te(t,e,n){var r=t[e];return G(r)?n:nt(r)}function Ie(t,e){return[{hours:Te(t,e,0),minutes:Te(t,e+1,0),seconds:Te(t,e+2,0),milliseconds:it(t[e+3])},null,e+4]}function Ne(t,e){var n=!t[e]&&!t[e+1],r=ht(t[e+1],t[e+2]);return[{},n?null:qt.instance(r),e+3]}function Ce(t,e){return[{},t[e]?zt.create(t[e]):null,e+1]}var Me=RegExp('^T?'+ye.source+'$'),ke=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function Ae(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l='-'===e[0],f=s&&'-'===s[0],d=function(t,e){return void 0===e&&(e=!1),void 0!==t&&(e||t&&l)?-t:t};return[{years:d(rt(n)),months:d(rt(r)),weeks:d(rt(i)),days:d(rt(o)),hours:d(rt(a)),minutes:d(rt(u)),seconds:d(rt(s),'-0'===s),milliseconds:d(it(c),f)}]}var De={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Re(t,e,n,r,i,o,a){var u={year:2===e.length?ft(nt(e)):nt(e),month:St.indexOf(n)+1,day:nt(r),hour:nt(i),minute:nt(o)};return a&&(u.second=nt(a)),t&&(u.weekday=t.length>3?Ot.indexOf(t)+1:Et.indexOf(t)+1),u}var xe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Ve(t){var e,n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],d=t[11],h=Re(n,o,i,r,a,u,s);return e=c?De[c]:l?0:ht(f,d),[h,new qt(e)]}var Le=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Pe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Fe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Ue(t){var e=t[1],n=t[2],r=t[3];return[Re(e,t[4],r,n,t[5],t[6],t[7]),qt.utcInstance]}function je(t){var e=t[1],n=t[2],r=t[3],i=t[4],o=t[5],a=t[6];return[Re(e,t[7],n,r,i,o,a),qt.utcInstance]}var He=he(/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,Se),ze=he(/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,Se),Ze=he(/(\\d{4})-?(\\d{3})/,Se),qe=he(ge),We=me((function(t,e){return[{year:Te(t,e),month:Te(t,e+1,1),day:Te(t,e+2,1)},null,e+3]}),Ie,Ne,Ce),Ye=me(we,Ie,Ne,Ce),Be=me(be,Ie,Ne,Ce),Ge=me(Ie,Ne,Ce);var Je=me(Ie);var $e=he(/(\\d{4})-(\\d\\d)-(\\d\\d)/,Ee),Ke=he(Oe),Qe=me(Ie,Ne,Ce);var Xe={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},tn=o({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Xe),en=o({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Xe),nn=['years','quarters','months','weeks','days','hours','minutes','seconds','milliseconds'],rn=nn.slice(0).reverse();function on(t,e,n){void 0===n&&(n=!1);var r={values:n?e.values:o({},t.values,e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new un(r)}function an(t,e,n,r,i){var o=t[i][n],a=e[n]/o,u=!(Math.sign(a)===Math.sign(r[i]))&&0!==r[i]&&Math.abs(a)<=1?function(t){return t<0?Math.floor(t):Math.ceil(t)}(a):Math.trunc(a);r[i]+=u,e[n]-=u*o}var un=function(){function t(t){var e='longterm'===t.conversionAccuracy||!1,n=e?en:tn;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||de.create(),this.conversionAccuracy=e?'longterm':'casual',this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}t.fromMillis=function(e,n){return t.fromObject({milliseconds:e},n)},t.fromObject=function(e,n){if(void 0===n&&(n={}),null==e||'object'!=typeof e)throw new w('Duration.fromObject: argument expected to be an object, got '+(null===e?'null':typeof e));return new t({values:pt(e,t.normalizeUnit),loc:de.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})},t.fromDurationLike=function(e){if(J(e))return t.fromMillis(e);if(t.isDuration(e))return e;if('object'==typeof e)return t.fromObject(e);throw new w('Unknown duration argument '+e+' of type '+typeof e)},t.fromISO=function(e,n){var r=function(t){return pe(t,[ke,Ae])}(e)[0];return r?t.fromObject(r,n):t.invalid('unparsable','the input \"'+e+'\" can\\'t be parsed as ISO 8601')},t.fromISOTime=function(e,n){var r=function(t){return pe(t,[Me,Je])}(e)[0];return r?t.fromObject(r,n):t.invalid('unparsable','the input \"'+e+'\" can\\'t be parsed as ISO 8601')},t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new w('need to specify a reason the Duration is invalid');var r=e instanceof Vt?e:new Vt(e,n);if(Xt.throwOnInvalid)throw new y(r);return new t({invalid:r})},t.normalizeUnit=function(t){var e={year:'years',years:'years',quarter:'quarters',quarters:'quarters',month:'months',months:'months',week:'weeks',weeks:'weeks',day:'days',days:'days',hour:'hours',hours:'hours',minute:'minutes',minutes:'minutes',second:'seconds',seconds:'seconds',millisecond:'milliseconds',milliseconds:'milliseconds'}[t?t.toLowerCase():t];if(!e)throw new S(t);return e},t.isDuration=function(t){return t&&t.isLuxonDuration||!1};var e=t.prototype;return e.toFormat=function(t,e){void 0===e&&(e={});var n=o({},e,{floor:!1!==e.round&&!1!==e.floor});return this.isValid?xt.create(this.loc,n).formatDurationFromString(this,t):'Invalid Duration'},e.toHuman=function(t){var e=this;void 0===t&&(t={});var n=nn.map((function(n){var r=e.values[n];return G(r)?null:e.loc.numberFormatter(o({style:'unit',unitDisplay:'long'},t,{unit:n.slice(0,-1)})).format(r)})).filter((function(t){return t}));return this.loc.listFormatter(o({type:'conjunction',style:t.listStyle||'narrow'},t)).format(n)},e.toObject=function(){return this.isValid?o({},this.values):{}},e.toISO=function(){if(!this.isValid)return null;var t='P';return 0!==this.years&&(t+=this.years+'Y'),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+'M'),0!==this.weeks&&(t+=this.weeks+'W'),0!==this.days&&(t+=this.days+'D'),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+='T'),0!==this.hours&&(t+=this.hours+'H'),0!==this.minutes&&(t+=this.minutes+'M'),0===this.seconds&&0===this.milliseconds||(t+=ot(this.seconds+this.milliseconds/1e3,3)+'S'),'P'===t&&(t+='T0S'),t},e.toISOTime=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var e=this.toMillis();if(e<0||e>=864e5)return null;t=o({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:'extended'},t);var n=this.shiftTo('hours','minutes','seconds','milliseconds'),r='basic'===t.format?'hhmm':'hh:mm';t.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+='basic'===t.format?'ss':':ss',t.suppressMilliseconds&&0===n.milliseconds||(r+='.SSS'));var i=n.toFormat(r);return t.includePrefix&&(i='T'+i),i},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as('milliseconds')},e.valueOf=function(){return this.toMillis()},e.plus=function(e){if(!this.isValid)return this;for(var n,r=t.fromDurationLike(e),i={},o=m(nn);!(n=o()).done;){var a=n.value;(X(r.values,a)||X(this.values,a))&&(i[a]=r.get(a)+this.get(a))}return on(this,{values:i},!0)},e.minus=function(e){if(!this.isValid)return this;var n=t.fromDurationLike(e);return this.plus(n.negate())},e.mapUnits=function(t){if(!this.isValid)return this;for(var e={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];e[i]=mt(t(this.values[i],i))}return on(this,{values:e},!0)},e.get=function(e){return this[t.normalizeUnit(e)]},e.set=function(e){return this.isValid?on(this,{values:o({},this.values,pt(e,t.normalizeUnit))}):this},e.reconfigure=function(t){var e=void 0===t?{}:t,n=e.locale,r=e.numberingSystem,i=e.conversionAccuracy,o=e.matrix;return on(this,{loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:o,conversionAccuracy:i})},e.as=function(t){return this.isValid?this.shiftTo(t).get(t):NaN},e.normalize=function(){if(!this.isValid)return this;var t=this.toObject();return function(t,e){rn.reduce((function(n,r){return G(e[r])?n:(n&&an(t,e,n,e,r),r)}),null)}(this.matrix,t),on(this,{values:t},!0)},e.shiftTo=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(e){return t.normalizeUnit(e)}));for(var i,o,a={},u={},s=this.toObject(),c=m(nn);!(o=c()).done;){var l=o.value;if(n.indexOf(l)>=0){i=l;var f=0;for(var d in u)f+=this.matrix[d][l]*u[d],u[d]=0;J(s[l])&&(f+=s[l]);var h=Math.trunc(f);for(var p in a[l]=h,u[l]=(1e3*f-1e3*h)/1e3,s)nn.indexOf(p)>nn.indexOf(l)&&an(this.matrix,s,p,a,l)}else J(s[l])&&(u[l]=s[l])}for(var _ in u)0!==u[_]&&(a[i]+=_===i?u[_]:u[_]/this.matrix[i][_]);return on(this,{values:a},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var t={},e=0,n=Object.keys(this.values);e<n.length;e++){var r=n[e];t[r]=0===this.values[r]?0:-this.values[r]}return on(this,{values:t},!0)},e.equals=function(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;for(var e,n=m(nn);!(e=n()).done;){var r=e.value;if(i=this.values[r],o=t.values[r],!(void 0===i||0===i?void 0===o||0===o:i===o))return!1}var i,o;return!0},i(t,[{key:'locale',get:function(){return this.isValid?this.loc.locale:null}},{key:'numberingSystem',get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:'years',get:function(){return this.isValid?this.values.years||0:NaN}},{key:'quarters',get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:'months',get:function(){return this.isValid?this.values.months||0:NaN}},{key:'weeks',get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:'days',get:function(){return this.isValid?this.values.days||0:NaN}},{key:'hours',get:function(){return this.isValid?this.values.hours||0:NaN}},{key:'minutes',get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:'seconds',get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:'milliseconds',get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:'isValid',get:function(){return null===this.invalid}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(),sn='Invalid Interval';function cn(t,e){return t&&t.isValid?e&&e.isValid?e<t?ln.invalid('end before start','The end of an interval must be after its start, but you had start='+t.toISO()+' and end='+e.toISO()):null:ln.invalid('missing or invalid end'):ln.invalid('missing or invalid start')}var ln=function(){function t(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new w('need to specify a reason the Interval is invalid');var r=e instanceof Vt?e:new Vt(e,n);if(Xt.throwOnInvalid)throw new v(r);return new t({invalid:r})},t.fromDateTimes=function(e,n){var r=dr(e),i=dr(n),o=cn(r,i);return null==o?new t({start:r,end:i}):o},t.after=function(e,n){var r=un.fromDurationLike(n),i=dr(e);return t.fromDateTimes(i,i.plus(r))},t.before=function(e,n){var r=un.fromDurationLike(n),i=dr(e);return t.fromDateTimes(i.minus(r),i)},t.fromISO=function(e,n){var r=(e||'').split('/',2),i=r[0],o=r[1];if(i&&o){var a,u,s,c;try{u=(a=fr.fromISO(i,n)).isValid}catch(o){u=!1}try{c=(s=fr.fromISO(o,n)).isValid}catch(o){c=!1}if(u&&c)return t.fromDateTimes(a,s);if(u){var l=un.fromISO(o,n);if(l.isValid)return t.after(a,l)}else if(c){var f=un.fromISO(i,n);if(f.isValid)return t.before(s,f)}}return t.invalid('unparsable','the input \"'+e+'\" can\\'t be parsed as ISO 8601')},t.isInterval=function(t){return t&&t.isLuxonInterval||!1};var e=t.prototype;return e.length=function(t){return void 0===t&&(t='milliseconds'),this.isValid?this.toDuration.apply(this,[t]).get(t):NaN},e.count=function(t){if(void 0===t&&(t='milliseconds'),!this.isValid)return NaN;var e=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(e,t).get(t))+1},e.hasSame=function(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(t){return!!this.isValid&&this.s>t},e.isBefore=function(t){return!!this.isValid&&this.e<=t},e.contains=function(t){return!!this.isValid&&(this.s<=t&&this.e>t)},e.set=function(e){var n=void 0===e?{}:e,r=n.start,i=n.end;return this.isValid?t.fromDateTimes(r||this.s,i||this.e):this},e.splitAt=function(){var e=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=r.map(dr).filter((function(t){return e.contains(t)})).sort(),a=[],u=this.s,s=0;u<this.e;){var c=o[s]||this.e,l=+c>+this.e?this.e:c;a.push(t.fromDateTimes(u,l)),u=l,s+=1}return a},e.splitBy=function(e){var n=un.fromDurationLike(e);if(!this.isValid||!n.isValid||0===n.as('milliseconds'))return[];for(var r,i=this.s,o=1,a=[];i<this.e;){var u=this.start.plus(n.mapUnits((function(t){return t*o})));r=+u>+this.e?this.e:u,a.push(t.fromDateTimes(i,r)),i=r,o+=1}return a},e.divideEqually=function(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]},e.overlaps=function(t){return this.e>t.s&&this.s<t.e},e.abutsStart=function(t){return!!this.isValid&&+this.e==+t.s},e.abutsEnd=function(t){return!!this.isValid&&+t.e==+this.s},e.engulfs=function(t){return!!this.isValid&&(this.s<=t.s&&this.e>=t.e)},e.equals=function(t){return!(!this.isValid||!t.isValid)&&(this.s.equals(t.s)&&this.e.equals(t.e))},e.intersection=function(e){if(!this.isValid)return this;var n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:t.fromDateTimes(n,r)},e.union=function(e){if(!this.isValid)return this;var n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return t.fromDateTimes(n,r)},t.merge=function(t){var e=t.sort((function(t,e){return t.s-e.s})).reduce((function(t,e){var n=t[0],r=t[1];return r?r.overlaps(e)||r.abutsStart(e)?[n,r.union(e)]:[n.concat([r]),e]:[n,e]}),[[],null]),n=e[0],r=e[1];return r&&n.push(r),n},t.xor=function(e){for(var n,r,i=null,o=0,a=[],u=e.map((function(t){return[{time:t.s,type:'s'},{time:t.e,type:'e'}]})),s=m((n=Array.prototype).concat.apply(n,u).sort((function(t,e){return t.time-e.time})));!(r=s()).done;){var c=r.value;1===(o+='s'===c.type?1:-1)?i=c.time:(i&&+i!=+c.time&&a.push(t.fromDateTimes(i,c.time)),i=null)}return t.merge(a)},e.difference=function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.xor([this].concat(r)).map((function(t){return e.intersection(t)})).filter((function(t){return t&&!t.isEmpty()}))},e.toString=function(){return this.isValid?'['+this.s.toISO()+' – '+this.e.toISO()+')':sn},e.toISO=function(t){return this.isValid?this.s.toISO(t)+'/'+this.e.toISO(t):sn},e.toISODate=function(){return this.isValid?this.s.toISODate()+'/'+this.e.toISODate():sn},e.toISOTime=function(t){return this.isValid?this.s.toISOTime(t)+'/'+this.e.toISOTime(t):sn},e.toFormat=function(t,e){var n=(void 0===e?{}:e).separator,r=void 0===n?' – ':n;return this.isValid?''+this.s.toFormat(t)+r+this.e.toFormat(t):sn},e.toDuration=function(t,e){return this.isValid?this.e.diff(this.s,t,e):un.invalid(this.invalidReason)},e.mapEndpoints=function(e){return t.fromDateTimes(e(this.s),e(this.e))},i(t,[{key:'start',get:function(){return this.isValid?this.s:null}},{key:'end',get:function(){return this.isValid?this.e:null}},{key:'isValid',get:function(){return null===this.invalidReason}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(),fn=function(){function t(){}return t.hasDST=function(t){void 0===t&&(t=Xt.defaultZone);var e=fr.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset},t.isValidIANAZone=function(t){return zt.isValidZone(t)},t.normalizeZone=function(t){return Yt(t,Xt.defaultZone)},t.months=function(t,e){void 0===t&&(t='long');var n=void 0===e?{}:e,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,u=n.locObj,s=void 0===u?null:u,c=n.outputCalendar,l=void 0===c?'gregory':c;return(s||de.create(i,a,l)).months(t)},t.monthsFormat=function(t,e){void 0===t&&(t='long');var n=void 0===e?{}:e,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,u=n.locObj,s=void 0===u?null:u,c=n.outputCalendar,l=void 0===c?'gregory':c;return(s||de.create(i,a,l)).months(t,!0)},t.weekdays=function(t,e){void 0===t&&(t='long');var n=void 0===e?{}:e,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,u=n.locObj;return((void 0===u?null:u)||de.create(i,a,null)).weekdays(t)},t.weekdaysFormat=function(t,e){void 0===t&&(t='long');var n=void 0===e?{}:e,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,u=n.locObj;return((void 0===u?null:u)||de.create(i,a,null)).weekdays(t,!0)},t.meridiems=function(t){var e=(void 0===t?{}:t).locale,n=void 0===e?null:e;return de.create(n).meridiems()},t.eras=function(t,e){void 0===t&&(t='short');var n=(void 0===e?{}:e).locale,r=void 0===n?null:n;return de.create(r,null,'gregory').eras(t)},t.features=function(){return{relative:K()}},t}();function dn(t,e){var n=function(t){return t.toUTC(0,{keepLocalTime:!0}).startOf('day').valueOf()},r=n(e)-n(t);return Math.floor(un.fromMillis(r).as('days'))}function hn(t,e,n,r){var i=function(t,e,n){for(var r,i,o={},a=0,u=[['years',function(t,e){return e.year-t.year}],['quarters',function(t,e){return e.quarter-t.quarter+4*(e.year-t.year)}],['months',function(t,e){return e.month-t.month+12*(e.year-t.year)}],['weeks',function(t,e){var n=dn(t,e);return(n-n%7)/7}],['days',dn]];a<u.length;a++){var s=u[a],c=s[0],l=s[1];if(n.indexOf(c)>=0){var f;r=c;var d,h=l(t,e);if((i=t.plus(((f={})[c]=h,f)))>e)t=t.plus(((d={})[c]=h-1,d)),h-=1;else t=i;o[c]=h}}return[t,o,i,r]}(t,e,n),o=i[0],a=i[1],u=i[2],s=i[3],c=e-o,l=n.filter((function(t){return['hours','minutes','seconds','milliseconds'].indexOf(t)>=0}));if(0===l.length){var f;if(u<e)u=o.plus(((f={})[s]=1,f));u!==o&&(a[s]=(a[s]||0)+c/(u-o))}var d,h=un.fromObject(a,r);return l.length>0?(d=un.fromMillis(c,r)).shiftTo.apply(d,l).plus(h):h}var mn={arab:'[٠-٩]',arabext:'[۰-۹]',bali:'[᭐-᭙]',beng:'[০-৯]',deva:'[०-९]',fullwide:'[０-９]',gujr:'[૦-૯]',hanidec:'[〇|一|二|三|四|五|六|七|八|九]',khmr:'[០-៩]',knda:'[೦-೯]',laoo:'[໐-໙]',limb:'[᥆-᥏]',mlym:'[൦-൯]',mong:'[᠐-᠙]',mymr:'[၀-၉]',orya:'[୦-୯]',tamldec:'[௦-௯]',telu:'[౦-౯]',thai:'[๐-๙]',tibt:'[༠-༩]',latn:'\\\\d'},pn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_n=mn.hanidec.replace(/[\\[|\\]]/g,'').split('');function vn(t,e){var n=t.numberingSystem;return void 0===e&&(e=''),new RegExp(''+mn[n||'latn']+e)}function yn(t,e){return void 0===e&&(e=function(t){return t}),{regex:t,deser:function(t){var n=t[0];return e(function(t){var e=parseInt(t,10);if(isNaN(e)){e='';for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);if(-1!==t[n].search(mn.hanidec))e+=_n.indexOf(t[n]);else for(var i in pn){var o=pn[i],a=o[0],u=o[1];r>=a&&r<=u&&(e+=r-a)}}return parseInt(e,10)}return e}(n))}}}var gn='[ '+String.fromCharCode(160)+']',Sn=new RegExp(gn,'g');function wn(t){return t.replace(/\\./g,'\\\\.?').replace(Sn,gn)}function bn(t){return t.replace(/\\./g,'').replace(Sn,' ').toLowerCase()}function On(t,e){return null===t?null:{regex:RegExp(t.map(wn).join('|')),deser:function(n){var r=n[0];return t.findIndex((function(t){return bn(r)===bn(t)}))+e}}}function En(t,e){return{regex:t,deser:function(t){return ht(t[1],t[2])},groups:e}}function Tn(t){return{regex:t,deser:function(t){return t[0]}}}var In={year:{'2-digit':'yy',numeric:'yyyyy'},month:{numeric:'M','2-digit':'MM',short:'MMM',long:'MMMM'},day:{numeric:'d','2-digit':'dd'},weekday:{short:'EEE',long:'EEEE'},dayperiod:'a',dayPeriod:'a',hour:{numeric:'h','2-digit':'hh'},minute:{numeric:'m','2-digit':'mm'},second:{numeric:'s','2-digit':'ss'},timeZoneName:{long:'ZZZZZ',short:'ZZZ'}};var Nn=null;function Cn(t,e){var n;return(n=Array.prototype).concat.apply(n,t.map((function(t){return function(t,e){if(t.literal)return t;var n=kn(xt.macroTokenToFormatOpts(t.val),e);return null==n||n.includes(void 0)?t:n}(t,e)})))}function Mn(t,e,n){var r=Cn(xt.parseFormat(n),t),i=r.map((function(e){return n=e,i=vn(r=t),o=vn(r,'{2}'),a=vn(r,'{3}'),u=vn(r,'{4}'),s=vn(r,'{6}'),c=vn(r,'{1,2}'),l=vn(r,'{1,3}'),f=vn(r,'{1,6}'),d=vn(r,'{1,9}'),h=vn(r,'{2,4}'),m=vn(r,'{4,6}'),p=function(t){return{regex:RegExp((e=t.val,e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,'\\\\$&'))),deser:function(t){return t[0]},literal:!0};var e},(_=function(t){if(n.literal)return p(t);switch(t.val){case'G':return On(r.eras('short',!1),0);case'GG':return On(r.eras('long',!1),0);case'y':return yn(f);case'yy':return yn(h,ft);case'yyyy':return yn(u);case'yyyyy':return yn(m);case'yyyyyy':return yn(s);case'M':return yn(c);case'MM':return yn(o);case'MMM':return On(r.months('short',!0,!1),1);case'MMMM':return On(r.months('long',!0,!1),1);case'L':return yn(c);case'LL':return yn(o);case'LLL':return On(r.months('short',!1,!1),1);case'LLLL':return On(r.months('long',!1,!1),1);case'd':return yn(c);case'dd':return yn(o);case'o':return yn(l);case'ooo':return yn(a);case'HH':return yn(o);case'H':return yn(c);case'hh':return yn(o);case'h':return yn(c);case'mm':return yn(o);case'm':case'q':return yn(c);case'qq':return yn(o);case's':return yn(c);case'ss':return yn(o);case'S':return yn(l);case'SSS':return yn(a);case'u':return Tn(d);case'uu':return Tn(c);case'uuu':return yn(i);case'a':return On(r.meridiems(),0);case'kkkk':return yn(u);case'kk':return yn(h,ft);case'W':return yn(c);case'WW':return yn(o);case'E':case'c':return yn(i);case'EEE':return On(r.weekdays('short',!1,!1),1);case'EEEE':return On(r.weekdays('long',!1,!1),1);case'ccc':return On(r.weekdays('short',!0,!1),1);case'cccc':return On(r.weekdays('long',!0,!1),1);case'Z':case'ZZ':return En(new RegExp('([+-]'+c.source+')(?::('+o.source+'))?'),2);case'ZZZ':return En(new RegExp('([+-]'+c.source+')('+o.source+')?'),2);case'z':return Tn(/[a-z_+-/]{1,256}?/i);default:return p(t)}}(n)||{invalidReason:'missing Intl.DateTimeFormat.formatToParts support'}).token=n,_;var n,r,i,o,a,u,s,c,l,f,d,h,m,p,_})),o=i.find((function(t){return t.invalidReason}));if(o)return{input:e,tokens:r,invalidReason:o.invalidReason};var a=function(t){return['^'+t.map((function(t){return t.regex})).reduce((function(t,e){return t+'('+e.source+')'}),'')+'$',t]}(i),u=a[0],s=a[1],c=RegExp(u,'i'),l=function(t,e,n){var r=t.match(e);if(r){var i={},o=1;for(var a in n)if(X(n,a)){var u=n[a],s=u.groups?u.groups+1:1;!u.literal&&u.token&&(i[u.token.val[0]]=u.deser(r.slice(o,o+s))),o+=s}return[r,i]}return[r,{}]}(e,c,s),f=l[0],d=l[1],h=d?function(t){var e,n=null;return G(t.z)||(n=zt.create(t.z)),G(t.Z)||(n||(n=new qt(t.Z)),e=t.Z),G(t.q)||(t.M=3*(t.q-1)+1),G(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),G(t.u)||(t.S=it(t.u)),[Object.keys(t).reduce((function(e,n){var r=function(t){switch(t){case'S':return'millisecond';case's':return'second';case'm':return'minute';case'h':case'H':return'hour';case'd':return'day';case'o':return'ordinal';case'L':case'M':return'month';case'y':return'year';case'E':case'c':return'weekday';case'W':return'weekNumber';case'k':return'weekYear';case'q':return'quarter';default:return null}}(n);return r&&(e[r]=t[n]),e}),{}),n,e]}(d):[null,null,void 0],m=h[0],p=h[1],_=h[2];if(X(d,'a')&&X(d,'H'))throw new g('Can\\'t include meridiem when specifying 24-hour format');return{input:e,tokens:r,regex:c,rawMatches:f,matches:d,result:m,zone:p,specificOffset:_}}function kn(t,e){return t?xt.create(e,t).formatDateTimeParts((Nn||(Nn=fr.fromMillis(1555555555555)),Nn)).map((function(e){return function(t,e,n){var r=t.type,i=t.value;if('literal'===r)return{literal:!0,val:i};var o=n[r],a=In[r];return'object'==typeof a&&(a=a[o]),a?{literal:!1,val:a}:void 0}(e,0,t)})):null}var An=[0,31,59,90,120,151,181,212,243,273,304,334],Dn=[0,31,60,91,121,152,182,213,244,274,305,335];function Rn(t,e){return new Vt('unit out of range','you specified '+e+' (of type '+typeof e+') as a '+t+', which is invalid')}function xn(t,e,n){var r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var i=r.getUTCDay();return 0===i?7:i}function Vn(t,e,n){return n+(at(t)?Dn:An)[e-1]}function Ln(t,e){var n=at(t)?Dn:An,r=n.findIndex((function(t){return t<e}));return{month:r+1,day:e-n[r]}}function Pn(t){var e,n=t.year,r=t.month,i=t.day,a=Vn(n,r,i),u=xn(n,r,i),s=Math.floor((a-u+10)/7);return s<1?s=lt(e=n-1):s>lt(n)?(e=n+1,s=1):e=n,o({weekYear:e,weekNumber:s,weekday:u},vt(t))}function Fn(t){var e,n=t.weekYear,r=t.weekNumber,i=t.weekday,a=xn(n,1,4),u=ut(n),s=7*r+i-a-3;s<1?s+=ut(e=n-1):s>u?(e=n+1,s-=ut(n)):e=n;var c=Ln(e,s);return o({year:e,month:c.month,day:c.day},vt(t))}function Un(t){var e=t.year;return o({year:e,ordinal:Vn(e,t.month,t.day)},vt(t))}function jn(t){var e=t.year,n=Ln(e,t.ordinal);return o({year:e,month:n.month,day:n.day},vt(t))}function Hn(t){var e=$(t.year),n=tt(t.month,1,12),r=tt(t.day,1,st(t.year,t.month));return e?n?!r&&Rn('day',t.day):Rn('month',t.month):Rn('year',t.year)}function zn(t){var e=t.hour,n=t.minute,r=t.second,i=t.millisecond,o=tt(e,0,23)||24===e&&0===n&&0===r&&0===i,a=tt(n,0,59),u=tt(r,0,59),s=tt(i,0,999);return o?a?u?!s&&Rn('millisecond',i):Rn('second',r):Rn('minute',n):Rn('hour',e)}var Zn='Invalid DateTime';function qn(t){return new Vt('unsupported zone','the zone \"'+t.name+'\" is not supported')}function Wn(t){return null===t.weekData&&(t.weekData=Pn(t.c)),t.weekData}function Yn(t,e){var n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new fr(o({},n,e,{old:n}))}function Bn(t,e,n){var r=t-60*e*1e3,i=n.offset(r);if(e===i)return[r,e];r-=60*(i-e)*1e3;var o=n.offset(r);return i===o?[r,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Gn(t,e){var n=new Date(t+=60*e*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Jn(t,e,n){return Bn(ct(t),e,n)}function $n(t,e){var n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),a=o({},t.c,{year:r,month:i,day:Math.min(t.c.day,st(r,i))+Math.trunc(e.days)+7*Math.trunc(e.weeks)}),u=un.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as('milliseconds'),s=Bn(ct(a),n,t.zone),c=s[0],l=s[1];return 0!==u&&(c+=u,l=t.zone.offset(c)),{ts:c,o:l}}function Kn(t,e,n,r,i,a){var u=n.setZone,s=n.zone;if(t&&0!==Object.keys(t).length){var c=e||s,l=fr.fromObject(t,o({},n,{zone:c,specificOffset:a}));return u?l:l.setZone(s)}return fr.invalid(new Vt('unparsable','the input \"'+i+'\" can\\'t be parsed as '+r))}function Qn(t,e,n){return void 0===n&&(n=!0),t.isValid?xt.create(de.create('en-US'),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Xn(t,e){var n=t.c.year>9999||t.c.year<0,r='';return n&&t.c.year>=0&&(r+='+'),r+=et(t.c.year,n?6:4),e?(r+='-',r+=et(t.c.month),r+='-',r+=et(t.c.day)):(r+=et(t.c.month),r+=et(t.c.day)),r}function tr(t,e,n,r,i,o){var a=et(t.c.hour);return e?(a+=':',a+=et(t.c.minute),0===t.c.second&&n||(a+=':')):a+=et(t.c.minute),0===t.c.second&&n||(a+=et(t.c.second),0===t.c.millisecond&&r||(a+='.',a+=et(t.c.millisecond,3))),i&&(t.isOffsetFixed&&0===t.offset&&!o?a+='Z':t.o<0?(a+='-',a+=et(Math.trunc(-t.o/60)),a+=':',a+=et(Math.trunc(-t.o%60))):(a+='+',a+=et(Math.trunc(t.o/60)),a+=':',a+=et(Math.trunc(t.o%60)))),o&&(a+='['+t.zone.ianaName+']'),a}var er={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},nr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ir=['year','month','day','hour','minute','second','millisecond'],or=['weekYear','weekNumber','weekday','hour','minute','second','millisecond'],ar=['year','ordinal','hour','minute','second','millisecond'];function ur(t){var e={year:'year',years:'year',month:'month',months:'month',day:'day',days:'day',hour:'hour',hours:'hour',minute:'minute',minutes:'minute',quarter:'quarter',quarters:'quarter',second:'second',seconds:'second',millisecond:'millisecond',milliseconds:'millisecond',weekday:'weekday',weekdays:'weekday',weeknumber:'weekNumber',weeksnumber:'weekNumber',weeknumbers:'weekNumber',weekyear:'weekYear',weekyears:'weekYear',ordinal:'ordinal'}[t.toLowerCase()];if(!e)throw new S(t);return e}function sr(t,e){var n,r,i=Yt(e.zone,Xt.defaultZone),o=de.fromObject(e),a=Xt.now();if(G(t.year))n=a;else{for(var u,s=m(ir);!(u=s()).done;){var c=u.value;G(t[c])&&(t[c]=er[c])}var l=Hn(t)||zn(t);if(l)return fr.invalid(l);var f=Jn(t,i.offset(a),i);n=f[0],r=f[1]}return new fr({ts:n,zone:i,loc:o,o:r})}function cr(t,e,n){var r=!!G(n.round)||n.round,i=function(t,i){return t=ot(t,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(t,i)},o=function(r){return n.calendary?e.hasSame(t,r)?0:e.startOf(r).diff(t.startOf(r),r).get(r):e.diff(t,r).get(r)};if(n.unit)return i(o(n.unit),n.unit);for(var a,u=m(n.units);!(a=u()).done;){var s=a.value,c=o(s);if(Math.abs(c)>=1)return i(c,s)}return i(t>e?-0:0,n.units[n.units.length-1])}function lr(t){var e,n={};return t.length>0&&'object'==typeof t[t.length-1]?(n=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[n,e]}var fr=function(){function t(t){var e=t.zone||Xt.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new Vt('invalid input'):null)||(e.isValid?null:qn(e));this.ts=G(t.ts)?Xt.now():t.ts;var r=null,i=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e)){var o=[t.old.c,t.old.o];r=o[0],i=o[1]}else{var a=e.offset(this.ts);r=Gn(this.ts,a),r=(n=Number.isNaN(r.year)?new Vt('invalid input'):null)?null:r,i=n?null:a}this._zone=e,this.loc=t.loc||de.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}t.now=function(){return new t({})},t.local=function(){var t=lr(arguments),e=t[0],n=t[1],r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6];return sr({year:r,month:i,day:o,hour:a,minute:u,second:s,millisecond:c},e)},t.utc=function(){var t=lr(arguments),e=t[0],n=t[1],r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6];return e.zone=qt.utcInstance,sr({year:r,month:i,day:o,hour:a,minute:u,second:s,millisecond:c},e)},t.fromJSDate=function(e,n){void 0===n&&(n={});var r,i=(r=e,'[object Date]'===Object.prototype.toString.call(r)?e.valueOf():NaN);if(Number.isNaN(i))return t.invalid('invalid input');var o=Yt(n.zone,Xt.defaultZone);return o.isValid?new t({ts:i,zone:o,loc:de.fromObject(n)}):t.invalid(qn(o))},t.fromMillis=function(e,n){if(void 0===n&&(n={}),J(e))return e<-864e13||e>864e13?t.invalid('Timestamp out of range'):new t({ts:e,zone:Yt(n.zone,Xt.defaultZone),loc:de.fromObject(n)});throw new w('fromMillis requires a numerical input, but received a '+typeof e+' with value '+e)},t.fromSeconds=function(e,n){if(void 0===n&&(n={}),J(e))return new t({ts:1e3*e,zone:Yt(n.zone,Xt.defaultZone),loc:de.fromObject(n)});throw new w('fromSeconds requires a numerical input')},t.fromObject=function(e,n){void 0===n&&(n={}),e=e||{};var r=Yt(n.zone,Xt.defaultZone);if(!r.isValid)return t.invalid(qn(r));var i=Xt.now(),o=G(n.specificOffset)?r.offset(i):n.specificOffset,a=pt(e,ur),u=!G(a.ordinal),s=!G(a.year),c=!G(a.month)||!G(a.day),l=s||c,f=a.weekYear||a.weekNumber,d=de.fromObject(n);if((l||u)&&f)throw new g('Can\\'t mix weekYear/weekNumber units with year/month/day or ordinals');if(c&&u)throw new g('Can\\'t mix ordinal dates with month/day');var h,p,_=f||a.weekday&&!l,v=Gn(i,o);_?(h=or,p=nr,v=Pn(v)):u?(h=ar,p=rr,v=Un(v)):(h=ir,p=er);for(var y,S=!1,w=m(h);!(y=w()).done;){var b=y.value;G(a[b])?a[b]=S?p[b]:v[b]:S=!0}var O=(_?function(t){var e=$(t.weekYear),n=tt(t.weekNumber,1,lt(t.weekYear)),r=tt(t.weekday,1,7);return e?n?!r&&Rn('weekday',t.weekday):Rn('week',t.week):Rn('weekYear',t.weekYear)}(a):u?function(t){var e=$(t.year),n=tt(t.ordinal,1,ut(t.year));return e?!n&&Rn('ordinal',t.ordinal):Rn('year',t.year)}(a):Hn(a))||zn(a);if(O)return t.invalid(O);var E=Jn(_?Fn(a):u?jn(a):a,o,r),T=new t({ts:E[0],zone:r,o:E[1],loc:d});return a.weekday&&l&&e.weekday!==T.weekday?t.invalid('mismatched weekday','you can\\'t specify both a weekday of '+a.weekday+' and a date of '+T.toISO()):T},t.fromISO=function(t,e){void 0===e&&(e={});var n=function(t){return pe(t,[He,We],[ze,Ye],[Ze,Be],[qe,Ge])}(t);return Kn(n[0],n[1],e,'ISO 8601',t)},t.fromRFC2822=function(t,e){void 0===e&&(e={});var n=function(t){return pe(function(t){return t.replace(/\\([^)]*\\)|[\\n\\t]/g,' ').replace(/(\\s\\s+)/g,' ').trim()}(t),[xe,Ve])}(t);return Kn(n[0],n[1],e,'RFC 2822',t)},t.fromHTTP=function(t,e){void 0===e&&(e={});var n=function(t){return pe(t,[Le,Ue],[Pe,Ue],[Fe,je])}(t);return Kn(n[0],n[1],e,'HTTP',e)},t.fromFormat=function(e,n,r){if(void 0===r&&(r={}),G(e)||G(n))throw new w('fromFormat requires an input string and a format');var i=r,o=i.locale,a=void 0===o?null:o,u=i.numberingSystem,s=void 0===u?null:u,c=function(t,e,n){var r=Mn(t,e,n);return[r.result,r.zone,r.specificOffset,r.invalidReason]}(de.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),e,n),l=c[0],f=c[1],d=c[2],h=c[3];return h?t.invalid(h):Kn(l,f,r,'format '+n,e,d)},t.fromString=function(e,n,r){return void 0===r&&(r={}),t.fromFormat(e,n,r)},t.fromSQL=function(t,e){void 0===e&&(e={});var n=function(t){return pe(t,[$e,We],[Ke,Qe])}(t);return Kn(n[0],n[1],e,'SQL',t)},t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new w('need to specify a reason the DateTime is invalid');var r=e instanceof Vt?e:new Vt(e,n);if(Xt.throwOnInvalid)throw new _(r);return new t({invalid:r})},t.isDateTime=function(t){return t&&t.isLuxonDateTime||!1},t.parseFormatForOpts=function(t,e){void 0===e&&(e={});var n=kn(t,de.fromObject(e));return n?n.map((function(t){return t?t.val:null})).join(''):null},t.expandFormat=function(t,e){return void 0===e&&(e={}),Cn(xt.parseFormat(t),de.fromObject(e)).map((function(t){return t.val})).join('')};var e=t.prototype;return e.get=function(t){return this[t]},e.resolvedLocaleOptions=function(t){void 0===t&&(t={});var e=xt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e.locale,numberingSystem:e.numberingSystem,outputCalendar:e.calendar}},e.toUTC=function(t,e){return void 0===t&&(t=0),void 0===e&&(e={}),this.setZone(qt.instance(t),e)},e.toLocal=function(){return this.setZone(Xt.defaultZone)},e.setZone=function(e,n){var r=void 0===n?{}:n,i=r.keepLocalTime,o=void 0!==i&&i,a=r.keepCalendarTime,u=void 0!==a&&a;if((e=Yt(e,Xt.defaultZone)).equals(this.zone))return this;if(e.isValid){var s=this.ts;if(o||u){var c=e.offset(this.ts);s=Jn(this.toObject(),c,e)[0]}return Yn(this,{ts:s,zone:e})}return t.invalid(qn(e))},e.reconfigure=function(t){var e=void 0===t?{}:t,n=e.locale,r=e.numberingSystem,i=e.outputCalendar;return Yn(this,{loc:this.loc.clone({locale:n,numberingSystem:r,outputCalendar:i})})},e.setLocale=function(t){return this.reconfigure({locale:t})},e.set=function(t){if(!this.isValid)return this;var e,n=pt(t,ur),r=!G(n.weekYear)||!G(n.weekNumber)||!G(n.weekday),i=!G(n.ordinal),a=!G(n.year),u=!G(n.month)||!G(n.day),s=a||u,c=n.weekYear||n.weekNumber;if((s||i)&&c)throw new g('Can\\'t mix weekYear/weekNumber units with year/month/day or ordinals');if(u&&i)throw new g('Can\\'t mix ordinal dates with month/day');r?e=Fn(o({},Pn(this.c),n)):G(n.ordinal)?(e=o({},this.toObject(),n),G(n.day)&&(e.day=Math.min(st(e.year,e.month),e.day))):e=jn(o({},Un(this.c),n));var l=Jn(e,this.o,this.zone);return Yn(this,{ts:l[0],o:l[1]})},e.plus=function(t){return this.isValid?Yn(this,$n(this,un.fromDurationLike(t))):this},e.minus=function(t){return this.isValid?Yn(this,$n(this,un.fromDurationLike(t).negate())):this},e.startOf=function(t){if(!this.isValid)return this;var e={},n=un.normalizeUnit(t);switch(n){case'years':e.month=1;case'quarters':case'months':e.day=1;case'weeks':case'days':e.hour=0;case'hours':e.minute=0;case'minutes':e.second=0;case'seconds':e.millisecond=0}if('weeks'===n&&(e.weekday=1),'quarters'===n){var r=Math.ceil(this.month/3);e.month=3*(r-1)+1}return this.set(e)},e.endOf=function(t){var e;return this.isValid?this.plus((e={},e[t]=1,e)).startOf(t).minus(1):this},e.toFormat=function(t,e){return void 0===e&&(e={}),this.isValid?xt.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Zn},e.toLocaleString=function(t,e){return void 0===t&&(t=I),void 0===e&&(e={}),this.isValid?xt.create(this.loc.clone(e),t).formatDateTime(this):Zn},e.toLocaleParts=function(t){return void 0===t&&(t={}),this.isValid?xt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]},e.toISO=function(t){var e=void 0===t?{}:t,n=e.format,r=void 0===n?'extended':n,i=e.suppressSeconds,o=void 0!==i&&i,a=e.suppressMilliseconds,u=void 0!==a&&a,s=e.includeOffset,c=void 0===s||s,l=e.extendedZone,f=void 0!==l&&l;if(!this.isValid)return null;var d='extended'===r,h=Xn(this,d);return h+='T',h+=tr(this,d,o,u,c,f)},e.toISODate=function(t){var e=(void 0===t?{}:t).format,n=void 0===e?'extended':e;return this.isValid?Xn(this,'extended'===n):null},e.toISOWeekDate=function(){return Qn(this,'kkkk-\\'W\\'WW-c')},e.toISOTime=function(t){var e=void 0===t?{}:t,n=e.suppressMilliseconds,r=void 0!==n&&n,i=e.suppressSeconds,o=void 0!==i&&i,a=e.includeOffset,u=void 0===a||a,s=e.includePrefix,c=void 0!==s&&s,l=e.extendedZone,f=void 0!==l&&l,d=e.format,h=void 0===d?'extended':d;return this.isValid?(c?'T':'')+tr(this,'extended'===h,o,r,u,f):null},e.toRFC2822=function(){return Qn(this,'EEE, dd LLL yyyy HH:mm:ss ZZZ',!1)},e.toHTTP=function(){return Qn(this.toUTC(),'EEE, dd LLL yyyy HH:mm:ss \\'GMT\\'')},e.toSQLDate=function(){return this.isValid?Xn(this,!0):null},e.toSQLTime=function(t){var e=void 0===t?{}:t,n=e.includeOffset,r=void 0===n||n,i=e.includeZone,o=void 0!==i&&i,a=e.includeOffsetSpace,u='HH:mm:ss.SSS';return(o||r)&&((void 0===a||a)&&(u+=' '),o?u+='z':r&&(u+='ZZ')),Qn(this,u,!0)},e.toSQL=function(t){return void 0===t&&(t={}),this.isValid?this.toSQLDate()+' '+this.toSQLTime(t):null},e.toString=function(){return this.isValid?this.toISO():Zn},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(t){if(void 0===t&&(t={}),!this.isValid)return{};var e=o({},this.c);return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(t,e,n){if(void 0===e&&(e='milliseconds'),void 0===n&&(n={}),!this.isValid||!t.isValid)return un.invalid('created by diffing an invalid DateTime');var r,i=o({locale:this.locale,numberingSystem:this.numberingSystem},n),a=(r=e,Array.isArray(r)?r:[r]).map(un.normalizeUnit),u=t.valueOf()>this.valueOf(),s=hn(u?this:t,u?t:this,a,i);return u?s.negate():s},e.diffNow=function(e,n){return void 0===e&&(e='milliseconds'),void 0===n&&(n={}),this.diff(t.now(),e,n)},e.until=function(t){return this.isValid?ln.fromDateTimes(this,t):this},e.hasSame=function(t,e){if(!this.isValid)return!1;var n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e)<=n&&n<=r.endOf(e)},e.equals=function(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)},e.toRelative=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var n=e.base||t.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0,i=['years','months','days','hours','minutes','seconds'],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),cr(n,this.plus(r),o({},e,{numeric:'always',units:i,unit:a}))},e.toRelativeCalendar=function(e){return void 0===e&&(e={}),this.isValid?cr(e.base||t.fromObject({},{zone:this.zone}),this,o({},e,{numeric:'auto',units:['years','months','days'],calendary:!0})):null},t.min=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.every(t.isDateTime))throw new w('min requires all arguments be DateTimes');return Q(n,(function(t){return t.valueOf()}),Math.min)},t.max=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.every(t.isDateTime))throw new w('max requires all arguments be DateTimes');return Q(n,(function(t){return t.valueOf()}),Math.max)},t.fromFormatExplain=function(t,e,n){void 0===n&&(n={});var r=n,i=r.locale,o=void 0===i?null:i,a=r.numberingSystem,u=void 0===a?null:a;return Mn(de.fromOpts({locale:o,numberingSystem:u,defaultToEN:!0}),t,e)},t.fromStringExplain=function(e,n,r){return void 0===r&&(r={}),t.fromFormatExplain(e,n,r)},i(t,[{key:'isValid',get:function(){return null===this.invalid}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}},{key:'locale',get:function(){return this.isValid?this.loc.locale:null}},{key:'numberingSystem',get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:'outputCalendar',get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:'zone',get:function(){return this._zone}},{key:'zoneName',get:function(){return this.isValid?this.zone.name:null}},{key:'year',get:function(){return this.isValid?this.c.year:NaN}},{key:'quarter',get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:'month',get:function(){return this.isValid?this.c.month:NaN}},{key:'day',get:function(){return this.isValid?this.c.day:NaN}},{key:'hour',get:function(){return this.isValid?this.c.hour:NaN}},{key:'minute',get:function(){return this.isValid?this.c.minute:NaN}},{key:'second',get:function(){return this.isValid?this.c.second:NaN}},{key:'millisecond',get:function(){return this.isValid?this.c.millisecond:NaN}},{key:'weekYear',get:function(){return this.isValid?Wn(this).weekYear:NaN}},{key:'weekNumber',get:function(){return this.isValid?Wn(this).weekNumber:NaN}},{key:'weekday',get:function(){return this.isValid?Wn(this).weekday:NaN}},{key:'ordinal',get:function(){return this.isValid?Un(this.c).ordinal:NaN}},{key:'monthShort',get:function(){return this.isValid?fn.months('short',{locObj:this.loc})[this.month-1]:null}},{key:'monthLong',get:function(){return this.isValid?fn.months('long',{locObj:this.loc})[this.month-1]:null}},{key:'weekdayShort',get:function(){return this.isValid?fn.weekdays('short',{locObj:this.loc})[this.weekday-1]:null}},{key:'weekdayLong',get:function(){return this.isValid?fn.weekdays('long',{locObj:this.loc})[this.weekday-1]:null}},{key:'offset',get:function(){return this.isValid?+this.o:NaN}},{key:'offsetNameShort',get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:'short',locale:this.locale}):null}},{key:'offsetNameLong',get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:'long',locale:this.locale}):null}},{key:'isOffsetFixed',get:function(){return this.isValid?this.zone.isUniversal:null}},{key:'isInDST',get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:'isInLeapYear',get:function(){return at(this.year)}},{key:'daysInMonth',get:function(){return st(this.year,this.month)}},{key:'daysInYear',get:function(){return this.isValid?ut(this.year):NaN}},{key:'weeksInWeekYear',get:function(){return this.isValid?lt(this.weekYear):NaN}}],[{key:'DATE_SHORT',get:function(){return I}},{key:'DATE_MED',get:function(){return N}},{key:'DATE_MED_WITH_WEEKDAY',get:function(){return C}},{key:'DATE_FULL',get:function(){return M}},{key:'DATE_HUGE',get:function(){return k}},{key:'TIME_SIMPLE',get:function(){return A}},{key:'TIME_WITH_SECONDS',get:function(){return D}},{key:'TIME_WITH_SHORT_OFFSET',get:function(){return R}},{key:'TIME_WITH_LONG_OFFSET',get:function(){return x}},{key:'TIME_24_SIMPLE',get:function(){return V}},{key:'TIME_24_WITH_SECONDS',get:function(){return L}},{key:'TIME_24_WITH_SHORT_OFFSET',get:function(){return P}},{key:'TIME_24_WITH_LONG_OFFSET',get:function(){return F}},{key:'DATETIME_SHORT',get:function(){return U}},{key:'DATETIME_SHORT_WITH_SECONDS',get:function(){return j}},{key:'DATETIME_MED',get:function(){return H}},{key:'DATETIME_MED_WITH_SECONDS',get:function(){return z}},{key:'DATETIME_MED_WITH_WEEKDAY',get:function(){return Z}},{key:'DATETIME_FULL',get:function(){return q}},{key:'DATETIME_FULL_WITH_SECONDS',get:function(){return W}},{key:'DATETIME_HUGE',get:function(){return Y}},{key:'DATETIME_HUGE_WITH_SECONDS',get:function(){return B}}]),t}();function dr(t){if(fr.isDateTime(t))return t;if(t&&t.valueOf&&J(t.valueOf()))return fr.fromJSDate(t);if(t&&'object'==typeof t)return fr.fromObject(t);throw new w('Unknown datetime argument: '+t+', of type '+typeof t)}e.DateTime=fr,e.Duration=un,e.FixedOffsetZone=qt,e.IANAZone=zt,e.Info=fn,e.Interval=ln,e.InvalidZone=Wt,e.Settings=Xt,e.SystemZone=Ft,e.VERSION='3.0.4',e.Zone=Lt},function(t,e,n){const{productList:r,productDetailsList:i}=n(5),{Services:o,DateTime:a}=n(2),u=n(10),s=n(1)(),c=function(){const t=[o.COMMODITES_RECEIVED,o.COMMODITES_RETURNED,o.CHV_CONSUMPTION_LOG,o.COMMODITES_DISCREPANCY_RESOLUTION,o.COMMODITY_RECEIVED_CONFRIMATION,o.COMMODITIES_DISCREPANCY_RECONCILIATION,o.COMMODITES_ORDER],e=(t,e,n=!0)=>{const r=s.getField(t,e),i=parseFloat(r);return n?Number.isNaN(i)||void 0===r?0:i:r},n=t=>{const e=i[t],n=e&&e.section||null;return n?'s_'+n:'s_'};return{latestCommodityCountReport:null,recentCommodityReports:null,stockConsumption:[],init:e=>{c.latestCommodityCountReport=s.getMostRecentReport(e,o.COMMODITES_COUNT);let n=c.latestCommodityCountReport&&c.latestCommodityCountReport.reported_date;return n||(n=new Date('1970-01-01Z00:00:00:000')),c.recentCommodityReports=u.getReportsSubmittedInWindow(e,t,n,a.now().toJSDate()),c.stockConsumption=u.getReportsSubmittedInWindow(e,[o.CHV_CONSUMPTION_LOG],a.now().minus({weeks:3}).toJSDate(),a.now().toJSDate()),c},evaluate:()=>{const t=r.reduce((t,n)=>{const r=n+'_count_final',i=c.latestCommodityCountReport?e(c.latestCommodityCountReport,r):0;return t[n]=i,t},{}),i=(a=t,c.recentCommodityReports.forEach(t=>{r.forEach(r=>{const i=n(r);if(t.form===o.COMMODITY_RECEIVED_CONFRIMATION){const n=e(t,r+'_supplied');a[r]=a[r]+n}if(t.form===o.COMMODITES_DISCREPANCY_RESOLUTION){const n=e(t,r+'_ammendment');a[r]=a[r]+n}if(t.form===o.COMMODITES_RETURNED){const n='yes'===e(t,`${i}.${r}_received`,!1)?'returned_'+r:`${i}.${r}_quantity_received`,o=e(t,n);a[r]=a[r]-o}if(t.form===o.CHV_CONSUMPTION_LOG){const n=e(t,r+'_quantity_issued');a[r]=a[r]-n}if(t.form===o.COMMODITES_ORDER){const n=e(t,`${i}.${r}_received`);a[r]=a[r]+n}if(t.form===o.COMMODITY_RETURNED_CONFIRMATION){const n=e(t,r+'_returned');a[r]=a[r]+n}if(t.form===o.COMMODITIES_DISCREPANCY_RECONCILIATION){const n=e(t,r+'_reconciliation');a[r]=a[r]+n}if(t.form===o.COMMODITES_RECEIVED){const n='yes'===e(t,`${i}.${r}_received`,!1)?'rs_'+r:`${i}.${r}_quantity_received`,o=e(t,n);a[r]=a[r]-o}})}),a);var a;const u=(t=>{const n=r.reduce((t,e)=>(t[e]=0,t),{});return t.forEach(t=>{r.forEach(r=>{const i=n[r],o=e(t,r)/3;n[r]=i+o})}),n})(c.stockConsumption);return r.reduce((t,e)=>{const n=i[e],r=Math.round(10*u[e])/10,o=Math.round(10*(0!==r?n/r:n))/10;return t[e]=`${n} ${r} ${o}`,t},{})}}}();t.exports={CommoditySummaryAlgo:c}},function(t,e){t.exports={productList:['rdts','act_6','act_12','act_18','act_24','dt_250','ors_zinc','ors_sachets','zinc_sulphate','albendazole','tetra_eye','paracetamol_120','mebendazole','coc','prog','depo_im','depo_sc','preg_strip','chlorine','gluc_strips','paracetamol_500','bandages','povi','strap','gloves','envelopes','glucometer','backpack','badge','flashlight','salter','color_salter','weighing_scale','first_aid','bp','thermometer','resp_timer','muac_tape_adults','muac_tape_children','family_muac_tape','moh_514','moh_521','moh_100','comm_daily_register','phone','safety_box','others'],productDetailsList:{rdts:{label:'RDTs (Malaria Test Kit)',units:'Kits',section:'malaria',showInCard:{chv:!0,cha:!0}},act_6:{label:'First Line Anti-Malarial (ACT/Coartem) 6 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_12:{label:'First Line Anti-Malarial (ACT/Coartem) 12 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_18:{label:'First Line Anti-Malarial (ACT/Coartem) 18 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_24:{label:'First Line Anti-Malarial (ACT/Coartem) 24 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},dt_250:{label:'Antibiotics (Amoxicillin DT 250mg ) tablets',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},ors_zinc:{label:'ORS + Zinc Co-pack',units:'Pieces',section:'child_health',showInCard:{chv:!0,cha:!0}},ors_sachets:{label:'ORS Satchets',units:'Sachets',section:'child_health',showInCard:{chv:!0,cha:!0}},zinc_sulphate:{label:'Zinc Sulphate 20mg Tablets',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},albendazole:{label:'Albendazole 400mg (Dewormers)',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},tetra_eye:{label:'Tetracycline Eye Ointment 1% tubes',units:'Tubes',section:'child_health',showInCard:{chv:!0,cha:!0}},paracetamol_120:{label:'Paracetamol 120mg/5ml suspension',units:'Bottles',section:'child_health',showInCard:{chv:!0,cha:!0}},mebendazole:{label:'Mebendazole 500mg (Dewormers) tablets',units:'Tablets',section:'reproductive',showInCard:{chv:!0,cha:!0}},coc:{label:'Combined Oral Contraceptives',units:'Cycles',section:'reproductive',showInCard:{chv:!0,cha:!0}},prog:{label:'Progestin Only pill',units:'Cycles',section:'reproductive',showInCard:{chv:!0,cha:!0}},depo_im:{label:'Depo Medroxy provera injection-IM (vials)',units:'Vials',section:'reproductive',showInCard:{chv:!0,cha:!0}},depo_sc:{label:'Depo Medroxy provera injection - SC (vials)',units:'Vials',section:'reproductive',showInCard:{chv:!0,cha:!0}},preg_strip:{label:'Pregnancy Test Strip',units:'Strips',section:'reproductive',showInCard:{chv:!0,cha:!0}},chlorine:{label:'Chlorine',units:'Tablets',section:'wash',showInCard:{chv:!0,cha:!0}},gluc_strips:{label:'Glucometer Strips',units:'Strips',section:'ncds',showInCard:{chv:!0,cha:!0}},paracetamol_500:{label:'Paracetamol Tablets, 500mg',units:'Tablets',section:'others',showInCard:{chv:!0,cha:!0}},bandages:{label:'Bandages',units:'Rolls',section:'non_pharma',showInCard:{chv:!0,cha:!0}},povi:{label:'Povidone Iodine Solution',units:'Bottles',section:'non_pharma',showInCard:{chv:!0,cha:!0}},strap:{label:'Strapping',units:'Rolls',section:'non_pharma',showInCard:{chv:!0,cha:!0}},gloves:{label:'Gloves',units:'Pairs',section:'non_pharma',showInCard:{chv:!0,cha:!0}},envelopes:{label:'Medical Dispensing Envelopes',units:'Pieces',section:'non_pharma',showInCard:{chv:!0,cha:!0}},glucometer:{label:'Glucometer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},backpack:{label:'Backpack with logo',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},badge:{label:'Badge (Name Tag)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},flashlight:{label:'Flashlight (Torch)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},salter:{label:'Salter scale',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},color_salter:{label:'Color coded salter scale',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},weighing_scale:{label:'Weighing scale (Bathroom)',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},first_aid:{label:'First Aid Kit',units:'Kits',section:'equipment',showInCard:{chv:!0,cha:!0}},bp:{label:'BP Machine',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},thermometer:{label:'Digital Thermometer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},resp_timer:{label:'Respiratory Timer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},muac_tape_adults:{label:'MUAC TAPE (Adults)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},muac_tape_children:{label:'MUAC TAPE (Children)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},family_muac_tape:{label:'Family MUAC tape (Children)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_514:{label:'Register MOH 514',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_521:{label:'Register MOH 521',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_100:{label:'Referral Form MOH 100',units:'Forms',section:'equipment',showInCard:{chv:!0,cha:!0}},comm_daily_register:{label:'Community commodity Daily Activity Register',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},phone:{label:'Mobile Phone',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},safety_box:{label:'Safety box',units:'Unit',section:'equipment',showInCard:{chv:!0,cha:!0}},others:{label:'Others',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}}}}},function(t,e,n){const r=n(2),{differenceInDays:i,differenceInYears:o,differenceInWeeks:a,getPregnancyAgeInWeeks:u,FAMILY_PLANNING_METHODS:s,PNC_PERIOD_DAYS:c,Services:l,Places:f,Persons:d,VACCINATIONS:h,getVaccinesReceived:m,countTotalVaccinesByAge:p,countTotalVitaminAVaccinesByAge:_,isEligibleForTasks:v,getNewbornHomeVisitCount:y,isEligibleNewborn:g,getLastChvSupervisionSummary:S,mapImmunizationServiceVaccineAnswers:w,isOfChildBearingAge:b,getMemberSocioEconomicSummary:O,getHouseholdSocioEconomicSummary:E,clientRegistryFields:T}=r,{DateTime:I,Interval:N}=n(3),{getField:C,getMostRecentReport:M}=n(1)(),k=t=>t.contact_type===d.CLIENT&&t.parent&&t.parent.parent&&t.parent.parent.parent&&t.parent.parent.parent.parent&&t.parent.parent.parent.parent.parent,A=Object.keys(h).filter(t=>!['measles_6','malaria'].includes(t)),D=t=>M(t,l.PREGNANCY_HOME_VISIT,{was_available:'yes'});function R(t,e){if(!k(t)||!b(t))return!1;const n=D(e);if(n){const t='true'===C(n,'marked_as_pregnant'),r='yes'===C(n,'pregnancy_screening.is_still_pregnant'),i=e.filter(t=>t.form===l.POSTNATAL_CARE&&t.reported_date>=n.reported_date&&'yes'===C(t,'group_pregnancy_status.has_delivered')),o=N.fromDateTimes(I.fromMillis(n.reported_date),I.now()).toDuration().shiftTo('months').toObject().months,u=C(n,'current_edd'),s=u.length>0&&a(new Date,u),c=s||isNaN(s)?s>0||!isNaN(s):o<=10;return(t||r)&&c&&!i.length}return!1}const x=t=>{const e=M(t,l.POSTNATAL_CARE_SERVICE),n=e?C(e,'postnatal_care_service_count'):0;return parseInt(n)};t.exports={differenceInDays:i,isPregnant:R,differenceInYears:o,isOfChildBearingAge:b,isHouseholdMember:k,buildPostnatalCard:t=>{const e={},n=[];let r=!1,o=!1,a=-1;const u=[],s=[],f=[];t.forEach(t=>{if((t=>{if(t.form===l.POSTNATAL_CARE_SERVICE&&C(t,'group_pnc_visit.date_of_delivery')){const e=C(t,'group_pnc_visit.date_of_delivery');return I.local().diff(I.fromISO(e)).as('days')<=c}return!1})(t)){n.push({label:'contact.profile.pnc.place_of_delivery',value:C(t,'group_pnc_visit.place_of_delivery_display'),width:6}),n.push({label:'contact.profile.pnc.date_of_delivery',value:I.fromISO(C(t,'group_pnc_visit.date_of_delivery')).toFormat('dd/MM/yyyy'),width:6}),n.push({label:'contact.profile.pnc.danger_signs',value:'contact.profile.pnc.danger_signs.'+('true'===C(t,'needs_danger_signs_follow_up')?'present':'none'),translate:!0,icon:'true'===C(t,'needs_danger_signs_follow_up')?'icon-warning':'',width:6}),r='dead'===C(t,'group_pnc_visit.condition_of_the_mother'),o=!0,a=Math.floor(i(new Date(C(t,'group_pnc_visit.date_of_delivery')),new Date));const c=C(t,'group_delivery_outcome.number_of_babies_alive');c&&c>0&&(C(t,'newborn_details.child').forEach(t=>{u.push(t.name.split(' ').join('_')),s.push(t.child_doc),f.push(t.identification_number||'None')}),e.baby_names=u.join(' '),e.baby_doc_ids=s.join(' '),e.baby_birth_cert_ids=f.join(' '))}}),e.days_since_delivery=a,e.is_in_pnc=!r&&o;const d=x(t);return e.pnc_follow_up_count=d>0?d+1:d,{fields:n,context:e}},buildImmunizationCard:(t,e)=>{const n=[];let i,o=[];const a={};if(t.group_immunization&&(o=o.concat(...t.group_immunization.vaccines.split(' '))),e&&e.forEach(t=>{let e;if(t.form===l.IMMUNIZATION_SERVICE){const n=C(t,'group_vaccines.vaccines_given');e=C(t,'group_vaccines.optional_vaccines_given'),n&&(o=o.concat(...w(n).split(' '))),e&&(o=o.concat(...e.split(' '))),(!i||i.reported_date<t.reported_date)&&(i=t)}else if(t.form===l.U5_ASSESSMENT){const n=C(t,'immunization_screening.vaccines');e=C(t,'immunization_screening.optional_vaccines_given'),n&&(o=o.concat(...n.split(' '))),e&&(o=o.concat(...e.split(' ')))}}),o=Array.from(new Set(o)),o.length>0){if(Object.keys(r.VACCINATIONS).forEach(t=>{a[t+'_given']=o.includes(t)?t:void 0}),i){const t=C(i,'group_immunization.next_immunization_visit_date')||C(i,'group_missed_visit.visit_date_rescheduled');a.on_immunization=!0,a.next_immunization_date=t}n.push({label:'contact.profile.immunization.confirmed',value:Array.from(new Set(o.map(t=>h[t]))).join(),width:12}),n.push({label:'contact.profile.immunization.fully_immunized',value:'contact.profile.immunization.fully_immunized.'+(u=o,u.length===A.length&&A.every(t=>u.includes(t))?'yes':'no'),translate:!0})}else n.push({label:'contact.profile.immunization.confirmed',value:'contact.profile.immunization.none',translate:!0});var u;return{fields:n,context:a}},getVitADosesGiven:(t,e)=>{let n=[];e.filter(t=>[l.IMMUNIZATION_SERVICE,l.U5_ASSESSMENT].includes(t.form)).forEach(t=>{if(t.form===l.IMMUNIZATION_SERVICE){const e=C(t,'group_vitamin_a.vitamin_a_doses_given');e&&(n=n.concat(e.split(' ')))}else if(t.form===l.U5_ASSESSMENT){const e=C(t,'vit_a_group.vit_a_received');e&&(n=n.concat(e.split(' ')))}}),n=Array.from(new Set(n));const i={};Object.keys(r.VITAMIN_A_DOSES).forEach(t=>{i[t+'_given']=n.includes(r.VITAMIN_A_DOSES[t])?1:0});const o=Object.values(i).reduce((t,e)=>t+e,0)===_(t)?1:0;return i.vitamin_a_vaccines_upto_date=o,i},dewormingChildStatus:(t,e)=>{const n=M(e,[l.U5_ASSESSMENT,l.IMMUNIZATION_SERVICE]);return n&&(n.form===l.U5_ASSESSMENT?C(n,'deworming.deworming_upto_date'):C(n,'group_deworming.has_deworming_status_uptodate'))},buildFamilyPlanningCard:t=>{const e=[],n={},r=M(t,l.FAMILY_PLANNING),i=r&&'yes'===C(r,'on_fp');if(n.is_on_fp=i,i){const t=C(r,'coalesced_fp_method'),i=C(r,'family_planning.next_appointment_date');n.fp_method=t,e.push({label:'contact.profile.family_planning.method',value:s[t],width:6}),i&&e.push({label:'contact.profile.family_planning.refill_date',value:I.fromISO(i).toFormat('dd/MM/yyyy'),width:6})}else e.push({label:'contact.profile.family_planning.method',value:'contact.profile.family_planning.method.none',translate:!0,width:6});return{fields:e,context:n}},buildPregnancyCard:(t,e)=>{if('f_client'!==t.contact_type)return;const n={},r=[],i=D(e),o=R(t,e);let a,s,c=!1,l=!1,f=!1;if(o){const t=i&&'true'===C(i,'marked_as_pregnant');c='yes'===C(i,'anc_visits.has_started_anc')||'true'===C(i,'started_anc'),s=t?i._id:C(i,'pregnancy_id'),l='yes'===C(i,'has_danger_signs'),a=C(i,'current_edd'),f='yes'===C(i,'anc_visits.anc_upto_date');const e=u(a);a&&(r.push({label:'contact.profile.pregnancy.pregnancy_age',value:e+' Weeks',width:6}),r.push({label:'contact.profile.pregnancy.edd',value:I.fromISO(a).toFormat('dd/MM/yyyy'),width:6}));const o={label:'contact.profile.pregnancy.anc_visit_status',value:'',translate:!0,width:12};o.value=f?'contact.profile.pregnancy.anc_upto_date':'contact.profile.pregnancy.anc_not_upto_date',r.push(o);const d={label:'contact.profile.pregnancy.high_risk',value:'',width:12,translate:!0,icon:'icon-warning'};l&&(d.value='contact.profile.pregnancy.danger_signs.present',r.push(d)),n.pregnancy_id=s,n.pregnancy_age_in_weeks=e}return n.anc_upto_date=f,n.pregnant=o,n.edd=a,n.started_anc=c,{fields:r,context:n}},getMostRecentReport:M,getReportedDate:t=>{const e=t&&t.reported_date&&parseInt(t.reported_date);return I.fromMillis(e||0)},Places:f,Persons:d,getVaccinesReceived:m,countTotalVaccinesByAge:p,Services:l,isEligibleForTasks:v,getNewbornHomeVisitCount:y,isEligibleNewborn:g,getLastChvSupervisionSummary:S,isFemaleOrIntersex:t=>['female','intersex'].includes(t.sex),getMemberSocioEconomicSummary:O,getHouseholdSocioEconomicSummary:E,isDiabetic:t=>{const e=M(t,l.OVER_FIVE_ASSESSMENT);return e&&'true'===e.fields.is_curr_diabetic},isHypertensive:t=>{const e=M(t,l.OVER_FIVE_ASSESSMENT);return e&&'true'===e.fields.is_curr_hypertensive},hasClientRegistryFields:t=>t&&T.every(e=>t[e])}},function(t,e,n){var r=n(8),i=n(12);t.exports=i(r,contact,reports)},function(t,e,n){const{CommoditySummaryAlgo:r}=n(4),{CommoditySummaryCard:i}=n(11),o=n(6),{isOfChildBearingAge:a,isHouseholdMember:u,buildPostnatalCard:s,getMostRecentReport:c,buildImmunizationCard:l,dewormingChildStatus:f,buildFamilyPlanningCard:d,buildPregnancyCard:h,differenceInYears:m,Places:p,Persons:_,Services:v,getVaccinesReceived:y,countTotalVaccinesByAge:g,getNewbornHomeVisitCount:S,isEligibleNewborn:w,getLastChvSupervisionSummary:b,isEligibleForTasks:O,isFemaleOrIntersex:E,getMemberSocioEconomicSummary:T,getHouseholdSocioEconomicSummary:I,isDiabetic:N,isHypertensive:C}=o,{getField:M}=n(1)(),k={};let A=[],D=[];const R=d(reports),x=h(contact,reports),V=c(reports,v.FAMILY_PLANNING),L=s(reports),P=w(contact),F=b(reports);if('f_client'===contact.contact_type&&(k.is_pregnant=x.context.pregnant,k.edd=x.context.edd,k.in_postnatal_period=L.context.in_postnatal_period,k.pregnancy_age_in_weeks=x.context.pregnancy_age_in_weeks||0,k.is_female_or_intersex=E(contact),k.demographics=T(contact,reports),k.hasDiabetes=N(reports),k.hasHypertension=C(reports)),V&&(k.on_fp=R.context.is_on_fp||!1,k.fp_method=R.context.fp_method),P&&(k.is_newborn=!0,k.delivery_uuid=contact.created_by_doc,k.place_of_birth=contact.place_of_birth,k.is_immunization_defaulter=y(reports).length!==g(contact)?'yes':'no',k.newborn_home_visit_count=S(reports)),contact.contact_type===p.CHU||contact.contact_type===p.CHV_AREA){const t=r.init(reports).evaluate();Object.assign(k,Object.keys(t).reduce((e,n)=>(e['stock_summary_'+n]=t[n],e),{}))}if('c_community_health_unit'===contact.contact_type){const t=c(reports.filter(t=>t.form===v.CHU_SUPERVISION&&t.fields.patient_id===contact._id),v.CHU_SUPERVISION);k.last_action_points=t&&M(t,'chs_tools.action_pts_sup')||''}[_.CLIENT,p.HOUSEHOLD].includes(contact.contact_type)&&(k.is_eligible_for_home_visit_service=O(contact,reports.filter(t=>M(t,'inputs.contact._id')===contact._id)),contact.contact_type===p.HOUSEHOLD&&(k.demographics=I(reports))),A=[{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.patient_id,label:'patient_id',value:contact.patient_id,width:4},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.date_of_birth,label:'contact.age',value:contact.date_of_birth,width:4,filter:'age'},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.sex,label:'contact.sex',value:'contact.sex.'+contact.sex,translate:!0,width:4},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.phone,label:'contact.phone',value:contact.phone,width:4},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.alternate_phone,label:'contact.alternate_phone',value:contact.alternate_phone,width:4},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.external_id,label:'External ID',value:contact.external_id,width:4},{appliesIf:()=>Object.values(_).includes(contact.contact_type)&&!!contact.upi,label:'contact.upi',value:contact.upi,width:4},{appliesIf:()=>Object.values(p).includes(contact.contact_type),label:'Contact',value:contact.contact&&contact.contact.name,width:4},{appliesIf:()=>Object.values(p).includes(contact.contact_type),label:'contact.phone',value:contact.contact&&contact.contact.phone,width:4},{appliesIf:()=>contact.parent&&lineage[0],label:'contact.parent',value:lineage,filter:'lineage'}],D=[i(reports),{label:'contact.profile.cr_fields',appliesToType:_.CLIENT,icon:'icon-warning',appliesIf:()=>u(contact)&&!o.hasClientRegistryFields(contact),fields:()=>[{label:'contact.profile.missing_cr_fields',value:'contact.profile.missing_cr_fields.msg',translate:!0}]},{label:'contact.profile.pnc',appliesToType:_.CLIENT,appliesIf:()=>u(contact)&&a(contact)&&L.context.is_in_pnc&&!L.context.pregnant&&E(contact),fields:()=>L.fields,modifyContext:t=>{t.is_in_pnc=L.context.is_in_pnc||!1,t.days_since_delivery=L.context.days_since_delivery||-1,t.pnc_follow_up_count=L.context.pnc_follow_up_count,t.baby_names=L.context.baby_names,t.baby_birth_cert_ids=L.context.baby_birth_cert_ids,t.baby_doc_ids=L.context.baby_doc_ids}},{label:'contact.profile.child_health_card',appliesToType:_.CLIENT,appliesIf:()=>u(contact)&&m(new Date(contact.date_of_birth),new Date)<5,fields:()=>{const t=[],e=l(contact,reports),n=f(contact,reports);return n&&t.push({label:'contact.profile.deworming_status',value:'yes'===n?'contact.profile.deworming_upto_date':'contact.profile.deworming_not_upto_date',width:6,translate:!0}),t.concat(e.fields)},modifyContext:t=>{const e=l(contact,reports);t.bcg_given=e.context.bcg_given,t.opv0_given=e.context.opv0_given,t.opv1_given=e.context.opv1_given,t.opv2_given=e.context.opv2_given,t.opv3_given=e.context.opv3_given,t.pcv1_given=e.context.pcv1_given,t.pcv2_given=e.context.pcv2_given,t.pcv3_given=e.context.pcv3_given,t.penta1_given=e.context.penta1_given,t.penta2_given=e.context.penta2_given,t.penta3_given=e.context.penta3_given,t.ipv_given=e.context.ipv_given,t.rota1_given=e.context.rota1_given,t.rota2_given=e.context.rota2_given,t.rota3_given=e.context.rota3_given,t.vit_a_given=e.context.vit_a_given,t.measles_6_given=e.context.measles_6_given,t.measles_9_given=e.context.measles_9_given,t.measles_18_given=e.context.measles_18_given,t.malaria_given=e.context.malaria_given,t.count_due_vaccines=g(contact)-y(reports.filter(t=>[v.IMMUNIZATION_SERVICE,v.U5_ASSESSMENT].includes(t.form))).length,t.is_immunization_defaulter=t.count_due_vaccines>0?'yes':'no';const n=o.getVitADosesGiven(contact,reports);Object.keys(n).forEach(e=>t[e]=n[e])}},{label:'contact.profile.family_planning',appliesToType:_.CLIENT,appliesIf:()=>u(contact)&&a(contact)&&!L.context.is_in_pnc&&!x.context.pregnant,fields:()=>R.fields,modifyContext:t=>{t.is_on_fp=R.context.is_on_fp||!1,t.fp_method=R.context.fp_method}},{label:'contact.profile.pregnancy',appliesToType:_.CLIENT,appliesIf:()=>u(contact)&&a(contact)&&x.context.pregnant&&!L.context.is_in_pnc&&E(contact),fields:()=>x.fields,modifyContext:t=>{t.pregnant=x.context.pregnant,t.pregnancy_age_in_weeks=x.context.pregnancy_age_in_weeks||0,t.edd=x.context.edd,t.pregnancy_id=x.context.pregnancy_id,t.anc_upto_date=x.anc_upto_date,t.started_anc=x.started_anc}}],contact.parent&&contact.parent.contact_type===p.CHV_AREA&&(k.calc_last_visit_date=F.last_visit_date,k.calc_last_visit_action_points=F.last_visit_action_points,k.calc_supervision_visit_count=F.supervision_visit_count),t.exports={fields:A,cards:D,context:k}},function(t,e){var n;n=function(){return this}();try{n=n||new Function('return this')()}catch(t){'object'==typeof window&&(n=window)}t.exports=n},function(t,e,n){const r=n(2),{isEligibleForTasks:i,PNC_PERIOD_DAYS:o,getVaccinesReceived:a,countTotalVaccinesByAge:u,getNewbornHomeVisitCount:s,Services:c,Persons:l}=r,{DateTime:f}=n(3),d=t=>Utils.getMostRecentReport(t,c.PREGNANCY_HOME_VISIT),h={[c.PREGNANCY_HOME_VISIT]:['has_been_referred'],[c.POSTNATAL_CARE_SERVICE]:['needs_danger_signs_follow_up','needs_pnc_update_follow_up','needs_mental_health_follow_up'],[c.POSTNATAL_CARE_SERVICE_NEWBORN]:['is_referred'],[c.U5_ASSESSMENT]:['has_been_referred'],[c.IMMUNIZATION_SERVICE]:['needs_follow_up'],[c.DEFAULTER_FOLLOW_UP]:['needs_follow_up']},m=t=>t&&t.form===c.U5_ASSESSMENT&&'yes'===Utils.getField(t,'u5_assessment.has_cough')&&'true'===Utils.getField(t,'u5_assessment.u5_has_fast_breathing'),p={[c.U5_ASSESSMENT]:'growth_and_monitoring.is_participating_growth_monitoring',[c.IMMUNIZATION_SERVICE]:'group_growth_and_monitoring.is_participating_in_monthly_growth_monitoring'},_={[c.U5_ASSESSMENT]:'malaria_screening.malaria_test_result',[c.OVER_FIVE_ASSESSMENT]:'group_malaria.rdt_result'},v={[c.CHA_SUPERVISION_CALENDAR]:'details.when_supervise',[c.CHV_SUPERVISION]:'group_visit.is_available'},y={[c.CHA_SUPERVISION_CALENDAR]:'details.when_supervise',[c.CHV_SUPERVISION]:'next_supervision_visit_date'},g={[c.OVER_FIVE_ASSESSMENT]:'group_sexual_gender_based_violence.is_referred_to_cha',[c.SGBV]:'sgbv.is_referred_to_cha'},S=()=>f.local().startOf('month');t.exports={isEligibleForTasks:i,isFormArraySubmittedInWindow:(t,e,n,r,i,o)=>{let a=!1,u=0;const s=Utils.addDate(n,-r.start).getTime(),c=Utils.addDate(n,r.end+1).getTime();return t.some((function(t){e.includes(t.form)&&t.reported_date>=s&&t.reported_date<=c&&(o?Utils.getField(t,'inputs.source_id')===o&&(a=!0,i&&u++):(a=!0,i&&u++))})),i?u>=i:a},PNC_PERIOD_DAYS:o,getVaccinesReceived:a,countTotalVaccinesByAge:u,getNewbornHomeVisitCount:s,getMostRecentEddForPregnancy:t=>Utils.getField(d(t),'current_edd'),getReportsSubmittedInWindow:(t,e,n,r,i)=>{const o=[];return t.forEach((function(t){e.includes(t.form)&&t.reported_date>=n&&t.reported_date<=r&&(i&&!i(t)||o.push(t))})),o},isPregnancyTaskMuted:t=>{if(!i(t.contact))return!0;const e=d(t.reports),n=t.reports.filter(t=>t.form===c.POSTNATAL_CARE_SERVICE&&'yes'===Utils.getField(t,'group_pregnancy_status.has_delivered'));if(!e)return!1;if(n.length>0){const t=Utils.getMostRecentReport(n,c.POSTNATAL_CARE_SERVICE);return t&&t.reported_date>e.reported_date}return e&&'no'===Utils.getField(e,'pregnancy_screening.is_still_pregnant')},isReportedThisMonth:t=>{const e=f.local(),n=f.fromMillis(t.reported_date);return e.month===n.month&&e.year===n.year},ageInMonths:t=>f.local().diff(f.fromISO(t)).as('months'),ageInYears:t=>f.local().diff(f.fromISO(t)).as('years'),isReferredByCHV:(t,e)=>h[e.form].some(t=>['true','yes'].includes(Utils.getField(e,t))),isUnder5WithPneumonia:m,isUnder5WithPneumoniaTreated:t=>m(t)&&'no'===Utils.getField(t,'u5_assessment.chest_indrawing')&&'yes'===Utils.getField(t,'group_summary_no_danger_signs.r_given_amox'),FIELDS_FOR_CHV_REFERRAL:h,FIELDS_FOR_MRDT_RESULT:_,MRDT_RESULT_OPTIONS:['positive','negative','invalid','not_done'],MRDT_TEST_RESULT_OPTIONS:['positive','negative','invalid'],MUAC_COLORS:['red','yellow','green'],FIELDS_FOR_GROWTH_MONITORING:p,MALNUTRITION_MUAC_COLORS:['red','yellow'],FIELDS_FOR_CHV_SUPERVISION:v,DateTime:f,FIELDS_FOR_CHV_SUPERVISION_TASK:y,isChvPerson:t=>[t.type,t.contact_type].includes(l.USER)&&t.parent&&t.parent.parent&&t.parent.parent.parent,FIELDS_FOR_SGBV_REFERRAL:g,startOfMonthDate:S,midMonthDate:()=>S().plus({weeks:2})}},function(t,e,n){const{Places:r}=n(6),{CommoditySummaryAlgo:i}=n(4),{productDetailsList:o}=n(5),a={init:(t,e,n,r)=>({label:t,width:6,value:((t,e,n)=>` <strong style=\"color:${e()}\">  ${t} ${n} </strong>`)(e,n,r),filter:'safeHtml'})};t.exports={CommoditySummaryCard:t=>function(){const e=i.init(t).evaluate();return{label:'Balance on Hand',fields:Object.keys(e).reduce((t,n)=>{const i=e[n].split(' '),u=i[0],s=i[2],c=contact.contact_type===r.CHU,l=contact.contact_type===r.CHV_AREA;if(c&&!o[n].showInCard.cha)return t;if(l&&!o[n].showInCard.chv)return t;const f=a.init(o[n].label,u,()=>0<=s&&s<2?'red':2<=s&&s<4?'orange':'green',o[n].units);return t.push(f),t},[]),appliesToType:[r.CHV_AREA,r.CHU]}}(),CommoditySummaryField:a}},function(t,e){function n(t){return t?Array.isArray(t)?t:[t]:[]}function r(t,e){switch(typeof t){case'undefined':return!0;case'function':return t(e);default:return t}}function i(t,e,n){if(r(t.appliesIf,n)){var i='function'==typeof t.fields?t.fields(n):t.fields.filter((function(t){return r(t.appliesIf,n)})).map((function(t){var e={};return o(t,e,'label'),o(t,e,'value'),o(t,e,'translate'),o(t,e,'filter'),o(t,e,'width'),o(t,e,'icon'),t.context&&(e.context={},o(t.context,e.context,'count'),o(t.context,e.context,'total')),e}));return t.modifyContext&&t.modifyContext(e,n),{label:t.label,fields:i}}function o(t,e,r){switch(typeof t[r]){case'undefined':return;case'function':e[r]=t[r](n);break;default:e[r]=t[r]}}}t.exports=function(t,e,r){var o=t.fields||[],a=t.context||{},u=t.cards||[],s=e&&('contact'===e.type?e.contact_type:e.type),c={cards:[],fields:o.filter((function(t){var e=n(t.appliesToType),r=e.filter((function(t){return t&&'!'===t.charAt(0)}));if((0===e.length||e.includes(s)||r.length>0&&!r.includes('!'+s))&&(!t.appliesIf||t.appliesIf()))return delete t.appliesToType,delete t.appliesIf,!0}))};return u.forEach((function(t){var e,o,u,l,f=n(t.appliesToType);if(f.includes('report')&&f.length>1)throw new Error('You cannot set appliesToType to an array which includes the type \\'report\\' and another type.');if(f.includes('report'))for(e=0;e<r.length;++e)o=r[e],!(l=o)||l.errors&&l.errors.length||(u=i(t,a,o))&&c.cards.push(u);else{if(!f.includes(s)&&f.length>0)return;(u=i(t,a))&&c.cards.push(u)}})),c.context=a,c}},function(t,e,n){'use strict';n.r(e),n.d(e,'default',(function(){return bn})),n.d(e,'VERSION',(function(){return i.e})),n.d(e,'restArguments',(function(){return o})),n.d(e,'isObject',(function(){return a})),n.d(e,'isNull',(function(){return u})),n.d(e,'isUndefined',(function(){return s})),n.d(e,'isBoolean',(function(){return c})),n.d(e,'isElement',(function(){return l})),n.d(e,'isString',(function(){return d})),n.d(e,'isNumber',(function(){return h})),n.d(e,'isDate',(function(){return m})),n.d(e,'isRegExp',(function(){return p})),n.d(e,'isError',(function(){return _})),n.d(e,'isSymbol',(function(){return v})),n.d(e,'isArrayBuffer',(function(){return y})),n.d(e,'isDataView',(function(){return I})),n.d(e,'isArray',(function(){return N})),n.d(e,'isFunction',(function(){return w})),n.d(e,'isArguments',(function(){return k})),n.d(e,'isFinite',(function(){return A})),n.d(e,'isNaN',(function(){return D})),n.d(e,'isTypedArray',(function(){return U})),n.d(e,'isEmpty',(function(){return Z})),n.d(e,'isMatch',(function(){return q})),n.d(e,'isEqual',(function(){return G})),n.d(e,'isMap',(function(){return rt})),n.d(e,'isWeakMap',(function(){return it})),n.d(e,'isSet',(function(){return ot})),n.d(e,'isWeakSet',(function(){return at})),n.d(e,'keys',(function(){return z})),n.d(e,'allKeys',(function(){return J})),n.d(e,'values',(function(){return ut})),n.d(e,'pairs',(function(){return st})),n.d(e,'invert',(function(){return ct})),n.d(e,'functions',(function(){return lt})),n.d(e,'methods',(function(){return lt})),n.d(e,'extend',(function(){return dt})),n.d(e,'extendOwn',(function(){return ht})),n.d(e,'assign',(function(){return ht})),n.d(e,'defaults',(function(){return mt})),n.d(e,'create',(function(){return _t})),n.d(e,'clone',(function(){return vt})),n.d(e,'tap',(function(){return yt})),n.d(e,'get',(function(){return bt})),n.d(e,'has',(function(){return Ot})),n.d(e,'mapObject',(function(){return At})),n.d(e,'identity',(function(){return Et})),n.d(e,'constant',(function(){return R})),n.d(e,'noop',(function(){return Dt})),n.d(e,'toPath',(function(){return gt})),n.d(e,'property',(function(){return It})),n.d(e,'propertyOf',(function(){return Rt})),n.d(e,'matcher',(function(){return Tt})),n.d(e,'matches',(function(){return Tt})),n.d(e,'times',(function(){return xt})),n.d(e,'random',(function(){return Vt})),n.d(e,'now',(function(){return Lt})),n.d(e,'escape',(function(){return Ut})),n.d(e,'unescape',(function(){return jt})),n.d(e,'templateSettings',(function(){return Ht})),n.d(e,'template',(function(){return Bt})),n.d(e,'result',(function(){return Gt})),n.d(e,'uniqueId',(function(){return $t})),n.d(e,'chain',(function(){return Kt})),n.d(e,'iteratee',(function(){return Mt})),n.d(e,'partial',(function(){return te})),n.d(e,'bind',(function(){return ee})),n.d(e,'bindAll',(function(){return ie})),n.d(e,'memoize',(function(){return oe})),n.d(e,'delay',(function(){return ae})),n.d(e,'defer',(function(){return ue})),n.d(e,'throttle',(function(){return se})),n.d(e,'debounce',(function(){return ce})),n.d(e,'wrap',(function(){return le})),n.d(e,'negate',(function(){return fe})),n.d(e,'compose',(function(){return de})),n.d(e,'after',(function(){return he})),n.d(e,'before',(function(){return me})),n.d(e,'once',(function(){return pe})),n.d(e,'findKey',(function(){return _e})),n.d(e,'findIndex',(function(){return ye})),n.d(e,'findLastIndex',(function(){return ge})),n.d(e,'sortedIndex',(function(){return Se})),n.d(e,'indexOf',(function(){return be})),n.d(e,'lastIndexOf',(function(){return Oe})),n.d(e,'find',(function(){return Ee})),n.d(e,'detect',(function(){return Ee})),n.d(e,'findWhere',(function(){return Te})),n.d(e,'each',(function(){return Ie})),n.d(e,'forEach',(function(){return Ie})),n.d(e,'map',(function(){return Ne})),n.d(e,'collect',(function(){return Ne})),n.d(e,'reduce',(function(){return Me})),n.d(e,'foldl',(function(){return Me})),n.d(e,'inject',(function(){return Me})),n.d(e,'reduceRight',(function(){return ke})),n.d(e,'foldr',(function(){return ke})),n.d(e,'filter',(function(){return Ae})),n.d(e,'select',(function(){return Ae})),n.d(e,'reject',(function(){return De})),n.d(e,'every',(function(){return Re})),n.d(e,'all',(function(){return Re})),n.d(e,'some',(function(){return xe})),n.d(e,'any',(function(){return xe})),n.d(e,'contains',(function(){return Ve})),n.d(e,'includes',(function(){return Ve})),n.d(e,'include',(function(){return Ve})),n.d(e,'invoke',(function(){return Le})),n.d(e,'pluck',(function(){return Pe})),n.d(e,'where',(function(){return Fe})),n.d(e,'max',(function(){return Ue})),n.d(e,'min',(function(){return je})),n.d(e,'shuffle',(function(){return qe})),n.d(e,'sample',(function(){return Ze})),n.d(e,'sortBy',(function(){return We})),n.d(e,'groupBy',(function(){return Be})),n.d(e,'indexBy',(function(){return Ge})),n.d(e,'countBy',(function(){return Je})),n.d(e,'partition',(function(){return $e})),n.d(e,'toArray',(function(){return ze})),n.d(e,'size',(function(){return Ke})),n.d(e,'pick',(function(){return Xe})),n.d(e,'omit',(function(){return tn})),n.d(e,'first',(function(){return nn})),n.d(e,'head',(function(){return nn})),n.d(e,'take',(function(){return nn})),n.d(e,'initial',(function(){return en})),n.d(e,'last',(function(){return on})),n.d(e,'rest',(function(){return rn})),n.d(e,'tail',(function(){return rn})),n.d(e,'drop',(function(){return rn})),n.d(e,'compact',(function(){return an})),n.d(e,'flatten',(function(){return un})),n.d(e,'without',(function(){return cn})),n.d(e,'uniq',(function(){return ln})),n.d(e,'unique',(function(){return ln})),n.d(e,'union',(function(){return fn})),n.d(e,'intersection',(function(){return dn})),n.d(e,'difference',(function(){return sn})),n.d(e,'unzip',(function(){return hn})),n.d(e,'transpose',(function(){return hn})),n.d(e,'zip',(function(){return mn})),n.d(e,'object',(function(){return pn})),n.d(e,'range',(function(){return _n})),n.d(e,'chunk',(function(){return vn})),n.d(e,'mixin',(function(){return gn}));var r={};n.r(r),n.d(r,'VERSION',(function(){return i.e})),n.d(r,'restArguments',(function(){return o})),n.d(r,'isObject',(function(){return a})),n.d(r,'isNull',(function(){return u})),n.d(r,'isUndefined',(function(){return s})),n.d(r,'isBoolean',(function(){return c})),n.d(r,'isElement',(function(){return l})),n.d(r,'isString',(function(){return d})),n.d(r,'isNumber',(function(){return h})),n.d(r,'isDate',(function(){return m})),n.d(r,'isRegExp',(function(){return p})),n.d(r,'isError',(function(){return _})),n.d(r,'isSymbol',(function(){return v})),n.d(r,'isArrayBuffer',(function(){return y})),n.d(r,'isDataView',(function(){return I})),n.d(r,'isArray',(function(){return N})),n.d(r,'isFunction',(function(){return w})),n.d(r,'isArguments',(function(){return k})),n.d(r,'isFinite',(function(){return A})),n.d(r,'isNaN',(function(){return D})),n.d(r,'isTypedArray',(function(){return U})),n.d(r,'isEmpty',(function(){return Z})),n.d(r,'isMatch',(function(){return q})),n.d(r,'isEqual',(function(){return G})),n.d(r,'isMap',(function(){return rt})),n.d(r,'isWeakMap',(function(){return it})),n.d(r,'isSet',(function(){return ot})),n.d(r,'isWeakSet',(function(){return at})),n.d(r,'keys',(function(){return z})),n.d(r,'allKeys',(function(){return J})),n.d(r,'values',(function(){return ut})),n.d(r,'pairs',(function(){return st})),n.d(r,'invert',(function(){return ct})),n.d(r,'functions',(function(){return lt})),n.d(r,'methods',(function(){return lt})),n.d(r,'extend',(function(){return dt})),n.d(r,'extendOwn',(function(){return ht})),n.d(r,'assign',(function(){return ht})),n.d(r,'defaults',(function(){return mt})),n.d(r,'create',(function(){return _t})),n.d(r,'clone',(function(){return vt})),n.d(r,'tap',(function(){return yt})),n.d(r,'get',(function(){return bt})),n.d(r,'has',(function(){return Ot})),n.d(r,'mapObject',(function(){return At})),n.d(r,'identity',(function(){return Et})),n.d(r,'constant',(function(){return R})),n.d(r,'noop',(function(){return Dt})),n.d(r,'toPath',(function(){return gt})),n.d(r,'property',(function(){return It})),n.d(r,'propertyOf',(function(){return Rt})),n.d(r,'matcher',(function(){return Tt})),n.d(r,'matches',(function(){return Tt})),n.d(r,'times',(function(){return xt})),n.d(r,'random',(function(){return Vt})),n.d(r,'now',(function(){return Lt})),n.d(r,'escape',(function(){return Ut})),n.d(r,'unescape',(function(){return jt})),n.d(r,'templateSettings',(function(){return Ht})),n.d(r,'template',(function(){return Bt})),n.d(r,'result',(function(){return Gt})),n.d(r,'uniqueId',(function(){return $t})),n.d(r,'chain',(function(){return Kt})),n.d(r,'iteratee',(function(){return Mt})),n.d(r,'partial',(function(){return te})),n.d(r,'bind',(function(){return ee})),n.d(r,'bindAll',(function(){return ie})),n.d(r,'memoize',(function(){return oe})),n.d(r,'delay',(function(){return ae})),n.d(r,'defer',(function(){return ue})),n.d(r,'throttle',(function(){return se})),n.d(r,'debounce',(function(){return ce})),n.d(r,'wrap',(function(){return le})),n.d(r,'negate',(function(){return fe})),n.d(r,'compose',(function(){return de})),n.d(r,'after',(function(){return he})),n.d(r,'before',(function(){return me})),n.d(r,'once',(function(){return pe})),n.d(r,'findKey',(function(){return _e})),n.d(r,'findIndex',(function(){return ye})),n.d(r,'findLastIndex',(function(){return ge})),n.d(r,'sortedIndex',(function(){return Se})),n.d(r,'indexOf',(function(){return be})),n.d(r,'lastIndexOf',(function(){return Oe})),n.d(r,'find',(function(){return Ee})),n.d(r,'detect',(function(){return Ee})),n.d(r,'findWhere',(function(){return Te})),n.d(r,'each',(function(){return Ie})),n.d(r,'forEach',(function(){return Ie})),n.d(r,'map',(function(){return Ne})),n.d(r,'collect',(function(){return Ne})),n.d(r,'reduce',(function(){return Me})),n.d(r,'foldl',(function(){return Me})),n.d(r,'inject',(function(){return Me})),n.d(r,'reduceRight',(function(){return ke})),n.d(r,'foldr',(function(){return ke})),n.d(r,'filter',(function(){return Ae})),n.d(r,'select',(function(){return Ae})),n.d(r,'reject',(function(){return De})),n.d(r,'every',(function(){return Re})),n.d(r,'all',(function(){return Re})),n.d(r,'some',(function(){return xe})),n.d(r,'any',(function(){return xe})),n.d(r,'contains',(function(){return Ve})),n.d(r,'includes',(function(){return Ve})),n.d(r,'include',(function(){return Ve})),n.d(r,'invoke',(function(){return Le})),n.d(r,'pluck',(function(){return Pe})),n.d(r,'where',(function(){return Fe})),n.d(r,'max',(function(){return Ue})),n.d(r,'min',(function(){return je})),n.d(r,'shuffle',(function(){return qe})),n.d(r,'sample',(function(){return Ze})),n.d(r,'sortBy',(function(){return We})),n.d(r,'groupBy',(function(){return Be})),n.d(r,'indexBy',(function(){return Ge})),n.d(r,'countBy',(function(){return Je})),n.d(r,'partition',(function(){return $e})),n.d(r,'toArray',(function(){return ze})),n.d(r,'size',(function(){return Ke})),n.d(r,'pick',(function(){return Xe})),n.d(r,'omit',(function(){return tn})),n.d(r,'first',(function(){return nn})),n.d(r,'head',(function(){return nn})),n.d(r,'take',(function(){return nn})),n.d(r,'initial',(function(){return en})),n.d(r,'last',(function(){return on})),n.d(r,'rest',(function(){return rn})),n.d(r,'tail',(function(){return rn})),n.d(r,'drop',(function(){return rn})),n.d(r,'compact',(function(){return an})),n.d(r,'flatten',(function(){return un})),n.d(r,'without',(function(){return cn})),n.d(r,'uniq',(function(){return ln})),n.d(r,'unique',(function(){return ln})),n.d(r,'union',(function(){return fn})),n.d(r,'intersection',(function(){return dn})),n.d(r,'difference',(function(){return sn})),n.d(r,'unzip',(function(){return hn})),n.d(r,'transpose',(function(){return hn})),n.d(r,'zip',(function(){return mn})),n.d(r,'object',(function(){return pn})),n.d(r,'range',(function(){return _n})),n.d(r,'chunk',(function(){return vn})),n.d(r,'mixin',(function(){return gn})),n.d(r,'default',(function(){return Sn}));var i=n(0);function o(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function a(t){var e=typeof t;return'function'===e||'object'===e&&!!t}function u(t){return null===t}function s(t){return void 0===t}function c(t){return!0===t||!1===t||'[object Boolean]'===i.t.call(t)}function l(t){return!(!t||1!==t.nodeType)}function f(t){var e='[object '+t+']';return function(t){return i.t.call(t)===e}}var d=f('String'),h=f('Number'),m=f('Date'),p=f('RegExp'),_=f('Error'),v=f('Symbol'),y=f('ArrayBuffer'),g=f('Function'),S=i.p.document&&i.p.document.childNodes;'object'!=typeof Int8Array&&'function'!=typeof S&&(g=function(t){return'function'==typeof t||!1});var w=g,b=f('Object'),O=i.s&&b(new DataView(new ArrayBuffer(8))),E='undefined'!=typeof Map&&b(new Map),T=f('DataView');var I=O?function(t){return null!=t&&w(t.getInt8)&&y(t.buffer)}:T,N=i.k||f('Array');function C(t,e){return null!=t&&i.i.call(t,e)}var M=f('Arguments');!function(){M(arguments)||(M=function(t){return C(t,'callee')})}();var k=M;function A(t){return!v(t)&&Object(i.f)(t)&&!isNaN(parseFloat(t))}function D(t){return h(t)&&Object(i.g)(t)}function R(t){return function(){return t}}function x(t){return function(e){var n=t(e);return'number'==typeof n&&n>=0&&n<=i.b}}function V(t){return function(e){return null==e?void 0:e[t]}}var L=V('byteLength'),P=x(L),F=/\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;var U=i.r?function(t){return i.l?Object(i.l)(t)&&!I(t):P(t)&&F.test(i.t.call(t))}:R(!1),j=V('length');function H(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=i.n.length,r=t.constructor,o=w(r)&&r.prototype||i.c,a='constructor';for(C(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=i.n[n])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function z(t){if(!a(t))return[];if(i.m)return Object(i.m)(t);var e=[];for(var n in t)C(t,n)&&e.push(n);return i.h&&H(t,e),e}function Z(t){if(null==t)return!0;var e=j(t);return'number'==typeof e&&(N(t)||d(t)||k(t))?0===e:0===j(z(t))}function q(t,e){var n=z(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function W(t){return t instanceof W?t:this instanceof W?void(this._wrapped=t):new W(t)}function Y(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,L(t))}W.VERSION=i.e,W.prototype.value=function(){return this._wrapped},W.prototype.valueOf=W.prototype.toJSON=W.prototype.value,W.prototype.toString=function(){return String(this._wrapped)};function B(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return('function'===o||'object'===o||'object'==typeof e)&&function t(e,n,r,o){e instanceof W&&(e=e._wrapped);n instanceof W&&(n=n._wrapped);var a=i.t.call(e);if(a!==i.t.call(n))return!1;if(O&&'[object Object]'==a&&I(e)){if(!I(n))return!1;a='[object DataView]'}switch(a){case'[object RegExp]':case'[object String]':return''+e==''+n;case'[object Number]':return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case'[object Date]':case'[object Boolean]':return+e==+n;case'[object Symbol]':return i.d.valueOf.call(e)===i.d.valueOf.call(n);case'[object ArrayBuffer]':case'[object DataView]':return t(Y(e),Y(n),r,o)}var u='[object Array]'===a;if(!u&&U(e)){if(L(e)!==L(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;u=!0}if(!u){if('object'!=typeof e||'object'!=typeof n)return!1;var s=e.constructor,c=n.constructor;if(s!==c&&!(w(s)&&s instanceof s&&w(c)&&c instanceof c)&&'constructor'in e&&'constructor'in n)return!1}o=o||[];var l=(r=r||[]).length;for(;l--;)if(r[l]===e)return o[l]===n;if(r.push(e),o.push(n),u){if((l=e.length)!==n.length)return!1;for(;l--;)if(!B(e[l],n[l],r,o))return!1}else{var f,d=z(e);if(l=d.length,z(n).length!==l)return!1;for(;l--;)if(f=d[l],!C(n,f)||!B(e[f],n[f],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function G(t,e){return B(t,e)}function J(t){if(!a(t))return[];var e=[];for(var n in t)e.push(n);return i.h&&H(t,e),e}function $(t){var e=j(t);return function(n){if(null==n)return!1;var r=J(n);if(j(r))return!1;for(var i=0;i<e;i++)if(!w(n[t[i]]))return!1;return t!==et||!w(n[K])}}var K='forEach',Q=['clear','delete'],X=['get','has','set'],tt=Q.concat(K,X),et=Q.concat(X),nt=['add'].concat(Q,K,'has'),rt=E?$(tt):f('Map'),it=E?$(et):f('WeakMap'),ot=E?$(nt):f('Set'),at=f('WeakSet');function ut(t){for(var e=z(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function st(t){for(var e=z(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function ct(t){for(var e={},n=z(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function lt(t){var e=[];for(var n in t)w(t[n])&&e.push(n);return e.sort()}function ft(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=o[c])}return n}}var dt=ft(J),ht=ft(z),mt=ft(J,!0);function pt(t){if(!a(t))return{};if(i.j)return Object(i.j)(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function _t(t,e){var n=pt(t);return e&&ht(n,e),n}function vt(t){return a(t)?N(t)?t.slice():dt({},t):t}function yt(t,e){return e(t),t}function gt(t){return N(t)?t:[t]}function St(t){return W.toPath(t)}function wt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function bt(t,e,n){var r=wt(t,St(e));return s(r)?n:r}function Ot(t,e){for(var n=(e=St(e)).length,r=0;r<n;r++){var i=e[r];if(!C(t,i))return!1;t=t[i]}return!!n}function Et(t){return t}function Tt(t){return t=ht({},t),function(e){return q(e,t)}}function It(t){return t=St(t),function(e){return wt(e,t)}}function Nt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return null==t?Et:w(t)?Nt(t,e,n):a(t)&&!N(t)?Tt(t):It(t)}function Mt(t,e){return Ct(t,e,1/0)}function kt(t,e,n){return W.iteratee!==Mt?W.iteratee(t,e):Ct(t,e,n)}function At(t,e,n){e=kt(e,n);for(var r=z(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=e(t[u],u,t)}return o}function Dt(){}function Rt(t){return null==t?Dt:function(e){return bt(t,e)}}function xt(t,e,n){var r=Array(Math.max(0,t));e=Nt(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function Vt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}W.toPath=gt,W.iteratee=Mt;var Lt=Date.now||function(){return(new Date).getTime()};function Pt(t){var e=function(e){return t[e]},n='(?:'+z(t).join('|')+')',r=RegExp(n),i=RegExp(n,'g');return function(t){return t=null==t?'':''+t,r.test(t)?t.replace(i,e):t}}var Ft={'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;','\\'':'&#x27;','`':'&#x60;'},Ut=Pt(Ft),jt=Pt(ct(Ft)),Ht=W.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},zt=/(.)^/,Zt={'\\'':'\\'','\\\\':'\\\\','\\r':'r','\\n':'n','\\u2028':'u2028','\\u2029':'u2029'},qt=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g;function Wt(t){return'\\\\'+Zt[t]}var Yt=/^\\s*(\\w|\\$)+\\s*$/;function Bt(t,e,n){!e&&n&&(e=n),e=mt({},e,W.templateSettings);var r=RegExp([(e.escape||zt).source,(e.interpolate||zt).source,(e.evaluate||zt).source].join('|')+'|$','g'),i=0,o='__p+=\\'';t.replace(r,(function(e,n,r,a,u){return o+=t.slice(i,u).replace(qt,Wt),i=u+e.length,n?o+='\\'+\\n((__t=('+n+'))==null?\\'\\':_.escape(__t))+\\n\\'':r?o+='\\'+\\n((__t=('+r+'))==null?\\'\\':__t)+\\n\\'':a&&(o+='\\';\\n'+a+'\\n__p+=\\''),e})),o+='\\';\\n';var a,u=e.variable;if(u){if(!Yt.test(u))throw new Error('variable is not a bare identifier: '+u)}else o='with(obj||{}){\\n'+o+'}\\n',u='obj';o='var __t,__p=\\'\\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\\'\\');};\\n'+o+'return __p;\\n';try{a=new Function(u,'_',o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,W)};return s.source='function('+u+'){\\n'+o+'}',s}function Gt(t,e,n){var r=(e=St(e)).length;if(!r)return w(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=w(o)?o.call(t):o}return t}var Jt=0;function $t(t){var e=++Jt+'';return t?t+e:e}function Kt(t){var e=W(t);return e._chain=!0,e}function Qt(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=pt(t.prototype),u=t.apply(o,i);return a(u)?u:o}var Xt=o((function(t,e){var n=Xt.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),u=0;u<o;u++)a[u]=e[u]===n?arguments[i++]:e[u];for(;i<arguments.length;)a.push(arguments[i++]);return Qt(t,r,this,this,a)};return r}));Xt.placeholder=W;var te=Xt,ee=o((function(t,e,n){if(!w(t))throw new TypeError('Bind must be called on a function');var r=o((function(i){return Qt(t,r,e,this,n.concat(i))}));return r})),ne=x(j);function re(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=j(t);o<a;o++){var u=t[o];if(ne(u)&&(N(u)||k(u)))if(e>1)re(u,e-1,n,r),i=r.length;else for(var s=0,c=u.length;s<c;)r[i++]=u[s++];else n||(r[i++]=u)}return r}var ie=o((function(t,e){var n=(e=re(e,!1,!1)).length;if(n<1)throw new Error('bindAll must be passed function names');for(;n--;){var r=e[n];t[r]=ee(t[r],t)}return t}));function oe(t,e){var n=function(r){var i=n.cache,o=''+(e?e.apply(this,arguments):r);return C(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}var ae=o((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),ue=te(ae,W,1);function se(t,e,n){var r,i,o,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:Lt(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Lt();u||!1!==n.leading||(u=c);var l=e-(c-u);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),u=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(s,l)),a};return c.cancel=function(){clearTimeout(r),u=0,r=i=o=null},c}function ce(t,e,n){var r,i,a,u,s,c=function(){var o=Lt()-i;e>o?r=setTimeout(c,e-o):(r=null,n||(u=t.apply(s,a)),r||(a=s=null))},l=o((function(o){return s=this,a=o,i=Lt(),r||(r=setTimeout(c,e),n&&(u=t.apply(s,a))),u}));return l.cancel=function(){clearTimeout(r),r=a=s=null},l}function le(t,e){return te(e,t)}function fe(t){return function(){return!t.apply(this,arguments)}}function de(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function he(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function me(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var pe=te(me,2);function _e(t,e,n){e=kt(e,n);for(var r,i=z(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function ve(t){return function(e,n,r){n=kt(n,r);for(var i=j(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var ye=ve(1),ge=ve(-1);function Se(t,e,n,r){for(var i=(n=kt(n,r,1))(e),o=0,a=j(t);o<a;){var u=Math.floor((o+a)/2);n(t[u])<i?o=u+1:a=u}return o}function we(t,e,n){return function(r,o,a){var u=0,s=j(r);if('number'==typeof a)t>0?u=a>=0?a:Math.max(a+s,u):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return r[a=n(r,o)]===o?a:-1;if(o!=o)return(a=e(i.q.call(r,u,s),D))>=0?a+u:-1;for(a=t>0?u:s-1;a>=0&&a<s;a+=t)if(r[a]===o)return a;return-1}}var be=we(1,ye,Se),Oe=we(-1,ge);function Ee(t,e,n){var r=(ne(t)?ye:_e)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Te(t,e){return Ee(t,Tt(e))}function Ie(t,e,n){var r,i;if(e=Nt(e,n),ne(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=z(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Ne(t,e,n){e=kt(e,n);for(var r=!ne(t)&&z(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=e(t[u],u,t)}return o}function Ce(t){var e=function(e,n,r,i){var o=!ne(e)&&z(e),a=(o||e).length,u=t>0?0:a-1;for(i||(r=e[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var s=o?o[u]:u;r=n(r,e[s],s,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,Nt(n,i,4),r,o)}}var Me=Ce(1),ke=Ce(-1);function Ae(t,e,n){var r=[];return e=kt(e,n),Ie(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function De(t,e,n){return Ae(t,fe(kt(e)),n)}function Re(t,e,n){e=kt(e,n);for(var r=!ne(t)&&z(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function xe(t,e,n){e=kt(e,n);for(var r=!ne(t)&&z(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Ve(t,e,n,r){return ne(t)||(t=ut(t)),('number'!=typeof n||r)&&(n=0),be(t,e,n)>=0}var Le=o((function(t,e,n){var r,i;return w(e)?i=e:(e=St(e),r=e.slice(0,-1),e=e[e.length-1]),Ne(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=wt(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Pe(t,e){return Ne(t,It(e))}function Fe(t,e){return Ae(t,Tt(e))}function Ue(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||'number'==typeof e&&'object'!=typeof t[0]&&null!=t)for(var u=0,s=(t=ne(t)?t:ut(t)).length;u<s;u++)null!=(r=t[u])&&r>o&&(o=r);else e=kt(e,n),Ie(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function je(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||'number'==typeof e&&'object'!=typeof t[0]&&null!=t)for(var u=0,s=(t=ne(t)?t:ut(t)).length;u<s;u++)null!=(r=t[u])&&r<o&&(o=r);else e=kt(e,n),Ie(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o}var He=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;function ze(t){return t?N(t)?i.q.call(t):d(t)?t.match(He):ne(t)?Ne(t,Et):ut(t):[]}function Ze(t,e,n){if(null==e||n)return ne(t)||(t=ut(t)),t[Vt(t.length-1)];var r=ze(t),i=j(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var u=Vt(a,o),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,e)}function qe(t){return Ze(t,1/0)}function We(t,e,n){var r=0;return e=kt(e,n),Pe(Ne(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),'value')}function Ye(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=kt(r,i),Ie(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var Be=Ye((function(t,e,n){C(t,n)?t[n].push(e):t[n]=[e]})),Ge=Ye((function(t,e,n){t[n]=e})),Je=Ye((function(t,e,n){C(t,n)?t[n]++:t[n]=1})),$e=Ye((function(t,e,n){t[n?0:1].push(e)}),!0);function Ke(t){return null==t?0:ne(t)?t.length:z(t).length}function Qe(t,e,n){return e in n}var Xe=o((function(t,e){var n={},r=e[0];if(null==t)return n;w(r)?(e.length>1&&(r=Nt(r,e[1])),e=J(t)):(r=Qe,e=re(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],u=t[a];r(u,a,t)&&(n[a]=u)}return n})),tn=o((function(t,e){var n,r=e[0];return w(r)?(r=fe(r),e.length>1&&(n=e[1])):(e=Ne(re(e,!1,!1),String),r=function(t,n){return!Ve(e,n)}),Xe(t,r,n)}));function en(t,e,n){return i.q.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function nn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:en(t,t.length-e)}function rn(t,e,n){return i.q.call(t,null==e||n?1:e)}function on(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:rn(t,Math.max(0,t.length-e))}function an(t){return Ae(t,Boolean)}function un(t,e){return re(t,e,!1)}var sn=o((function(t,e){return e=re(e,!0,!0),Ae(t,(function(t){return!Ve(e,t)}))})),cn=o((function(t,e){return sn(t,e)}));function ln(t,e,n,r){c(e)||(r=n,n=e,e=!1),null!=n&&(n=kt(n,r));for(var i=[],o=[],a=0,u=j(t);a<u;a++){var s=t[a],l=n?n(s,a,t):s;e&&!n?(a&&o===l||i.push(s),o=l):n?Ve(o,l)||(o.push(l),i.push(s)):Ve(i,s)||i.push(s)}return i}var fn=o((function(t){return ln(re(t,!0,!0))}));function dn(t){for(var e=[],n=arguments.length,r=0,i=j(t);r<i;r++){var o=t[r];if(!Ve(e,o)){var a;for(a=1;a<n&&Ve(arguments[a],o);a++);a===n&&e.push(o)}}return e}function hn(t){for(var e=t&&Ue(t,j).length||0,n=Array(e),r=0;r<e;r++)n[r]=Pe(t,r);return n}var mn=o(hn);function pn(t,e){for(var n={},r=0,i=j(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function _n(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function vn(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(i.q.call(t,r,r+=e));return n}function yn(t,e){return t._chain?W(e).chain():e}function gn(t){return Ie(lt(t),(function(e){var n=W[e]=t[e];W.prototype[e]=function(){var t=[this._wrapped];return i.o.apply(t,arguments),yn(this,n.apply(W,t))}})),W}Ie(['pop','push','reverse','shift','sort','splice','unshift'],(function(t){var e=i.a[t];W.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),'shift'!==t&&'splice'!==t||0!==n.length||delete n[0]),yn(this,n)}})),Ie(['concat','join','slice'],(function(t){var e=i.a[t];W.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),yn(this,t)}}));var Sn=W,wn=gn(r);wn._=wn;var bn=wn}])})); return ContactSummary;",
    "tasks": {
      "rules": "!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p='',n(n.s=7)}([function(e,t,n){'use strict';(function(e){n.d(t,'e',(function(){return r})),n.d(t,'p',(function(){return i})),n.d(t,'a',(function(){return a})),n.d(t,'c',(function(){return o})),n.d(t,'d',(function(){return s})),n.d(t,'o',(function(){return u})),n.d(t,'q',(function(){return _})),n.d(t,'t',(function(){return c})),n.d(t,'i',(function(){return l})),n.d(t,'r',(function(){return d})),n.d(t,'s',(function(){return p})),n.d(t,'k',(function(){return f})),n.d(t,'m',(function(){return m})),n.d(t,'j',(function(){return h})),n.d(t,'l',(function(){return g})),n.d(t,'g',(function(){return v})),n.d(t,'f',(function(){return y})),n.d(t,'h',(function(){return w})),n.d(t,'n',(function(){return I})),n.d(t,'b',(function(){return T}));var r='1.13.6',i='object'==typeof self&&self.self===self&&self||'object'==typeof e&&e.global===e&&e||Function('return this')()||{},a=Array.prototype,o=Object.prototype,s='undefined'!=typeof Symbol?Symbol.prototype:null,u=a.push,_=a.slice,c=o.toString,l=o.hasOwnProperty,d='undefined'!=typeof ArrayBuffer,p='undefined'!=typeof DataView,f=Array.isArray,m=Object.keys,h=Object.create,g=d&&ArrayBuffer.isView,v=isNaN,y=isFinite,w=!{toString:null}.propertyIsEnumerable('toString'),I=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'],T=Math.pow(2,53)-1}).call(this,n(9))},function(e,t,n){const{Interval:r,DateTime:i}=n(2),{getField:a,getMostRecentReport:o}=n(3)(),s=(e,t)=>l(e,t,'days'),u=(e,t)=>l(e,t,'years'),_=(e,t)=>l(e,t,'weeks'),c=(e,t)=>l(e,t,'months'),l=(e,t,n)=>r.fromDateTimes(new Date(e),new Date(t)).length(n),d=(e,t=[])=>!(e.muted||e.date_of_death||g(t)||v(t)),p={bcg:'BCG',opv0:'Birth Polio (OPV 0)',opv1:'OPV 1',opv2:'OPV 2',opv3:'OPV 3',pcv1:'PCV 1',pcv2:'PCV 2',pcv3:'PCV 3',penta1:'Penta 1',penta2:'Penta 2',penta3:'Penta 3',ipv:'IPV',rota1:'Rota 1',rota2:'Rota 2',rota3:'Rota 3',vit_a:'Vitamin A',measles_6:'Measles 6 months',measles_9:'Measles 9 months',measles_18:'Measles 18 months',malaria:'Malaria'},f={WASH:'wash',REFERRAL_FOLLOW_UP:'referral_follow_up',DEFAULTER_FOLLOW_UP:'defaulter_follow_up',DEATH_REPORT:'death_report',MUTE_PERSON:'mute_person',MUTE_HOUSEHOLD:'mute_household',POSTNATAL_CARE:'postnatal_care_service',FAMILY_PLANNING:'family_planning',POSTNATAL_CARE_SERVICE:'postnatal_care_service',TREATMENT_FOLLOW_UP:'treatment_follow_up',OVER_FIVE_ASSESSMENT:'over_five_assessment',PREGNANCY_HOME_VISIT:'pregnancy_home_visit',IMMUNIZATION_SERVICE:'immunization_service',U5_ASSESSMENT:'u5_assessment',HOUSEHOLD_MEMBER_REGISTRATION_REMINDER:'household_member_registration_reminder',COMMUNITY_EVENT:'community_event',POSTNATAL_CARE_SERVICE_NEWBORN:'postnatal_care_service_newborn',SGBV:'sgbv',DEATH_REVIEW:'death_review',COMMODITES_ORDER:'commodities_order',COMMODITES_RECEIVED:'commodity_received',COMMODITES_SUPPLIED:'commodity_supply',COMMODITES_COUNT:'commodity_count',COMMODITES_RETURN:'commodity_return',COMMODITES_RETURNED:'commodity_returned',COMMODITES_DISCREPANCY_RESOLUTION:'commodity_discrepancy',COMMODITES_STOCK_OUT:'commodity_stockout',CHV_CONSUMPTION_LOG:'chv_consumption_log',COMMODITY_RECEIVED_CONFRIMATION:'commodity_received_confirmation',COMMODITIES_DISCREPANCY_RECONCILIATION:'stock_ammendment',COMMODITY_RETURNED_CONFIRMATION:'commodity_returned_confirmation',UNMUTE_PERSON:'unmute_person',UNMUTE_HOUSEHOLD:'unmute_household',APPROVE_MUTE_PERSON:'approve_mute_person',APPROVE_MUTE_HOUSEHOLD:'approve_mute_household',CHU_SUPERVISION:'chu_supervision',CHV_SUPERVISION:'chv_supervision',CHA_SUPERVISION_CALENDAR:'cha_supervision_calendar',CEBS_CHV_SIGNAL_REPORTING:'chv_signal_reporting',CEBS_CHA_SIGNAL_REPORTING_VERIFICATION:'cha_signal_reporting_verification',CEBS_CHA_SIGNAL_VERIFICATION:'cha_signal_verification',SOCIO_ECONOMIC_SURVEY_PERSON:'socio_economic_survey_person',SOCIO_ECONOMIC_SURVEY:'socio_economic_survey',CLIENT_DETAILS_NOTIFICATION:'patient_details_reminder',CLIENT_DETAILS_MISMATCH:'CLIENT_DETAILS_MISMATCH'},m={COUNTY:'a_county',SUB_COUNTY:'b_sub_county',CHU:'c_community_health_unit',CHV_AREA:'d_community_health_volunteer_area',HOUSEHOLD:'e_household'},h=e=>e.replace(/_(\\d{1})\\b/g,'$1').replace(/(\\d{1})_months\\b/g,'$1').replace('vitamin_a','vit_a'),g=e=>{const t=o(e,[f.MUTE_PERSON,f.MUTE_HOUSEHOLD]),n=o(e,[f.APPROVE_MUTE_PERSON,f.APPROVE_MUTE_HOUSEHOLD]);return t&&(n&&n.reported_date<t.reported_date||!n)},v=e=>{const t=o(e,f.DEATH_REPORT),n=o(e,f.DEATH_REVIEW);return t&&(n&&n.reported_date<t.reported_date||!n)};e.exports={isEligibleForTasks:d,TASKS:{fp_side_effects:'task.fp_side_effects_referral_follow_up.title',fp_refill_service:'task.family_planning_service.title',immunization_service:'task.immunization.title',anc_defaulter_service:'task.anc-defaulter-referral-follow-up-service.title',anc_danger_signs_referral_follow_up:'task.anc-danger-signs-referral-follow-up-service.title',anc_mental_referral_follow_up:'task.anc-mental-signs-referral-follow-up-service.title',pregnancy_home_visit_service:'task.pregnancy_home_visit_service.title',pnc_mother_danger_signs:'task.pnc_mother_danger_signs.title',newborn_danger_signs:'task.pnc_newborn_danger_signs.title',pnc_newborn_immunization:'task.pnc_newborn_immunization.title',death_confirmation:'task.death_report_confirmation.title',chv_commodity_receipt:'task.commodity.received.title',chv_commodity_count:'task.commodity.count.title',cha_commodity_returned:'task.commodity.returned.title',cha_commodity_supplied_reconciliation:'task.commodity.supplied.reconciliation.title',cha_commodity_stock_out:'task.commodity.stock.out.title',sgbv_referral_follow_up:'task.sgbv_referral_follow_up.title',cha_verbal_autopsy:'task.cha_verbal_autopsy.title',chv_supervision:'task.chv_supervision.title',over5_3day_referral:'task.over_five_referral_service_3_day.title',under5_3day_referral:'task.u5_assessment_3_day_referral_follow_up.title',danger_signs_referral_follow_up:'task.danger_sign_over_five_referral_service.title',ceb_signal_verification:'task.ceb_signal_verification.title',hh_update_member_cr:'task.cr_contact.update'},Services:f,Places:m,Persons:{USER:'person',CLIENT:'f_client'},DAYS_IN_YEAR:365,differenceInDays:s,differenceInYears:u,FAMILY_PLANNING_METHODS:{cocs:'COCs – Combined Oral Contraceptive',pops:'POPs - Progestogen-only Pill',injectables:'Injectables',implant_1_rod:'Implants (1 rod)',implant_2_rods:'Implants (2 rods)',iucd:'IUCD (Coil)',condoms:'Condoms',tubal_ligation:'Tubal Ligation (TL)',cycle_beads:'Cycle Beads',vasectomy:'Vasectomy'},MS_IN_DAY:864e5,sortReports:(e,t)=>e.reported_date-t.reported_date,PNC_PERIOD_DAYS:42,MAX_PREGNANCY_AGE_IN_WEEKS:44,getPregnancyAgeInWeeks:e=>Math.floor(s(new Date(new Date(e).getTime()-266112e5),new Date)/7),VACCINATIONS:p,VITAMIN_A_DOSES:{vit_a_6:'6_months',vit_a_12:'12_months',vit_a_18:'18_months',vit_a_24:'24_months',vit_a_30:'30_months',vit_a_36:'36_months',vit_a_42:'42_months',vit_a_48:'48_months',vit_a_54:'54_months',vit_a_60:'60_months'},getField:a,getVaccinesReceived:e=>{let t=[];return e.forEach(e=>{const n=e.form===f.IMMUNIZATION_SERVICE?a(e,'group_vaccines.vaccines_given'):a(e,'immunization_screening.vaccines');n&&(t=t.concat(h(n).split(' ').map(e=>p[e])))}),t=Array.from(new Set(t)),t},countTotalVaccinesByAge:e=>{const t=_(e.date_of_birth,new Date);let n=0;return t>=0&&(n+=2),t>=6&&(n+=4),t>=10&&(n+=4),t>=14&&(n+=5),t>=24&&(n+=1),t>=36&&(n+=1),t>=72&&(n+=1),n},countTotalVitaminAVaccinesByAge:e=>{const t=c(e.date_of_birth,new Date);let n=0;return[6,12,18,24,30,36,42,48,54,60].forEach(e=>{t>=e&&(n+=1)}),n},mapImmunizationServiceVaccineAnswers:h,getNewbornHomeVisitCount:e=>e.filter(e=>e.form===f.POSTNATAL_CARE_SERVICE_NEWBORN&&'true'===a(e,'is_patient_available')).length,MAX_NEWBORN_AGE_IN_DAYS:28,DELIVERY_CHECK_WEEKS:{START:28,END:44},DAYS_IN_WEEK:7,differenceInWeeks:_,differenceInMonths:c,isSCHMT:e=>e.parent&&'b_sub_county'===e.parent.contact_type,isCHMT:e=>e.parent&&'a_county'===e.parent.contact_type,isCha:e=>e.parent&&'c_community_health_unit'===e.parent.contact_type,isChv:e=>e.parent&&'d_community_health_volunteer_area'===e.parent.contact_type,isMale:e=>e.sex&&'male'===e.sex,isFemaleOrIntersex:e=>e.sex&&('female'===e.sex||'intersex'===e.sex),Targets:{TOTAL_MALES:'total-population-male-all-time',WOMEN_15_49:'total-population-women-15-49-yr',TOTAL_FEMALES:'total-population-female-all-time',SKILLED_DELIVERIES:'skilled-deliveries-cha-percent',U5_ASSESSMENTS:'percent-under-5-assessed',HH_FUNCTIONAL_LATRINES:'percent-hh-functional-latrine',EXCLUSIVE_BREASTFEEDING:'percent-exclusive-breastfeeding',HH_VISITED:'count-households-visited',ACTIVE_PREGNANCIES:'total-active-pregnancies',UNDER_1_POPULATION:'total-population-under-1',UNDER_5_POPULATION:'total-population-under-5',PERCENT_POPULATION_LT_2_MONTHS_ASSESSED:'percent-population-under-2-months-assessed',U5_WITH_MALARIA_TREATED:'u5-with-malaria-treated',PERCENT_POPULATION_2_TO_59_MONTHS_ASSESSED:'percent-population-2-to-59-months-assessed',TOTAL_REFERRALS:'total-referrals',PERCENT_POPULATION_OVER_5_YEARS_ASSESSED:'percent-population-over-5-years-assessed',U5_WITH_PNEUMONIA_TREATED:'u5-with-pneumonia-treated',U5_WITH_DIARRHOEA_TREATED:'u5-with-diarrhoea-treated',GAM_RATE:'global-acute-malnutrition-rate',CHILDREN_WITH_UPTODATE_GROWTH_MONITORING:'children-with-uptodate-growth-monitoring',NEW_PREGNANT:'new-pregnant-women',PERCENT_POPULATION_OVER_2_MONTHS_SUSPECTED_MALARIA_TESTED_WITH_MRDT:'percent-population-over-two-months-with-suspected-malaria-tested-with-mrdt',PERCENT_REFERRED_TB_CASES_FOLLOWED_UP:'percent-tb-cases-follow-up'},getHouseholdId:e=>e.contact&&e.contact.contact_type===m.HOUSEHOLD?e.contact._id:e.contact.parent&&e.contact.parent._id,isEligibleNewborn:e=>s(e.date_of_birth,new Date)<28&&d(e),getLastChvSupervisionSummary:e=>{const t=e.filter(e=>e.form===f.CHV_SUPERVISION&&'yes'===a(e,'group_visit.is_available')),n=o(t,f.CHV_SUPERVISION);return{last_visit_date:n&&i.fromMillis(n.reported_date).toISODate()||'',last_visit_action_points:n&&a(n,'group_action_points.next_steps')||'',supervision_visit_count:n&&a(n,'supervision_visit_count')||0}},DateTime:i,Interval:r,getMostRecentReport:o,isOfChildBearingAge:e=>{const t=u(e.date_of_birth,new Date);return t>=10&&t<=49},getMemberSocioEconomicSummary:(e,t)=>{const n=o(t,f.SOCIO_ECONOMIC_SURVEY_PERSON)||{};return{identification_type:a(n,'group_demographics.identification_type')||e.identification_type,identification_type_other:a(n,'group_demographics.identification_type_other')||e.identification_type_other,identification_number:a(n,'group_demographics.identification_number')||e.identification_number,relationship_to_hh_head:a(n,'group_demographics.relationship_to_hh_head')||e.relationship_to_hh_head,relationship_to_hh_other:a(n,'group_demographics.relationship_to_hh_other')||e.relationship_to_hh_other,sex:a(n,'group_demographics.sex')||e.sex,date_of_birth:a(n,'group_demographics.date_of_birth')||e.date_of_birth,marital_status:a(n,'group_demographics.marital_status')||'',spouse_live_in_house:a(n,'group_demographics.spouse_live_in_house')||'',spouse_contact_uuid:a(n,'group_demographics.spouse_contact_uuid')||'',is_father_alive:a(n,'group_demographics.is_father_alive')||'',is_mother_alive:a(n,'group_demographics.is_mother_alive')||'',has_chronic_illness:a(n,'group_demographics.has_chronic_illness')||e.has_chronic_illness,chronic_illnesses:a(n,'group_demographics.chronic_illnesses')||e.chronic_illnesses,chronic_illnesses_other:a(n,'group_demographics.chronic_illnesses_other')||e.chronic_illnesses_other,disability:a(n,'group_demographics.disability')||e.disability,disability_other:a(n,'group_demographics.disability_other')||e.disability_other,requires_24_hour_care:a(n,'group_demographics.requires_24_hour_care')||'',main_care_giver_id:a(n,'group_demographics.main_care_giver_id')||'',school_attendance_status:a(n,'group_demographics.school_attendance_status')||'',education_level:a(n,'group_demographics.education_level')||'',other_education_level:a(n,'group_demographics.other_education_level')||'',doing_last_7_days:a(n,'group_demographics.doing_last_7_days')||'',work_formal:a(n,'group_demographics.work_formal')||''}},getHouseholdSocioEconomicSummary:e=>{const t=o(e,f.SOCIO_ECONOMIC_SURVEY);return{group_geographic_identification:t?t.fields.group_geographic_identification:{},group_dwelling_and_household:t?t.fields.group_dwelling_and_household:{},group_wash:t?t.fields.group_wash:{},group_fuel:t?t.fields.group_fuel:{},group_house_asset_ownership:t?t.fields.group_house_asset_ownership:{},group_social_assistance:t?t.fields.group_social_assistance:{}}},clientRegistryFields:['first_name','last_name','phone','nationality','country_of_birth','county_of_residence','subcounty','ward','village','identification_type','identification_number']}},function(e,t,n){'use strict';function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,'prototype',{writable:!1}),e}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return(c=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function l(e){var t='function'==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf('[native code]')))return e;var n;if('function'!=typeof e)throw new TypeError('Super expression must either be null or a function');if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n='undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if('string'==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return'Object'===n&&e.constructor&&(n=e.constructor.name),'Map'===n||'Set'===n?Array.from(e):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&'number'==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError('Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}Object.defineProperty(t,'__esModule',{value:!0});var m=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(l(Error)),h=function(e){function t(t){return e.call(this,'Invalid DateTime: '+t.toMessage())||this}return o(t,e),t}(m),g=function(e){function t(t){return e.call(this,'Invalid Interval: '+t.toMessage())||this}return o(t,e),t}(m),v=function(e){function t(t){return e.call(this,'Invalid Duration: '+t.toMessage())||this}return o(t,e),t}(m),y=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(m),w=function(e){function t(t){return e.call(this,'Invalid unit '+t)||this}return o(t,e),t}(m),I=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(m),T=function(e){function t(){return e.call(this,'Zone is an abstract class')||this}return o(t,e),t}(m),b='numeric',S='short',E='long',O={year:b,month:b,day:b},k={year:b,month:S,day:b},x={year:b,month:S,day:b,weekday:S},N={year:b,month:E,day:b},C={year:b,month:E,day:b,weekday:E},D={hour:b,minute:b},M={hour:b,minute:b,second:b},A={hour:b,minute:b,second:b,timeZoneName:S},U={hour:b,minute:b,second:b,timeZoneName:E},F={hour:b,minute:b,hourCycle:'h23'},R={hour:b,minute:b,second:b,hourCycle:'h23'},q={hour:b,minute:b,second:b,hourCycle:'h23',timeZoneName:S},V={hour:b,minute:b,second:b,hourCycle:'h23',timeZoneName:E},L={year:b,month:b,day:b,hour:b,minute:b},P={year:b,month:b,day:b,hour:b,minute:b,second:b},z={year:b,month:S,day:b,hour:b,minute:b},j={year:b,month:S,day:b,hour:b,minute:b,second:b},H={year:b,month:S,day:b,weekday:S,hour:b,minute:b},Z={year:b,month:E,day:b,hour:b,minute:b,timeZoneName:S},W={year:b,month:E,day:b,hour:b,minute:b,second:b,timeZoneName:S},B={year:b,month:E,day:b,weekday:E,hour:b,minute:b,timeZoneName:E},Y={year:b,month:E,day:b,weekday:E,hour:b,minute:b,second:b,timeZoneName:E};function G(e){return void 0===e}function J(e){return'number'==typeof e}function K(e){return'number'==typeof e&&e%1==0}function $(){try{return'undefined'!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Q(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t,n){return K(e)&&e>=t&&e<=n}function te(e,t){return void 0===t&&(t=2),e<0?'-'+(''+-e).padStart(t,'0'):(''+e).padStart(t,'0')}function ne(e){return G(e)||null===e||''===e?void 0:parseInt(e,10)}function re(e){return G(e)||null===e||''===e?void 0:parseFloat(e)}function ie(e){if(!G(e)&&null!==e&&''!==e){var t=1e3*parseFloat('0.'+e);return Math.floor(t)}}function ae(e,t,n){void 0===n&&(n=!1);var r=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*r)/r}function oe(e){return e%4==0&&(e%100!=0||e%400==0)}function se(e){return oe(e)?366:365}function ue(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?oe(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function _e(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ce(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function le(e){return e>99?e:e>60?1900+e:2e3+e}function de(e,t,n,r){void 0===r&&(r=null);var i=new Date(e),o={hourCycle:'h23',year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'};r&&(o.timeZone=r);var s=a({timeZoneName:t},o),u=new Intl.DateTimeFormat(n,s).formatToParts(i).find((function(e){return'timezonename'===e.type.toLowerCase()}));return u?u.value:null}function pe(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function fe(e){var t=Number(e);if('boolean'==typeof e||''===e||Number.isNaN(t))throw new I('Invalid unit value '+e);return t}function me(e,t){var n={};for(var r in e)if(X(e,r)){var i=e[r];if(null==i)continue;n[t(r)]=fe(i)}return n}function he(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?'+':'-';switch(t){case'short':return''+i+te(n,2)+':'+te(r,2);case'narrow':return''+i+n+(r>0?':'+r:'');case'techie':return''+i+te(n,2)+te(r,2);default:throw new RangeError('Value format '+t+' is out of range for property format')}}function ge(e){return function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}(e,['hour','minute','second','millisecond'])}var ve=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/,ye=['January','February','March','April','May','June','July','August','September','October','November','December'],we=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],Ie=['J','F','M','A','M','J','J','A','S','O','N','D'];function Te(e){switch(e){case'narrow':return[].concat(Ie);case'short':return[].concat(we);case'long':return[].concat(ye);case'numeric':return['1','2','3','4','5','6','7','8','9','10','11','12'];case'2-digit':return['01','02','03','04','05','06','07','08','09','10','11','12'];default:return null}}var be=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'],Se=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],Ee=['M','T','W','T','F','S','S'];function Oe(e){switch(e){case'narrow':return[].concat(Ee);case'short':return[].concat(Se);case'long':return[].concat(be);case'numeric':return['1','2','3','4','5','6','7'];default:return null}}var ke=['AM','PM'],xe=['Before Christ','Anno Domini'],Ne=['BC','AD'],Ce=['B','A'];function De(e){switch(e){case'narrow':return[].concat(Ce);case'short':return[].concat(Ne);case'long':return[].concat(xe);default:return null}}function Me(e,t){for(var n,r='',i=f(e);!(n=i()).done;){var a=n.value;a.literal?r+=a.val:r+=t(a.val)}return r}var Ae={D:O,DD:k,DDD:N,DDDD:C,t:D,tt:M,ttt:A,tttt:U,T:F,TT:R,TTT:q,TTTT:V,f:L,ff:z,fff:Z,ffff:B,F:P,FF:j,FFF:W,FFFF:Y},Ue=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n='',r=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);'\\''===o?(n.length>0&&i.push({literal:r,val:n}),t=null,n='',r=!r):r||o===t?n+=o:(n.length>0&&i.push({literal:!1,val:n}),n=o,t=o)}return n.length>0&&i.push({literal:r,val:n}),i},e.macroTokenToFormatOpts=function(e){return Ae[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,a({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return te(e,t);var n=a({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var r=this,i='en'===this.loc.listingMode(),a=this.loc.outputCalendar&&'gregory'!==this.loc.outputCalendar,o=function(e,n){return r.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?'Z':t.isValid?t.zone.formatOffset(t.ts,e.format):''},u=function(){return i?function(e){return ke[e.hour<12?0:1]}(t):o({hour:'numeric',hourCycle:'h12'},'dayperiod')},_=function(e,n){return i?function(e,t){return Te(t)[e.month-1]}(t,e):o(n?{month:e}:{month:e,day:'numeric'},'month')},c=function(e,n){return i?function(e,t){return Oe(t)[e.weekday-1]}(t,e):o(n?{weekday:e}:{weekday:e,month:'long',day:'numeric'},'weekday')},l=function(e){return i?function(e,t){return De(t)[e.year<0?0:1]}(t,e):o({era:e},'era')};return Me(e.parseFormat(n),(function(n){switch(n){case'S':return r.num(t.millisecond);case'u':case'SSS':return r.num(t.millisecond,3);case's':return r.num(t.second);case'ss':return r.num(t.second,2);case'uu':return r.num(Math.floor(t.millisecond/10),2);case'uuu':return r.num(Math.floor(t.millisecond/100));case'm':return r.num(t.minute);case'mm':return r.num(t.minute,2);case'h':return r.num(t.hour%12==0?12:t.hour%12);case'hh':return r.num(t.hour%12==0?12:t.hour%12,2);case'H':return r.num(t.hour);case'HH':return r.num(t.hour,2);case'Z':return s({format:'narrow',allowZ:r.opts.allowZ});case'ZZ':return s({format:'short',allowZ:r.opts.allowZ});case'ZZZ':return s({format:'techie',allowZ:r.opts.allowZ});case'ZZZZ':return t.zone.offsetName(t.ts,{format:'short',locale:r.loc.locale});case'ZZZZZ':return t.zone.offsetName(t.ts,{format:'long',locale:r.loc.locale});case'z':return t.zoneName;case'a':return u();case'd':return a?o({day:'numeric'},'day'):r.num(t.day);case'dd':return a?o({day:'2-digit'},'day'):r.num(t.day,2);case'c':return r.num(t.weekday);case'ccc':return c('short',!0);case'cccc':return c('long',!0);case'ccccc':return c('narrow',!0);case'E':return r.num(t.weekday);case'EEE':return c('short',!1);case'EEEE':return c('long',!1);case'EEEEE':return c('narrow',!1);case'L':return a?o({month:'numeric',day:'numeric'},'month'):r.num(t.month);case'LL':return a?o({month:'2-digit',day:'numeric'},'month'):r.num(t.month,2);case'LLL':return _('short',!0);case'LLLL':return _('long',!0);case'LLLLL':return _('narrow',!0);case'M':return a?o({month:'numeric'},'month'):r.num(t.month);case'MM':return a?o({month:'2-digit'},'month'):r.num(t.month,2);case'MMM':return _('short',!1);case'MMMM':return _('long',!1);case'MMMMM':return _('narrow',!1);case'y':return a?o({year:'numeric'},'year'):r.num(t.year);case'yy':return a?o({year:'2-digit'},'year'):r.num(t.year.toString().slice(-2),2);case'yyyy':return a?o({year:'numeric'},'year'):r.num(t.year,4);case'yyyyyy':return a?o({year:'numeric'},'year'):r.num(t.year,6);case'G':return l('short');case'GG':return l('long');case'GGGGG':return l('narrow');case'kk':return r.num(t.weekYear.toString().slice(-2),2);case'kkkk':return r.num(t.weekYear,4);case'W':return r.num(t.weekNumber);case'WW':return r.num(t.weekNumber,2);case'o':return r.num(t.ordinal);case'ooo':return r.num(t.ordinal,3);case'q':return r.num(t.quarter);case'qq':return r.num(t.quarter,2);case'X':return r.num(Math.floor(t.ts/1e3));case'x':return r.num(t.ts);default:return function(n){var i=e.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(t,i):n}(n)}}))},t.formatDurationFromString=function(t,n){var r,i=this,a=function(e){switch(e[0]){case'S':return'millisecond';case's':return'second';case'm':return'minute';case'h':return'hour';case'd':return'day';case'w':return'week';case'M':return'month';case'y':return'year';default:return null}},o=e.parseFormat(n),s=o.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),u=t.shiftTo.apply(t,s.map(a).filter((function(e){return e})));return Me(o,(r=u,function(e){var t=a(e);return t?i.num(r.get(t),e.length):e}))},e}(),Fe=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+': '+this.explanation:this.reason},e}(),Re=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new T},t.formatOffset=function(e,t){throw new T},t.offset=function(e){throw new T},t.equals=function(e){throw new T},i(e,[{key:'type',get:function(){throw new T}},{key:'name',get:function(){throw new T}},{key:'ianaName',get:function(){return this.name}},{key:'isUniversal',get:function(){throw new T}},{key:'isValid',get:function(){throw new T}}]),e}(),qe=null,Ve=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.offsetName=function(e,t){return de(e,t.format,t.locale)},n.formatOffset=function(e,t){return he(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return'system'===e.type},i(t,[{key:'type',get:function(){return'system'}},{key:'name',get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return!0}}],[{key:'instance',get:function(){return null===qe&&(qe=new t),qe}}]),t}(Re),Le={};var Pe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var ze={},je=function(e){function t(n){var r;return(r=e.call(this)||this).zoneName=n,r.valid=t.isValidZone(n),r}o(t,e),t.create=function(e){return ze[e]||(ze[e]=new t(e)),ze[e]},t.resetCache=function(){ze={},Le={}},t.isValidSpecifier=function(e){return this.isValidZone(e)},t.isValidZone=function(e){if(!e)return!1;try{return new Intl.DateTimeFormat('en-US',{timeZone:e}).format(),!0}catch(e){return!1}};var n=t.prototype;return n.offsetName=function(e,t){return de(e,t.format,t.locale,this.name)},n.formatOffset=function(e,t){return he(this.offset(e),t)},n.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,r=(n=this.name,Le[n]||(Le[n]=new Intl.DateTimeFormat('en-US',{hour12:!1,timeZone:n,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',era:'short'})),Le[n]),i=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=n[i],o=a.type,s=a.value,u=Pe[o];'era'===o?r[u]=s:G(u)||(r[u]=parseInt(s,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\\u200E/g,''),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),i=r[1],a=r[2];return[r[3],i,a,r[4],r[5],r[6],r[7]]}(r,t),a=i[0],o=i[1],s=i[2],u=i[3],_=i[4],c=i[5],l=i[6];'BC'===u&&(a=1-Math.abs(a));var d=+t,p=d%1e3;return(_e({year:a,month:o,day:s,hour:24===_?0:_,minute:c,second:l,millisecond:0})-(d-=p>=0?p:1e3+p))/6e4},n.equals=function(e){return'iana'===e.type&&e.name===this.name},i(t,[{key:'type',get:function(){return'iana'}},{key:'name',get:function(){return this.zoneName}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return this.valid}}]),t}(Re),He=null,Ze=function(e){function t(t){var n;return(n=e.call(this)||this).fixed=t,n}o(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new t(pe(n[1],n[2]))}return null};var n=t.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return he(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return'fixed'===e.type&&e.fixed===this.fixed},i(t,[{key:'type',get:function(){return'fixed'}},{key:'name',get:function(){return 0===this.fixed?'UTC':'UTC'+he(this.fixed,'narrow')}},{key:'ianaName',get:function(){return 0===this.fixed?'Etc/UTC':'Etc/GMT'+he(-this.fixed,'narrow')}},{key:'isUniversal',get:function(){return!0}},{key:'isValid',get:function(){return!0}}],[{key:'utcInstance',get:function(){return null===He&&(He=new t(0)),He}}]),t}(Re),We=function(e){function t(t){var n;return(n=e.call(this)||this).zoneName=t,n}o(t,e);var n=t.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return''},n.offset=function(){return NaN},n.equals=function(){return!1},i(t,[{key:'type',get:function(){return'invalid'}},{key:'name',get:function(){return this.zoneName}},{key:'isUniversal',get:function(){return!1}},{key:'isValid',get:function(){return!1}}]),t}(Re);function Be(e,t){if(G(e)||null===e)return t;if(e instanceof Re)return e;if('string'==typeof e){var n=e.toLowerCase();return'default'===n?t:'local'===n||'system'===n?Ve.instance:'utc'===n||'gmt'===n?Ze.utcInstance:Ze.parseSpecifier(n)||je.create(e)}return J(e)?Ze.instance(e):'object'==typeof e&&e.offset&&'number'==typeof e.offset?e:new We(e)}var Ye,Ge=function(){return Date.now()},Je='system',Ke=null,$e=null,Qe=null,Xe=function(){function e(){}return e.resetCaches=function(){dt.resetCache(),je.resetCache()},i(e,null,[{key:'now',get:function(){return Ge},set:function(e){Ge=e}},{key:'defaultZone',get:function(){return Be(Je,Ve.instance)},set:function(e){Je=e}},{key:'defaultLocale',get:function(){return Ke},set:function(e){Ke=e}},{key:'defaultNumberingSystem',get:function(){return $e},set:function(e){$e=e}},{key:'defaultOutputCalendar',get:function(){return Qe},set:function(e){Qe=e}},{key:'throwOnInvalid',get:function(){return Ye},set:function(e){Ye=e}}]),e}(),et=['base'],tt=['padTo','floor'],nt={};var rt={};function it(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=rt[n];return r||(r=new Intl.DateTimeFormat(e,t),rt[n]=r),r}var at={};var ot={};var st=null;function ut(e,t,n,r,i){var a=e.listingMode(n);return'error'===a?null:'en'===a?r(t):i(t)}var _t=function(){function e(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1,n.padTo,n.floor;var r=d(n,tt);if(!t||Object.keys(r).length>0){var i=a({useGrouping:!1},n);n.padTo>0&&(i.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=at[n];return r||(r=new Intl.NumberFormat(e,t),at[n]=r),r}(e,i)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return te(this.floor?Math.floor(e):ae(e,3),this.padTo)},e}(),ct=function(){function e(e,t,n){var r;if(this.opts=n,e.zone.isUniversal){var i=e.offset/60*-1,o=i>=0?'Etc/GMT+'+i:'Etc/GMT'+i;0!==e.offset&&je.create(o).valid?(r=o,this.dt=e):(r='UTC',n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:lr.fromMillis(e.ts+60*e.offset*1e3))}else'system'===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);var s=a({},this.opts);r&&(s.timeZone=r),this.dtf=it(t,s)}var t=e.prototype;return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),lt=function(){function e(e,t,n){this.opts=a({style:'long'},n),!t&&$()&&(this.rtf=function(e,t){void 0===t&&(t={});var n=t;n.base;var r=d(n,et),i=JSON.stringify([e,r]),a=ot[i];return a||(a=new Intl.RelativeTimeFormat(e,t),ot[i]=a),a}(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,r){void 0===n&&(n='always'),void 0===r&&(r=!1);var i={years:['year','yr.'],quarters:['quarter','qtr.'],months:['month','mo.'],weeks:['week','wk.'],days:['day','day','days'],hours:['hour','hr.'],minutes:['minute','min.'],seconds:['second','sec.']},a=-1===['hours','minutes','seconds'].indexOf(e);if('auto'===n&&a){var o='days'===e;switch(t){case 1:return o?'tomorrow':'next '+i[e][0];case-1:return o?'yesterday':'last '+i[e][0];case 0:return o?'today':'this '+i[e][0]}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),_=1===u,c=i[e],l=r?_?c[1]:c[2]||c[1]:_?i[e][0]:e;return s?u+' '+l+' ago':'in '+u+' '+l}(t,e,this.opts.numeric,'long'!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),dt=function(){function e(e,t,n,r){var i=function(e){var t=e.indexOf('-u-');if(-1===t)return[e];var n,r=e.substring(0,t);try{n=it(e).resolvedOptions()}catch(e){n=it(r).resolvedOptions()}var i=n;return[r,i.numberingSystem,i.calendar]}(e),a=i[0],o=i[1],s=i[2];this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||s||null,this.intl=function(e,t,n){return n||t?(e+='-u',n&&(e+='-ca-'+n),t&&(e+='-nu-'+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,r,i){void 0===i&&(i=!1);var a=t||Xe.defaultLocale;return new e(a||(i?'en-US':st||(st=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||Xe.defaultNumberingSystem,r||Xe.defaultOutputCalendar,a)},e.resetCache=function(){st=null,rt={},at={},ot={}},e.fromObject=function(t){var n=void 0===t?{}:t,r=n.locale,i=n.numberingSystem,a=n.outputCalendar;return e.create(r,i,a)};var t=e.prototype;return t.listingMode=function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&'latn'!==this.numberingSystem||null!==this.outputCalendar&&'gregory'!==this.outputCalendar);return e&&t?'en':'intl'},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(a({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(a({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),ut(this,e,n,Te,(function(){var n=t?{month:e,day:'numeric'}:{month:e},i=t?'format':'standalone';return r.monthsCache[i][e]||(r.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=lr.utc(2016,n,1);t.push(e(r))}return t}((function(e){return r.extract(e,n,'month')}))),r.monthsCache[i][e]}))},t.weekdays=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),ut(this,e,n,Oe,(function(){var n=t?{weekday:e,year:'numeric',month:'long',day:'numeric'}:{weekday:e},i=t?'format':'standalone';return r.weekdaysCache[i][e]||(r.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=lr.utc(2016,11,13+n);t.push(e(r))}return t}((function(e){return r.extract(e,n,'weekday')}))),r.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),ut(this,void 0,e,(function(){return ke}),(function(){if(!t.meridiemCache){var e={hour:'numeric',hourCycle:'h12'};t.meridiemCache=[lr.utc(2016,11,13,9),lr.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,'dayperiod')}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),ut(this,e,t,De,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[lr.utc(-40,1,1),lr.utc(2017,1,1)].map((function(e){return n.extract(e,t,'era')}))),n.eraCache[e]}))},t.extract=function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new _t(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new ct(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new lt(this.intl,this.isEnglish(),e)},t.listFormatter=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=nt[n];return r||(r=new Intl.ListFormat(e,t),nt[n]=r),r}(this.intl,e)},t.isEnglish=function(){return'en'===this.locale||'en-us'===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith('en-us')},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},i(e,[{key:'fastNumbers',get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||'latn'===e.numberingSystem)&&('latn'===e.numberingSystem||!e.locale||e.locale.startsWith('en')||'latn'===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),'');return RegExp('^'+r+'$')}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=t[0],i=t[1],o=t[2],s=n(e,o),u=s[0],_=s[1],c=s[2];return[a({},r,u),_||i,c]}),[{},null,1]).slice(0,2)}}function mt(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i],s=o[0],u=o[1],_=s.exec(e);if(_)return u(_)}return[null,null]}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,i={};for(r=0;r<t.length;r++)i[t[r]]=ne(e[n+r]);return[i,null,n+r]}}var gt=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,vt=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,yt=RegExp(''+vt.source+('(?:'+gt.source+'?(?:\\\\[('+ve.source+')\\\\])?)?')),wt=RegExp('(?:T'+yt.source+')?'),It=ht('weekYear','weekNumber','weekDay'),Tt=ht('year','ordinal'),bt=RegExp(vt.source+' ?(?:'+gt.source+'|('+ve.source+'))?'),St=RegExp('(?: '+bt.source+')?');function Et(e,t,n){var r=e[t];return G(r)?n:ne(r)}function Ot(e,t){return[{hours:Et(e,t,0),minutes:Et(e,t+1,0),seconds:Et(e,t+2,0),milliseconds:ie(e[t+3])},null,t+4]}function kt(e,t){var n=!e[t]&&!e[t+1],r=pe(e[t+1],e[t+2]);return[{},n?null:Ze.instance(r),t+3]}function xt(e,t){return[{},e[t]?je.create(e[t]):null,t+1]}var Nt=RegExp('^T?'+vt.source+'$'),Ct=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function Dt(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],_=e[8],c='-'===t[0],l=u&&'-'===u[0],d=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&c)?-e:e};return[{years:d(re(n)),months:d(re(r)),weeks:d(re(i)),days:d(re(a)),hours:d(re(o)),minutes:d(re(s)),seconds:d(re(u),'-0'===u),milliseconds:d(ie(_),l)}]}var Mt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function At(e,t,n,r,i,a,o){var s={year:2===t.length?le(ne(t)):ne(t),month:we.indexOf(n)+1,day:ne(r),hour:ne(i),minute:ne(a)};return o&&(s.second=ne(o)),e&&(s.weekday=e.length>3?be.indexOf(e)+1:Se.indexOf(e)+1),s}var Ut=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Ft(e){var t,n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],_=e[8],c=e[9],l=e[10],d=e[11],p=At(n,a,i,r,o,s,u);return t=_?Mt[_]:c?0:pe(l,d),[p,new Ze(t)]}var Rt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,qt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Vt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Lt(e){var t=e[1],n=e[2],r=e[3];return[At(t,e[4],r,n,e[5],e[6],e[7]),Ze.utcInstance]}function Pt(e){var t=e[1],n=e[2],r=e[3],i=e[4],a=e[5],o=e[6];return[At(t,e[7],n,r,i,a,o),Ze.utcInstance]}var zt=pt(/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,wt),jt=pt(/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,wt),Ht=pt(/(\\d{4})-?(\\d{3})/,wt),Zt=pt(yt),Wt=ft((function(e,t){return[{year:Et(e,t),month:Et(e,t+1,1),day:Et(e,t+2,1)},null,t+3]}),Ot,kt,xt),Bt=ft(It,Ot,kt,xt),Yt=ft(Tt,Ot,kt,xt),Gt=ft(Ot,kt,xt);var Jt=ft(Ot);var Kt=pt(/(\\d{4})-(\\d\\d)-(\\d\\d)/,St),$t=pt(bt),Qt=ft(Ot,kt,xt);var Xt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},en=a({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Xt),tn=a({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Xt),nn=['years','quarters','months','weeks','days','hours','minutes','seconds','milliseconds'],rn=nn.slice(0).reverse();function an(e,t,n){void 0===n&&(n=!1);var r={values:n?t.values:a({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new sn(r)}function on(e,t,n,r,i){var a=e[i][n],o=t[n]/a,s=!(Math.sign(o)===Math.sign(r[i]))&&0!==r[i]&&Math.abs(o)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(o):Math.trunc(o);r[i]+=s,t[n]-=s*a}var sn=function(){function e(e){var t='longterm'===e.conversionAccuracy||!1,n=t?tn:en;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||dt.create(),this.conversionAccuracy=t?'longterm':'casual',this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject({milliseconds:t},n)},e.fromObject=function(t,n){if(void 0===n&&(n={}),null==t||'object'!=typeof t)throw new I('Duration.fromObject: argument expected to be an object, got '+(null===t?'null':typeof t));return new e({values:me(t,e.normalizeUnit),loc:dt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})},e.fromDurationLike=function(t){if(J(t))return e.fromMillis(t);if(e.isDuration(t))return t;if('object'==typeof t)return e.fromObject(t);throw new I('Unknown duration argument '+t+' of type '+typeof t)},e.fromISO=function(t,n){var r=function(e){return mt(e,[Ct,Dt])}(t)[0];return r?e.fromObject(r,n):e.invalid('unparsable','the input \"'+t+'\" can\\'t be parsed as ISO 8601')},e.fromISOTime=function(t,n){var r=function(e){return mt(e,[Nt,Jt])}(t)[0];return r?e.fromObject(r,n):e.invalid('unparsable','the input \"'+t+'\" can\\'t be parsed as ISO 8601')},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new I('need to specify a reason the Duration is invalid');var r=t instanceof Fe?t:new Fe(t,n);if(Xe.throwOnInvalid)throw new v(r);return new e({invalid:r})},e.normalizeUnit=function(e){var t={year:'years',years:'years',quarter:'quarters',quarters:'quarters',month:'months',months:'months',week:'weeks',weeks:'weeks',day:'days',days:'days',hour:'hours',hours:'hours',minute:'minutes',minutes:'minutes',second:'seconds',seconds:'seconds',millisecond:'milliseconds',milliseconds:'milliseconds'}[e?e.toLowerCase():e];if(!t)throw new w(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=a({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ue.create(this.loc,n).formatDurationFromString(this,e):'Invalid Duration'},t.toHuman=function(e){var t=this;void 0===e&&(e={});var n=nn.map((function(n){var r=t.values[n];return G(r)?null:t.loc.numberFormatter(a({style:'unit',unitDisplay:'long'},e,{unit:n.slice(0,-1)})).format(r)})).filter((function(e){return e}));return this.loc.listFormatter(a({type:'conjunction',style:e.listStyle||'narrow'},e)).format(n)},t.toObject=function(){return this.isValid?a({},this.values):{}},t.toISO=function(){if(!this.isValid)return null;var e='P';return 0!==this.years&&(e+=this.years+'Y'),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+'M'),0!==this.weeks&&(e+=this.weeks+'W'),0!==this.days&&(e+=this.days+'D'),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+='T'),0!==this.hours&&(e+=this.hours+'H'),0!==this.minutes&&(e+=this.minutes+'M'),0===this.seconds&&0===this.milliseconds||(e+=ae(this.seconds+this.milliseconds/1e3,3)+'S'),'P'===e&&(e+='T0S'),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=a({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:'extended'},e);var n=this.shiftTo('hours','minutes','seconds','milliseconds'),r='basic'===e.format?'hhmm':'hh:mm';e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+='basic'===e.format?'ss':':ss',e.suppressMilliseconds&&0===n.milliseconds||(r+='.SSS'));var i=n.toFormat(r);return e.includePrefix&&(i='T'+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as('milliseconds')},t.valueOf=function(){return this.toMillis()},t.plus=function(t){if(!this.isValid)return this;for(var n,r=e.fromDurationLike(t),i={},a=f(nn);!(n=a()).done;){var o=n.value;(X(r.values,o)||X(this.values,o))&&(i[o]=r.get(o)+this.get(o))}return an(this,{values:i},!0)},t.minus=function(t){if(!this.isValid)return this;var n=e.fromDurationLike(t);return this.plus(n.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];t[i]=fe(e(this.values[i],i))}return an(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?an(this,{values:a({},this.values,me(t,e.normalizeUnit))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.conversionAccuracy,a=t.matrix;return an(this,{loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:a,conversionAccuracy:i})},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){rn.reduce((function(n,r){return G(t[r])?n:(n&&on(e,t,n,t,r),r)}),null)}(this.matrix,e),an(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,a,o={},s={},u=this.toObject(),_=f(nn);!(a=_()).done;){var c=a.value;if(n.indexOf(c)>=0){i=c;var l=0;for(var d in s)l+=this.matrix[d][c]*s[d],s[d]=0;J(u[c])&&(l+=u[c]);var p=Math.trunc(l);for(var m in o[c]=p,s[c]=(1e3*l-1e3*p)/1e3,u)nn.indexOf(m)>nn.indexOf(c)&&on(this.matrix,u,m,o,c)}else J(u[c])&&(s[c]=u[c])}for(var h in s)0!==s[h]&&(o[i]+=h===i?s[h]:s[h]/this.matrix[i][h]);return an(this,{values:o},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=0===this.values[r]?0:-this.values[r]}return an(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,n=f(nn);!(t=n()).done;){var r=t.value;if(i=this.values[r],a=e.values[r],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0},i(e,[{key:'locale',get:function(){return this.isValid?this.loc.locale:null}},{key:'numberingSystem',get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:'years',get:function(){return this.isValid?this.values.years||0:NaN}},{key:'quarters',get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:'months',get:function(){return this.isValid?this.values.months||0:NaN}},{key:'weeks',get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:'days',get:function(){return this.isValid?this.values.days||0:NaN}},{key:'hours',get:function(){return this.isValid?this.values.hours||0:NaN}},{key:'minutes',get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:'seconds',get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:'milliseconds',get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:'isValid',get:function(){return null===this.invalid}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),un='Invalid Interval';function _n(e,t){return e&&e.isValid?t&&t.isValid?t<e?cn.invalid('end before start','The end of an interval must be after its start, but you had start='+e.toISO()+' and end='+t.toISO()):null:cn.invalid('missing or invalid end'):cn.invalid('missing or invalid start')}var cn=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new I('need to specify a reason the Interval is invalid');var r=t instanceof Fe?t:new Fe(t,n);if(Xe.throwOnInvalid)throw new g(r);return new e({invalid:r})},e.fromDateTimes=function(t,n){var r=dr(t),i=dr(n),a=_n(r,i);return null==a?new e({start:r,end:i}):a},e.after=function(t,n){var r=sn.fromDurationLike(n),i=dr(t);return e.fromDateTimes(i,i.plus(r))},e.before=function(t,n){var r=sn.fromDurationLike(n),i=dr(t);return e.fromDateTimes(i.minus(r),i)},e.fromISO=function(t,n){var r=(t||'').split('/',2),i=r[0],a=r[1];if(i&&a){var o,s,u,_;try{s=(o=lr.fromISO(i,n)).isValid}catch(a){s=!1}try{_=(u=lr.fromISO(a,n)).isValid}catch(a){_=!1}if(s&&_)return e.fromDateTimes(o,u);if(s){var c=sn.fromISO(a,n);if(c.isValid)return e.after(o,c)}else if(_){var l=sn.fromISO(i,n);if(l.isValid)return e.before(u,l)}}return e.invalid('unparsable','the input \"'+t+'\" can\\'t be parsed as ISO 8601')},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e='milliseconds'),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e='milliseconds'),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var n=void 0===t?{}:t,r=n.start,i=n.end;return this.isValid?e.fromDateTimes(r||this.s,i||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=r.map(dr).filter((function(e){return t.contains(e)})).sort(),o=[],s=this.s,u=0;s<this.e;){var _=a[u]||this.e,c=+_>+this.e?this.e:_;o.push(e.fromDateTimes(s,c)),s=c,u+=1}return o},t.splitBy=function(t){var n=sn.fromDurationLike(t);if(!this.isValid||!n.isValid||0===n.as('milliseconds'))return[];for(var r,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*a})));r=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,r)),i=r,a+=1}return o},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],r=e[1];return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]),n=t[0],r=t[1];return r&&n.push(r),n},e.xor=function(t){for(var n,r,i=null,a=0,o=[],s=t.map((function(e){return[{time:e.s,type:'s'},{time:e.e,type:'e'}]})),u=f((n=Array.prototype).concat.apply(n,s).sort((function(e,t){return e.time-t.time})));!(r=u()).done;){var _=r.value;1===(a+='s'===_.type?1:-1)?i=_.time:(i&&+i!=+_.time&&o.push(e.fromDateTimes(i,_.time)),i=null)}return e.merge(o)},t.difference=function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?'['+this.s.toISO()+' – '+this.e.toISO()+')':un},t.toISO=function(e){return this.isValid?this.s.toISO(e)+'/'+this.e.toISO(e):un},t.toISODate=function(){return this.isValid?this.s.toISODate()+'/'+this.e.toISODate():un},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+'/'+this.e.toISOTime(e):un},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,r=void 0===n?' – ':n;return this.isValid?''+this.s.toFormat(e)+r+this.e.toFormat(e):un},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):sn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},i(e,[{key:'start',get:function(){return this.isValid?this.s:null}},{key:'end',get:function(){return this.isValid?this.e:null}},{key:'isValid',get:function(){return null===this.invalidReason}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),ln=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=Xe.defaultZone);var t=lr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return je.isValidZone(e)},e.normalizeZone=function(e){return Be(e,Xe.defaultZone)},e.months=function(e,t){void 0===e&&(e='long');var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a,s=n.locObj,u=void 0===s?null:s,_=n.outputCalendar,c=void 0===_?'gregory':_;return(u||dt.create(i,o,c)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e='long');var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a,s=n.locObj,u=void 0===s?null:s,_=n.outputCalendar,c=void 0===_?'gregory':_;return(u||dt.create(i,o,c)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e='long');var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a,s=n.locObj;return((void 0===s?null:s)||dt.create(i,o,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e='long');var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a,s=n.locObj;return((void 0===s?null:s)||dt.create(i,o,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t;return dt.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e='short');var n=(void 0===t?{}:t).locale,r=void 0===n?null:n;return dt.create(r,null,'gregory').eras(e)},e.features=function(){return{relative:$()}},e}();function dn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf('day').valueOf()},r=n(t)-n(e);return Math.floor(sn.fromMillis(r).as('days'))}function pn(e,t,n,r){var i=function(e,t,n){for(var r,i,a={},o=0,s=[['years',function(e,t){return t.year-e.year}],['quarters',function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],['months',function(e,t){return t.month-e.month+12*(t.year-e.year)}],['weeks',function(e,t){var n=dn(e,t);return(n-n%7)/7}],['days',dn]];o<s.length;o++){var u=s[o],_=u[0],c=u[1];if(n.indexOf(_)>=0){var l;r=_;var d,p=c(e,t);if((i=e.plus(((l={})[_]=p,l)))>t)e=e.plus(((d={})[_]=p-1,d)),p-=1;else e=i;a[_]=p}}return[e,a,i,r]}(e,t,n),a=i[0],o=i[1],s=i[2],u=i[3],_=t-a,c=n.filter((function(e){return['hours','minutes','seconds','milliseconds'].indexOf(e)>=0}));if(0===c.length){var l;if(s<t)s=a.plus(((l={})[u]=1,l));s!==a&&(o[u]=(o[u]||0)+_/(s-a))}var d,p=sn.fromObject(o,r);return c.length>0?(d=sn.fromMillis(_,r)).shiftTo.apply(d,c).plus(p):p}var fn={arab:'[٠-٩]',arabext:'[۰-۹]',bali:'[᭐-᭙]',beng:'[০-৯]',deva:'[०-९]',fullwide:'[０-９]',gujr:'[૦-૯]',hanidec:'[〇|一|二|三|四|五|六|七|八|九]',khmr:'[០-៩]',knda:'[೦-೯]',laoo:'[໐-໙]',limb:'[᥆-᥏]',mlym:'[൦-൯]',mong:'[᠐-᠙]',mymr:'[၀-၉]',orya:'[୦-୯]',tamldec:'[௦-௯]',telu:'[౦-౯]',thai:'[๐-๙]',tibt:'[༠-༩]',latn:'\\\\d'},mn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hn=fn.hanidec.replace(/[\\[|\\]]/g,'').split('');function gn(e,t){var n=e.numberingSystem;return void 0===t&&(t=''),new RegExp(''+fn[n||'latn']+t)}function vn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t='';for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(fn.hanidec))t+=hn.indexOf(e[n]);else for(var i in mn){var a=mn[i],o=a[0],s=a[1];r>=o&&r<=s&&(t+=r-o)}}return parseInt(t,10)}return t}(n))}}}var yn='[ '+String.fromCharCode(160)+']',wn=new RegExp(yn,'g');function In(e){return e.replace(/\\./g,'\\\\.?').replace(wn,yn)}function Tn(e){return e.replace(/\\./g,'').replace(wn,' ').toLowerCase()}function bn(e,t){return null===e?null:{regex:RegExp(e.map(In).join('|')),deser:function(n){var r=n[0];return e.findIndex((function(e){return Tn(r)===Tn(e)}))+t}}}function Sn(e,t){return{regex:e,deser:function(e){return pe(e[1],e[2])},groups:t}}function En(e){return{regex:e,deser:function(e){return e[0]}}}var On={year:{'2-digit':'yy',numeric:'yyyyy'},month:{numeric:'M','2-digit':'MM',short:'MMM',long:'MMMM'},day:{numeric:'d','2-digit':'dd'},weekday:{short:'EEE',long:'EEEE'},dayperiod:'a',dayPeriod:'a',hour:{numeric:'h','2-digit':'hh'},minute:{numeric:'m','2-digit':'mm'},second:{numeric:'s','2-digit':'ss'},timeZoneName:{long:'ZZZZZ',short:'ZZZ'}};var kn=null;function xn(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return function(e,t){if(e.literal)return e;var n=Cn(Ue.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)})))}function Nn(e,t,n){var r=xn(Ue.parseFormat(n),e),i=r.map((function(t){return n=t,i=gn(r=e),a=gn(r,'{2}'),o=gn(r,'{3}'),s=gn(r,'{4}'),u=gn(r,'{6}'),_=gn(r,'{1,2}'),c=gn(r,'{1,3}'),l=gn(r,'{1,6}'),d=gn(r,'{1,9}'),p=gn(r,'{2,4}'),f=gn(r,'{4,6}'),m=function(e){return{regex:RegExp((t=e.val,t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,'\\\\$&'))),deser:function(e){return e[0]},literal:!0};var t},(h=function(e){if(n.literal)return m(e);switch(e.val){case'G':return bn(r.eras('short',!1),0);case'GG':return bn(r.eras('long',!1),0);case'y':return vn(l);case'yy':return vn(p,le);case'yyyy':return vn(s);case'yyyyy':return vn(f);case'yyyyyy':return vn(u);case'M':return vn(_);case'MM':return vn(a);case'MMM':return bn(r.months('short',!0,!1),1);case'MMMM':return bn(r.months('long',!0,!1),1);case'L':return vn(_);case'LL':return vn(a);case'LLL':return bn(r.months('short',!1,!1),1);case'LLLL':return bn(r.months('long',!1,!1),1);case'd':return vn(_);case'dd':return vn(a);case'o':return vn(c);case'ooo':return vn(o);case'HH':return vn(a);case'H':return vn(_);case'hh':return vn(a);case'h':return vn(_);case'mm':return vn(a);case'm':case'q':return vn(_);case'qq':return vn(a);case's':return vn(_);case'ss':return vn(a);case'S':return vn(c);case'SSS':return vn(o);case'u':return En(d);case'uu':return En(_);case'uuu':return vn(i);case'a':return bn(r.meridiems(),0);case'kkkk':return vn(s);case'kk':return vn(p,le);case'W':return vn(_);case'WW':return vn(a);case'E':case'c':return vn(i);case'EEE':return bn(r.weekdays('short',!1,!1),1);case'EEEE':return bn(r.weekdays('long',!1,!1),1);case'ccc':return bn(r.weekdays('short',!0,!1),1);case'cccc':return bn(r.weekdays('long',!0,!1),1);case'Z':case'ZZ':return Sn(new RegExp('([+-]'+_.source+')(?::('+a.source+'))?'),2);case'ZZZ':return Sn(new RegExp('([+-]'+_.source+')('+a.source+')?'),2);case'z':return En(/[a-z_+-/]{1,256}?/i);default:return m(e)}}(n)||{invalidReason:'missing Intl.DateTimeFormat.formatToParts support'}).token=n,h;var n,r,i,a,o,s,u,_,c,l,d,p,f,m,h})),a=i.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:r,invalidReason:a.invalidReason};var o=function(e){return['^'+e.map((function(e){return e.regex})).reduce((function(e,t){return e+'('+t.source+')'}),'')+'$',e]}(i),s=o[0],u=o[1],_=RegExp(s,'i'),c=function(e,t,n){var r=e.match(t);if(r){var i={},a=1;for(var o in n)if(X(n,o)){var s=n[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(r.slice(a,a+u))),a+=u}return[r,i]}return[r,{}]}(t,_,u),l=c[0],d=c[1],p=d?function(e){var t,n=null;return G(e.z)||(n=je.create(e.z)),G(e.Z)||(n||(n=new Ze(e.Z)),t=e.Z),G(e.q)||(e.M=3*(e.q-1)+1),G(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),G(e.u)||(e.S=ie(e.u)),[Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case'S':return'millisecond';case's':return'second';case'm':return'minute';case'h':case'H':return'hour';case'd':return'day';case'o':return'ordinal';case'L':case'M':return'month';case'y':return'year';case'E':case'c':return'weekday';case'W':return'weekNumber';case'k':return'weekYear';case'q':return'quarter';default:return null}}(n);return r&&(t[r]=e[n]),t}),{}),n,t]}(d):[null,null,void 0],f=p[0],m=p[1],h=p[2];if(X(d,'a')&&X(d,'H'))throw new y('Can\\'t include meridiem when specifying 24-hour format');return{input:t,tokens:r,regex:_,rawMatches:l,matches:d,result:f,zone:m,specificOffset:h}}function Cn(e,t){return e?Ue.create(t,e).formatDateTimeParts((kn||(kn=lr.fromMillis(1555555555555)),kn)).map((function(t){return function(e,t,n){var r=e.type,i=e.value;if('literal'===r)return{literal:!0,val:i};var a=n[r],o=On[r];return'object'==typeof o&&(o=o[a]),o?{literal:!1,val:o}:void 0}(t,0,e)})):null}var Dn=[0,31,59,90,120,151,181,212,243,273,304,334],Mn=[0,31,60,91,121,152,182,213,244,274,305,335];function An(e,t){return new Fe('unit out of range','you specified '+t+' (of type '+typeof t+') as a '+e+', which is invalid')}function Un(e,t,n){var r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var i=r.getUTCDay();return 0===i?7:i}function Fn(e,t,n){return n+(oe(e)?Mn:Dn)[t-1]}function Rn(e,t){var n=oe(e)?Mn:Dn,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function qn(e){var t,n=e.year,r=e.month,i=e.day,o=Fn(n,r,i),s=Un(n,r,i),u=Math.floor((o-s+10)/7);return u<1?u=ce(t=n-1):u>ce(n)?(t=n+1,u=1):t=n,a({weekYear:t,weekNumber:u,weekday:s},ge(e))}function Vn(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,o=Un(n,1,4),s=se(n),u=7*r+i-o-3;u<1?u+=se(t=n-1):u>s?(t=n+1,u-=se(n)):t=n;var _=Rn(t,u);return a({year:t,month:_.month,day:_.day},ge(e))}function Ln(e){var t=e.year;return a({year:t,ordinal:Fn(t,e.month,e.day)},ge(e))}function Pn(e){var t=e.year,n=Rn(t,e.ordinal);return a({year:t,month:n.month,day:n.day},ge(e))}function zn(e){var t=K(e.year),n=ee(e.month,1,12),r=ee(e.day,1,ue(e.year,e.month));return t?n?!r&&An('day',e.day):An('month',e.month):An('year',e.year)}function jn(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,a=ee(t,0,23)||24===t&&0===n&&0===r&&0===i,o=ee(n,0,59),s=ee(r,0,59),u=ee(i,0,999);return a?o?s?!u&&An('millisecond',i):An('second',r):An('minute',n):An('hour',t)}var Hn='Invalid DateTime';function Zn(e){return new Fe('unsupported zone','the zone \"'+e.name+'\" is not supported')}function Wn(e){return null===e.weekData&&(e.weekData=qn(e.c)),e.weekData}function Bn(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new lr(a({},n,t,{old:n}))}function Yn(e,t,n){var r=e-60*t*1e3,i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;var a=n.offset(r);return i===a?[r,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}function Gn(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Jn(e,t,n){return Yn(_e(e),t,n)}function Kn(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=a({},e.c,{year:r,month:i,day:Math.min(e.c.day,ue(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=sn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as('milliseconds'),u=Yn(_e(o),n,e.zone),_=u[0],c=u[1];return 0!==s&&(_+=s,c=e.zone.offset(_)),{ts:_,o:c}}function $n(e,t,n,r,i,o){var s=n.setZone,u=n.zone;if(e&&0!==Object.keys(e).length){var _=t||u,c=lr.fromObject(e,a({},n,{zone:_,specificOffset:o}));return s?c:c.setZone(u)}return lr.invalid(new Fe('unparsable','the input \"'+i+'\" can\\'t be parsed as '+r))}function Qn(e,t,n){return void 0===n&&(n=!0),e.isValid?Ue.create(dt.create('en-US'),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Xn(e,t){var n=e.c.year>9999||e.c.year<0,r='';return n&&e.c.year>=0&&(r+='+'),r+=te(e.c.year,n?6:4),t?(r+='-',r+=te(e.c.month),r+='-',r+=te(e.c.day)):(r+=te(e.c.month),r+=te(e.c.day)),r}function er(e,t,n,r,i,a){var o=te(e.c.hour);return t?(o+=':',o+=te(e.c.minute),0===e.c.second&&n||(o+=':')):o+=te(e.c.minute),0===e.c.second&&n||(o+=te(e.c.second),0===e.c.millisecond&&r||(o+='.',o+=te(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!a?o+='Z':e.o<0?(o+='-',o+=te(Math.trunc(-e.o/60)),o+=':',o+=te(Math.trunc(-e.o%60))):(o+='+',o+=te(Math.trunc(e.o/60)),o+=':',o+=te(Math.trunc(e.o%60)))),a&&(o+='['+e.zone.ianaName+']'),o}var tr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},nr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ir=['year','month','day','hour','minute','second','millisecond'],ar=['weekYear','weekNumber','weekday','hour','minute','second','millisecond'],or=['year','ordinal','hour','minute','second','millisecond'];function sr(e){var t={year:'year',years:'year',month:'month',months:'month',day:'day',days:'day',hour:'hour',hours:'hour',minute:'minute',minutes:'minute',quarter:'quarter',quarters:'quarter',second:'second',seconds:'second',millisecond:'millisecond',milliseconds:'millisecond',weekday:'weekday',weekdays:'weekday',weeknumber:'weekNumber',weeksnumber:'weekNumber',weeknumbers:'weekNumber',weekyear:'weekYear',weekyears:'weekYear',ordinal:'ordinal'}[e.toLowerCase()];if(!t)throw new w(e);return t}function ur(e,t){var n,r,i=Be(t.zone,Xe.defaultZone),a=dt.fromObject(t),o=Xe.now();if(G(e.year))n=o;else{for(var s,u=f(ir);!(s=u()).done;){var _=s.value;G(e[_])&&(e[_]=tr[_])}var c=zn(e)||jn(e);if(c)return lr.invalid(c);var l=Jn(e,i.offset(o),i);n=l[0],r=l[1]}return new lr({ts:n,zone:i,loc:a,o:r})}function _r(e,t,n){var r=!!G(n.round)||n.round,i=function(e,i){return e=ae(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},a=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return i(a(n.unit),n.unit);for(var o,s=f(n.units);!(o=s()).done;){var u=o.value,_=a(u);if(Math.abs(_)>=1)return i(_,u)}return i(e>t?-0:0,n.units[n.units.length-1])}function cr(e){var t,n={};return e.length>0&&'object'==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var lr=function(){function e(e){var t=e.zone||Xe.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Fe('invalid input'):null)||(t.isValid?null:Zn(t));this.ts=G(e.ts)?Xe.now():e.ts;var r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var a=[e.old.c,e.old.o];r=a[0],i=a[1]}else{var o=t.offset(this.ts);r=Gn(this.ts,o),r=(n=Number.isNaN(r.year)?new Fe('invalid input'):null)?null:r,i=n?null:o}this._zone=t,this.loc=e.loc||dt.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var e=cr(arguments),t=e[0],n=e[1],r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],_=n[6];return ur({year:r,month:i,day:a,hour:o,minute:s,second:u,millisecond:_},t)},e.utc=function(){var e=cr(arguments),t=e[0],n=e[1],r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],_=n[6];return t.zone=Ze.utcInstance,ur({year:r,month:i,day:a,hour:o,minute:s,second:u,millisecond:_},t)},e.fromJSDate=function(t,n){void 0===n&&(n={});var r,i=(r=t,'[object Date]'===Object.prototype.toString.call(r)?t.valueOf():NaN);if(Number.isNaN(i))return e.invalid('invalid input');var a=Be(n.zone,Xe.defaultZone);return a.isValid?new e({ts:i,zone:a,loc:dt.fromObject(n)}):e.invalid(Zn(a))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),J(t))return t<-864e13||t>864e13?e.invalid('Timestamp out of range'):new e({ts:t,zone:Be(n.zone,Xe.defaultZone),loc:dt.fromObject(n)});throw new I('fromMillis requires a numerical input, but received a '+typeof t+' with value '+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),J(t))return new e({ts:1e3*t,zone:Be(n.zone,Xe.defaultZone),loc:dt.fromObject(n)});throw new I('fromSeconds requires a numerical input')},e.fromObject=function(t,n){void 0===n&&(n={}),t=t||{};var r=Be(n.zone,Xe.defaultZone);if(!r.isValid)return e.invalid(Zn(r));var i=Xe.now(),a=G(n.specificOffset)?r.offset(i):n.specificOffset,o=me(t,sr),s=!G(o.ordinal),u=!G(o.year),_=!G(o.month)||!G(o.day),c=u||_,l=o.weekYear||o.weekNumber,d=dt.fromObject(n);if((c||s)&&l)throw new y('Can\\'t mix weekYear/weekNumber units with year/month/day or ordinals');if(_&&s)throw new y('Can\\'t mix ordinal dates with month/day');var p,m,h=l||o.weekday&&!c,g=Gn(i,a);h?(p=ar,m=nr,g=qn(g)):s?(p=or,m=rr,g=Ln(g)):(p=ir,m=tr);for(var v,w=!1,I=f(p);!(v=I()).done;){var T=v.value;G(o[T])?o[T]=w?m[T]:g[T]:w=!0}var b=(h?function(e){var t=K(e.weekYear),n=ee(e.weekNumber,1,ce(e.weekYear)),r=ee(e.weekday,1,7);return t?n?!r&&An('weekday',e.weekday):An('week',e.week):An('weekYear',e.weekYear)}(o):s?function(e){var t=K(e.year),n=ee(e.ordinal,1,se(e.year));return t?!n&&An('ordinal',e.ordinal):An('year',e.year)}(o):zn(o))||jn(o);if(b)return e.invalid(b);var S=Jn(h?Vn(o):s?Pn(o):o,a,r),E=new e({ts:S[0],zone:r,o:S[1],loc:d});return o.weekday&&c&&t.weekday!==E.weekday?e.invalid('mismatched weekday','you can\\'t specify both a weekday of '+o.weekday+' and a date of '+E.toISO()):E},e.fromISO=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[zt,Wt],[jt,Bt],[Ht,Yt],[Zt,Gt])}(e);return $n(n[0],n[1],t,'ISO 8601',e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=function(e){return mt(function(e){return e.replace(/\\([^)]*\\)|[\\n\\t]/g,' ').replace(/(\\s\\s+)/g,' ').trim()}(e),[Ut,Ft])}(e);return $n(n[0],n[1],t,'RFC 2822',e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[Rt,Lt],[qt,Lt],[Vt,Pt])}(e);return $n(n[0],n[1],t,'HTTP',t)},e.fromFormat=function(t,n,r){if(void 0===r&&(r={}),G(t)||G(n))throw new I('fromFormat requires an input string and a format');var i=r,a=i.locale,o=void 0===a?null:a,s=i.numberingSystem,u=void 0===s?null:s,_=function(e,t,n){var r=Nn(e,t,n);return[r.result,r.zone,r.specificOffset,r.invalidReason]}(dt.fromOpts({locale:o,numberingSystem:u,defaultToEN:!0}),t,n),c=_[0],l=_[1],d=_[2],p=_[3];return p?e.invalid(p):$n(c,l,r,'format '+n,t,d)},e.fromString=function(t,n,r){return void 0===r&&(r={}),e.fromFormat(t,n,r)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=function(e){return mt(e,[Kt,Wt],[$t,Qt])}(e);return $n(n[0],n[1],t,'SQL',e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new I('need to specify a reason the DateTime is invalid');var r=t instanceof Fe?t:new Fe(t,n);if(Xe.throwOnInvalid)throw new h(r);return new e({invalid:r})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1},e.parseFormatForOpts=function(e,t){void 0===t&&(t={});var n=Cn(e,dt.fromObject(t));return n?n.map((function(e){return e?e.val:null})).join(''):null},e.expandFormat=function(e,t){return void 0===t&&(t={}),xn(Ue.parseFormat(e),dt.fromObject(t)).map((function(e){return e.val})).join('')};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOptions=function(e){void 0===e&&(e={});var t=Ue.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(Ze.instance(e),t)},t.toLocal=function(){return this.setZone(Xe.defaultZone)},t.setZone=function(t,n){var r=void 0===n?{}:n,i=r.keepLocalTime,a=void 0!==i&&i,o=r.keepCalendarTime,s=void 0!==o&&o;if((t=Be(t,Xe.defaultZone)).equals(this.zone))return this;if(t.isValid){var u=this.ts;if(a||s){var _=t.offset(this.ts);u=Jn(this.toObject(),_,t)[0]}return Bn(this,{ts:u,zone:t})}return e.invalid(Zn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.outputCalendar;return Bn(this,{loc:this.loc.clone({locale:n,numberingSystem:r,outputCalendar:i})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=me(e,sr),r=!G(n.weekYear)||!G(n.weekNumber)||!G(n.weekday),i=!G(n.ordinal),o=!G(n.year),s=!G(n.month)||!G(n.day),u=o||s,_=n.weekYear||n.weekNumber;if((u||i)&&_)throw new y('Can\\'t mix weekYear/weekNumber units with year/month/day or ordinals');if(s&&i)throw new y('Can\\'t mix ordinal dates with month/day');r?t=Vn(a({},qn(this.c),n)):G(n.ordinal)?(t=a({},this.toObject(),n),G(n.day)&&(t.day=Math.min(ue(t.year,t.month),t.day))):t=Pn(a({},Ln(this.c),n));var c=Jn(t,this.o,this.zone);return Bn(this,{ts:c[0],o:c[1]})},t.plus=function(e){return this.isValid?Bn(this,Kn(this,sn.fromDurationLike(e))):this},t.minus=function(e){return this.isValid?Bn(this,Kn(this,sn.fromDurationLike(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},n=sn.normalizeUnit(e);switch(n){case'years':t.month=1;case'quarters':case'months':t.day=1;case'weeks':case'days':t.hour=0;case'hours':t.minute=0;case'minutes':t.second=0;case'seconds':t.millisecond=0}if('weeks'===n&&(t.weekday=1),'quarters'===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Ue.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Hn},t.toLocaleString=function(e,t){return void 0===e&&(e=O),void 0===t&&(t={}),this.isValid?Ue.create(this.loc.clone(t),e).formatDateTime(this):Hn},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Ue.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){var t=void 0===e?{}:e,n=t.format,r=void 0===n?'extended':n,i=t.suppressSeconds,a=void 0!==i&&i,o=t.suppressMilliseconds,s=void 0!==o&&o,u=t.includeOffset,_=void 0===u||u,c=t.extendedZone,l=void 0!==c&&c;if(!this.isValid)return null;var d='extended'===r,p=Xn(this,d);return p+='T',p+=er(this,d,a,s,_,l)},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n=void 0===t?'extended':t;return this.isValid?Xn(this,'extended'===n):null},t.toISOWeekDate=function(){return Qn(this,'kkkk-\\'W\\'WW-c')},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,r=void 0!==n&&n,i=t.suppressSeconds,a=void 0!==i&&i,o=t.includeOffset,s=void 0===o||o,u=t.includePrefix,_=void 0!==u&&u,c=t.extendedZone,l=void 0!==c&&c,d=t.format,p=void 0===d?'extended':d;return this.isValid?(_?'T':'')+er(this,'extended'===p,a,r,s,l):null},t.toRFC2822=function(){return Qn(this,'EEE, dd LLL yyyy HH:mm:ss ZZZ',!1)},t.toHTTP=function(){return Qn(this.toUTC(),'EEE, dd LLL yyyy HH:mm:ss \\'GMT\\'')},t.toSQLDate=function(){return this.isValid?Xn(this,!0):null},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,r=void 0===n||n,i=t.includeZone,a=void 0!==i&&i,o=t.includeOffsetSpace,s='HH:mm:ss.SSS';return(a||r)&&((void 0===o||o)&&(s+=' '),a?s+='z':r&&(s+='ZZ')),Qn(this,s,!0)},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+' '+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Hn},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=a({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t='milliseconds'),void 0===n&&(n={}),!this.isValid||!e.isValid)return sn.invalid('created by diffing an invalid DateTime');var r,i=a({locale:this.locale,numberingSystem:this.numberingSystem},n),o=(r=t,Array.isArray(r)?r:[r]).map(sn.normalizeUnit),s=e.valueOf()>this.valueOf(),u=pn(s?this:e,s?e:this,o,i);return s?u.negate():u},t.diffNow=function(t,n){return void 0===t&&(t='milliseconds'),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?cn.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=['years','months','days','hours','minutes','seconds'],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),_r(n,this.plus(r),a({},t,{numeric:'always',units:i,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?_r(t.base||e.fromObject({},{zone:this.zone}),this,a({},t,{numeric:'auto',units:['years','months','days'],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new I('min requires all arguments be DateTimes');return Q(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new I('max requires all arguments be DateTimes');return Q(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var r=n,i=r.locale,a=void 0===i?null:i,o=r.numberingSystem,s=void 0===o?null:o;return Nn(dt.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,r){return void 0===r&&(r={}),e.fromFormatExplain(t,n,r)},i(e,[{key:'isValid',get:function(){return null===this.invalid}},{key:'invalidReason',get:function(){return this.invalid?this.invalid.reason:null}},{key:'invalidExplanation',get:function(){return this.invalid?this.invalid.explanation:null}},{key:'locale',get:function(){return this.isValid?this.loc.locale:null}},{key:'numberingSystem',get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:'outputCalendar',get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:'zone',get:function(){return this._zone}},{key:'zoneName',get:function(){return this.isValid?this.zone.name:null}},{key:'year',get:function(){return this.isValid?this.c.year:NaN}},{key:'quarter',get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:'month',get:function(){return this.isValid?this.c.month:NaN}},{key:'day',get:function(){return this.isValid?this.c.day:NaN}},{key:'hour',get:function(){return this.isValid?this.c.hour:NaN}},{key:'minute',get:function(){return this.isValid?this.c.minute:NaN}},{key:'second',get:function(){return this.isValid?this.c.second:NaN}},{key:'millisecond',get:function(){return this.isValid?this.c.millisecond:NaN}},{key:'weekYear',get:function(){return this.isValid?Wn(this).weekYear:NaN}},{key:'weekNumber',get:function(){return this.isValid?Wn(this).weekNumber:NaN}},{key:'weekday',get:function(){return this.isValid?Wn(this).weekday:NaN}},{key:'ordinal',get:function(){return this.isValid?Ln(this.c).ordinal:NaN}},{key:'monthShort',get:function(){return this.isValid?ln.months('short',{locObj:this.loc})[this.month-1]:null}},{key:'monthLong',get:function(){return this.isValid?ln.months('long',{locObj:this.loc})[this.month-1]:null}},{key:'weekdayShort',get:function(){return this.isValid?ln.weekdays('short',{locObj:this.loc})[this.weekday-1]:null}},{key:'weekdayLong',get:function(){return this.isValid?ln.weekdays('long',{locObj:this.loc})[this.weekday-1]:null}},{key:'offset',get:function(){return this.isValid?+this.o:NaN}},{key:'offsetNameShort',get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:'short',locale:this.locale}):null}},{key:'offsetNameLong',get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:'long',locale:this.locale}):null}},{key:'isOffsetFixed',get:function(){return this.isValid?this.zone.isUniversal:null}},{key:'isInDST',get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:'isInLeapYear',get:function(){return oe(this.year)}},{key:'daysInMonth',get:function(){return ue(this.year,this.month)}},{key:'daysInYear',get:function(){return this.isValid?se(this.year):NaN}},{key:'weeksInWeekYear',get:function(){return this.isValid?ce(this.weekYear):NaN}}],[{key:'DATE_SHORT',get:function(){return O}},{key:'DATE_MED',get:function(){return k}},{key:'DATE_MED_WITH_WEEKDAY',get:function(){return x}},{key:'DATE_FULL',get:function(){return N}},{key:'DATE_HUGE',get:function(){return C}},{key:'TIME_SIMPLE',get:function(){return D}},{key:'TIME_WITH_SECONDS',get:function(){return M}},{key:'TIME_WITH_SHORT_OFFSET',get:function(){return A}},{key:'TIME_WITH_LONG_OFFSET',get:function(){return U}},{key:'TIME_24_SIMPLE',get:function(){return F}},{key:'TIME_24_WITH_SECONDS',get:function(){return R}},{key:'TIME_24_WITH_SHORT_OFFSET',get:function(){return q}},{key:'TIME_24_WITH_LONG_OFFSET',get:function(){return V}},{key:'DATETIME_SHORT',get:function(){return L}},{key:'DATETIME_SHORT_WITH_SECONDS',get:function(){return P}},{key:'DATETIME_MED',get:function(){return z}},{key:'DATETIME_MED_WITH_SECONDS',get:function(){return j}},{key:'DATETIME_MED_WITH_WEEKDAY',get:function(){return H}},{key:'DATETIME_FULL',get:function(){return Z}},{key:'DATETIME_FULL_WITH_SECONDS',get:function(){return W}},{key:'DATETIME_HUGE',get:function(){return B}},{key:'DATETIME_HUGE_WITH_SECONDS',get:function(){return Y}}]),e}();function dr(e){if(lr.isDateTime(e))return e;if(e&&e.valueOf&&J(e.valueOf()))return lr.fromJSDate(e);if(e&&'object'==typeof e)return lr.fromObject(e);throw new I('Unknown datetime argument: '+e+', of type '+typeof e)}t.DateTime=lr,t.Duration=sn,t.FixedOffsetZone=Ze,t.IANAZone=je,t.Info=ln,t.Interval=cn,t.InvalidZone=We,t.Settings=Xe,t.SystemZone=Ve,t.VERSION='3.0.4',t.Zone=Re},function(e,t,n){const r=n(16);e.exports=function(e){const t=e&&e.tasks&&e.tasks.schedules,n={isTimely:()=>!0,addDate:function(e,t){let r;return r=e?new Date(e.getTime()):n.now(),r.setDate(r.getDate()+t),r.setHours(0,0,0,0),r},getLmpDate:function(e){const t=e.fields.last_menstrual_period||4;return n.addDate(new Date(e.reported_date),-7*t)},getSchedule:function(e){return r.findWhere(t,{name:e})},getMostRecentTimestamp:function(e,t,r){const i=n.getMostRecentReport(e,t,r);return i&&i.reported_date},getMostRecentReport:function(e,t,r){Array.isArray(t)||(t=[t]);let i=null;return e.forEach((function(e){t.includes(e.form)&&!e.deleted&&(!i||e.reported_date>i.reported_date)&&(!r||e.fields&&n.fieldsMatch(e,r))&&(i=e)})),i},isFormSubmittedInWindow:function(e,t,n,r,i){let a=!1;return e.forEach((function(e){a||e.form!==t||e.reported_date>=n&&e.reported_date<=r&&(!i||i&&e.fields&&e.fields.follow_up_count>i)&&(a=!0)})),a},isFirstReportNewer:function(e,t){return e&&e.reported_date?!t||!t.reported_date||e.reported_date>t.reported_date:null},isDateValid:function(e){return!isNaN(e.getTime())},getField:function(e,t){return r.propertyOf(e.fields)(t.split('.'))},fieldsMatch:function(e,t){return Object.keys(t).every((function(r){return n.getField(e,r)===t[r]}))},MS_IN_DAY:864e5,now:function(){return new Date}};return n}},function(e,t,n){const r=n(1),{isEligibleForTasks:i,PNC_PERIOD_DAYS:a,getVaccinesReceived:o,countTotalVaccinesByAge:s,getNewbornHomeVisitCount:u,Services:_,Persons:c}=r,{DateTime:l}=n(2),d=e=>Utils.getMostRecentReport(e,_.PREGNANCY_HOME_VISIT),p={[_.PREGNANCY_HOME_VISIT]:['has_been_referred'],[_.POSTNATAL_CARE_SERVICE]:['needs_danger_signs_follow_up','needs_pnc_update_follow_up','needs_mental_health_follow_up'],[_.POSTNATAL_CARE_SERVICE_NEWBORN]:['is_referred'],[_.U5_ASSESSMENT]:['has_been_referred'],[_.IMMUNIZATION_SERVICE]:['needs_follow_up'],[_.DEFAULTER_FOLLOW_UP]:['needs_follow_up']},f=e=>e&&e.form===_.U5_ASSESSMENT&&'yes'===Utils.getField(e,'u5_assessment.has_cough')&&'true'===Utils.getField(e,'u5_assessment.u5_has_fast_breathing'),m={[_.U5_ASSESSMENT]:'growth_and_monitoring.is_participating_growth_monitoring',[_.IMMUNIZATION_SERVICE]:'group_growth_and_monitoring.is_participating_in_monthly_growth_monitoring'},h={[_.U5_ASSESSMENT]:'malaria_screening.malaria_test_result',[_.OVER_FIVE_ASSESSMENT]:'group_malaria.rdt_result'},g={[_.CHA_SUPERVISION_CALENDAR]:'details.when_supervise',[_.CHV_SUPERVISION]:'group_visit.is_available'},v={[_.CHA_SUPERVISION_CALENDAR]:'details.when_supervise',[_.CHV_SUPERVISION]:'next_supervision_visit_date'},y={[_.OVER_FIVE_ASSESSMENT]:'group_sexual_gender_based_violence.is_referred_to_cha',[_.SGBV]:'sgbv.is_referred_to_cha'},w=()=>l.local().startOf('month');e.exports={isEligibleForTasks:i,isFormArraySubmittedInWindow:(e,t,n,r,i,a)=>{let o=!1,s=0;const u=Utils.addDate(n,-r.start).getTime(),_=Utils.addDate(n,r.end+1).getTime();return e.some((function(e){t.includes(e.form)&&e.reported_date>=u&&e.reported_date<=_&&(a?Utils.getField(e,'inputs.source_id')===a&&(o=!0,i&&s++):(o=!0,i&&s++))})),i?s>=i:o},PNC_PERIOD_DAYS:a,getVaccinesReceived:o,countTotalVaccinesByAge:s,getNewbornHomeVisitCount:u,getMostRecentEddForPregnancy:e=>Utils.getField(d(e),'current_edd'),getReportsSubmittedInWindow:(e,t,n,r,i)=>{const a=[];return e.forEach((function(e){t.includes(e.form)&&e.reported_date>=n&&e.reported_date<=r&&(i&&!i(e)||a.push(e))})),a},isPregnancyTaskMuted:e=>{if(!i(e.contact))return!0;const t=d(e.reports),n=e.reports.filter(e=>e.form===_.POSTNATAL_CARE_SERVICE&&'yes'===Utils.getField(e,'group_pregnancy_status.has_delivered'));if(!t)return!1;if(n.length>0){const e=Utils.getMostRecentReport(n,_.POSTNATAL_CARE_SERVICE);return e&&e.reported_date>t.reported_date}return t&&'no'===Utils.getField(t,'pregnancy_screening.is_still_pregnant')},isReportedThisMonth:e=>{const t=l.local(),n=l.fromMillis(e.reported_date);return t.month===n.month&&t.year===n.year},ageInMonths:e=>l.local().diff(l.fromISO(e)).as('months'),ageInYears:e=>l.local().diff(l.fromISO(e)).as('years'),isReferredByCHV:(e,t)=>p[t.form].some(e=>['true','yes'].includes(Utils.getField(t,e))),isUnder5WithPneumonia:f,isUnder5WithPneumoniaTreated:e=>f(e)&&'no'===Utils.getField(e,'u5_assessment.chest_indrawing')&&'yes'===Utils.getField(e,'group_summary_no_danger_signs.r_given_amox'),FIELDS_FOR_CHV_REFERRAL:p,FIELDS_FOR_MRDT_RESULT:h,MRDT_RESULT_OPTIONS:['positive','negative','invalid','not_done'],MRDT_TEST_RESULT_OPTIONS:['positive','negative','invalid'],MUAC_COLORS:['red','yellow','green'],FIELDS_FOR_GROWTH_MONITORING:m,MALNUTRITION_MUAC_COLORS:['red','yellow'],FIELDS_FOR_CHV_SUPERVISION:g,DateTime:l,FIELDS_FOR_CHV_SUPERVISION_TASK:v,isChvPerson:e=>[e.type,e.contact_type].includes(c.USER)&&e.parent&&e.parent.parent&&e.parent.parent.parent,FIELDS_FOR_SGBV_REFERRAL:y,startOfMonthDate:w,midMonthDate:()=>w().plus({weeks:2})}},function(e,t,n){const r=n(1),{differenceInDays:i,differenceInYears:a,differenceInWeeks:o,getPregnancyAgeInWeeks:s,FAMILY_PLANNING_METHODS:u,PNC_PERIOD_DAYS:_,Services:c,Places:l,Persons:d,VACCINATIONS:p,getVaccinesReceived:f,countTotalVaccinesByAge:m,countTotalVitaminAVaccinesByAge:h,isEligibleForTasks:g,getNewbornHomeVisitCount:v,isEligibleNewborn:y,getLastChvSupervisionSummary:w,mapImmunizationServiceVaccineAnswers:I,isOfChildBearingAge:T,getMemberSocioEconomicSummary:b,getHouseholdSocioEconomicSummary:S,clientRegistryFields:E}=r,{DateTime:O,Interval:k}=n(2),{getField:x,getMostRecentReport:N}=n(3)(),C=e=>e.contact_type===d.CLIENT&&e.parent&&e.parent.parent&&e.parent.parent.parent&&e.parent.parent.parent.parent&&e.parent.parent.parent.parent.parent,D=Object.keys(p).filter(e=>!['measles_6','malaria'].includes(e)),M=e=>N(e,c.PREGNANCY_HOME_VISIT,{was_available:'yes'});function A(e,t){if(!C(e)||!T(e))return!1;const n=M(t);if(n){const e='true'===x(n,'marked_as_pregnant'),r='yes'===x(n,'pregnancy_screening.is_still_pregnant'),i=t.filter(e=>e.form===c.POSTNATAL_CARE&&e.reported_date>=n.reported_date&&'yes'===x(e,'group_pregnancy_status.has_delivered')),a=k.fromDateTimes(O.fromMillis(n.reported_date),O.now()).toDuration().shiftTo('months').toObject().months,s=x(n,'current_edd'),u=s.length>0&&o(new Date,s),_=u||isNaN(u)?u>0||!isNaN(u):a<=10;return(e||r)&&_&&!i.length}return!1}const U=e=>{const t=N(e,c.POSTNATAL_CARE_SERVICE),n=t?x(t,'postnatal_care_service_count'):0;return parseInt(n)};e.exports={differenceInDays:i,isPregnant:A,differenceInYears:a,isOfChildBearingAge:T,isHouseholdMember:C,buildPostnatalCard:e=>{const t={},n=[];let r=!1,a=!1,o=-1;const s=[],u=[],l=[];e.forEach(e=>{if((e=>{if(e.form===c.POSTNATAL_CARE_SERVICE&&x(e,'group_pnc_visit.date_of_delivery')){const t=x(e,'group_pnc_visit.date_of_delivery');return O.local().diff(O.fromISO(t)).as('days')<=_}return!1})(e)){n.push({label:'contact.profile.pnc.place_of_delivery',value:x(e,'group_pnc_visit.place_of_delivery_display'),width:6}),n.push({label:'contact.profile.pnc.date_of_delivery',value:O.fromISO(x(e,'group_pnc_visit.date_of_delivery')).toFormat('dd/MM/yyyy'),width:6}),n.push({label:'contact.profile.pnc.danger_signs',value:'contact.profile.pnc.danger_signs.'+('true'===x(e,'needs_danger_signs_follow_up')?'present':'none'),translate:!0,icon:'true'===x(e,'needs_danger_signs_follow_up')?'icon-warning':'',width:6}),r='dead'===x(e,'group_pnc_visit.condition_of_the_mother'),a=!0,o=Math.floor(i(new Date(x(e,'group_pnc_visit.date_of_delivery')),new Date));const _=x(e,'group_delivery_outcome.number_of_babies_alive');_&&_>0&&(x(e,'newborn_details.child').forEach(e=>{s.push(e.name.split(' ').join('_')),u.push(e.child_doc),l.push(e.identification_number||'None')}),t.baby_names=s.join(' '),t.baby_doc_ids=u.join(' '),t.baby_birth_cert_ids=l.join(' '))}}),t.days_since_delivery=o,t.is_in_pnc=!r&&a;const d=U(e);return t.pnc_follow_up_count=d>0?d+1:d,{fields:n,context:t}},buildImmunizationCard:(e,t)=>{const n=[];let i,a=[];const o={};if(e.group_immunization&&(a=a.concat(...e.group_immunization.vaccines.split(' '))),t&&t.forEach(e=>{let t;if(e.form===c.IMMUNIZATION_SERVICE){const n=x(e,'group_vaccines.vaccines_given');t=x(e,'group_vaccines.optional_vaccines_given'),n&&(a=a.concat(...I(n).split(' '))),t&&(a=a.concat(...t.split(' '))),(!i||i.reported_date<e.reported_date)&&(i=e)}else if(e.form===c.U5_ASSESSMENT){const n=x(e,'immunization_screening.vaccines');t=x(e,'immunization_screening.optional_vaccines_given'),n&&(a=a.concat(...n.split(' '))),t&&(a=a.concat(...t.split(' ')))}}),a=Array.from(new Set(a)),a.length>0){if(Object.keys(r.VACCINATIONS).forEach(e=>{o[e+'_given']=a.includes(e)?e:void 0}),i){const e=x(i,'group_immunization.next_immunization_visit_date')||x(i,'group_missed_visit.visit_date_rescheduled');o.on_immunization=!0,o.next_immunization_date=e}n.push({label:'contact.profile.immunization.confirmed',value:Array.from(new Set(a.map(e=>p[e]))).join(),width:12}),n.push({label:'contact.profile.immunization.fully_immunized',value:'contact.profile.immunization.fully_immunized.'+(s=a,s.length===D.length&&D.every(e=>s.includes(e))?'yes':'no'),translate:!0})}else n.push({label:'contact.profile.immunization.confirmed',value:'contact.profile.immunization.none',translate:!0});var s;return{fields:n,context:o}},getVitADosesGiven:(e,t)=>{let n=[];t.filter(e=>[c.IMMUNIZATION_SERVICE,c.U5_ASSESSMENT].includes(e.form)).forEach(e=>{if(e.form===c.IMMUNIZATION_SERVICE){const t=x(e,'group_vitamin_a.vitamin_a_doses_given');t&&(n=n.concat(t.split(' ')))}else if(e.form===c.U5_ASSESSMENT){const t=x(e,'vit_a_group.vit_a_received');t&&(n=n.concat(t.split(' ')))}}),n=Array.from(new Set(n));const i={};Object.keys(r.VITAMIN_A_DOSES).forEach(e=>{i[e+'_given']=n.includes(r.VITAMIN_A_DOSES[e])?1:0});const a=Object.values(i).reduce((e,t)=>e+t,0)===h(e)?1:0;return i.vitamin_a_vaccines_upto_date=a,i},dewormingChildStatus:(e,t)=>{const n=N(t,[c.U5_ASSESSMENT,c.IMMUNIZATION_SERVICE]);return n&&(n.form===c.U5_ASSESSMENT?x(n,'deworming.deworming_upto_date'):x(n,'group_deworming.has_deworming_status_uptodate'))},buildFamilyPlanningCard:e=>{const t=[],n={},r=N(e,c.FAMILY_PLANNING),i=r&&'yes'===x(r,'on_fp');if(n.is_on_fp=i,i){const e=x(r,'coalesced_fp_method'),i=x(r,'family_planning.next_appointment_date');n.fp_method=e,t.push({label:'contact.profile.family_planning.method',value:u[e],width:6}),i&&t.push({label:'contact.profile.family_planning.refill_date',value:O.fromISO(i).toFormat('dd/MM/yyyy'),width:6})}else t.push({label:'contact.profile.family_planning.method',value:'contact.profile.family_planning.method.none',translate:!0,width:6});return{fields:t,context:n}},buildPregnancyCard:(e,t)=>{if('f_client'!==e.contact_type)return;const n={},r=[],i=M(t),a=A(e,t);let o,u,_=!1,c=!1,l=!1;if(a){const e=i&&'true'===x(i,'marked_as_pregnant');_='yes'===x(i,'anc_visits.has_started_anc')||'true'===x(i,'started_anc'),u=e?i._id:x(i,'pregnancy_id'),c='yes'===x(i,'has_danger_signs'),o=x(i,'current_edd'),l='yes'===x(i,'anc_visits.anc_upto_date');const t=s(o);o&&(r.push({label:'contact.profile.pregnancy.pregnancy_age',value:t+' Weeks',width:6}),r.push({label:'contact.profile.pregnancy.edd',value:O.fromISO(o).toFormat('dd/MM/yyyy'),width:6}));const a={label:'contact.profile.pregnancy.anc_visit_status',value:'',translate:!0,width:12};a.value=l?'contact.profile.pregnancy.anc_upto_date':'contact.profile.pregnancy.anc_not_upto_date',r.push(a);const d={label:'contact.profile.pregnancy.high_risk',value:'',width:12,translate:!0,icon:'icon-warning'};c&&(d.value='contact.profile.pregnancy.danger_signs.present',r.push(d)),n.pregnancy_id=u,n.pregnancy_age_in_weeks=t}return n.anc_upto_date=l,n.pregnant=a,n.edd=o,n.started_anc=_,{fields:r,context:n}},getMostRecentReport:N,getReportedDate:e=>{const t=e&&e.reported_date&&parseInt(e.reported_date);return O.fromMillis(t||0)},Places:l,Persons:d,getVaccinesReceived:f,countTotalVaccinesByAge:m,Services:c,isEligibleForTasks:g,getNewbornHomeVisitCount:v,isEligibleNewborn:y,getLastChvSupervisionSummary:w,isFemaleOrIntersex:e=>['female','intersex'].includes(e.sex),getMemberSocioEconomicSummary:b,getHouseholdSocioEconomicSummary:S,isDiabetic:e=>{const t=N(e,c.OVER_FIVE_ASSESSMENT);return t&&'true'===t.fields.is_curr_diabetic},isHypertensive:e=>{const t=N(e,c.OVER_FIVE_ASSESSMENT);return t&&'true'===t.fields.is_curr_hypertensive},hasClientRegistryFields:e=>e&&E.every(t=>e[t])}},function(e,t){e.exports=function(e){var t={};!function e(t,n){var r=Object.keys(t);for(var i in r){var a=r[i];switch(typeof t[a]){case'object':e(t[a],n);break;case'function':t[a]=t[a].bind(n)}}}(e,t),t.definition=function e(t){var n=Object.assign({},t),r=Object.keys(n);for(var i in r){var a=r[i];if(Array.isArray(n[a])){n[a]=n[a].slice(0);for(var o=0;o<n[a].length;++o)'object'==typeof n[a][o]&&(n[a][o]=e(n[a][o]))}else'object'==typeof n[a]&&(n[a]=e(n[a]))}return n}(e)}},function(e,t,n){var r=n(8),i=n(12),a=n(13);n(15)(i,c,Utils,Target,emit),a(r,c,Utils,Task,emit),emit('_complete',{_id:!0})},function(e,t,n){const{Services:r,VACCINATIONS:i,differenceInDays:a,differenceInWeeks:o,DELIVERY_CHECK_WEEKS:s,MAX_PREGNANCY_AGE_IN_WEEKS:u,DAYS_IN_WEEK:_,isChv:c,isCha:l,isEligibleNewborn:d,getLastChvSupervisionSummary:p,TASKS:f,Places:m,Persons:h}=n(1),g=n(4),{suppliedContent:v,discrepancyContent:y,returnedContent:w,hasDiscrepancy:I,hasStockOut:T,stockOutContent:b}=n(10),{hasClientRegistryFields:S}=n(5),{isEligibleForTasks:E,isFormArraySubmittedInWindow:O,PNC_PERIOD_DAYS:k,getVaccinesReceived:x,countTotalVaccinesByAge:N,getNewbornHomeVisitCount:C,getMostRecentEddForPregnancy:D,isPregnancyTaskMuted:M,startOfMonthDate:A,midMonthDate:U,FIELDS_FOR_CHV_SUPERVISION:F,DateTime:R,FIELDS_FOR_CHV_SUPERVISION_TASK:q,isChvPerson:V,FIELDS_FOR_SGBV_REFERRAL:L}=g,P=(e,t,n)=>({id:'newborn-home-visit-'+e,start:t,end:n,dueDate:function(t,n){let r=0;return r=1===e?'home'===n.contact.place_of_birth?1:2:2===e?3:7,Utils.addDate(new Date(n.contact.date_of_birth),r)}}),z=({name:e,customAppliesIf:t,events:n})=>({name:'postnatal_care_yields_postnatal_care-'+e,icon:'icon-postnatal-care-service',title:'task.pnc_mother_followup.title',appliesTo:'reports',appliesToType:['postnatal_care_service'],appliesIf:function(e,n){const r=t.bind(this);return c(user)&&E(e.contact)&&'yes'===Utils.getField(n,'is_in_postnatal_care')&&r(e,n)},resolvedIf:(e,t,n,r)=>O(e.reports.filter(e=>'yes'===Utils.getField(e,'group_follow_up.client_available')),['postnatal_care_service'],r,n,null,t._id),actions:[{type:'report',form:'postnatal_care_service'}],events:n}),j=[{id:'mother-postnatal-follow-up-0',start:0,end:0,dueDate:function(e,t,n){return Utils.addDate(new Date(Utils.getField(n,'group_pnc_visit.date_of_delivery')),1)}},{id:'mother-postnatal-follow-up-1',start:0,end:0,dueDate:function(e,t,n){return Utils.addDate(new Date(Utils.getField(n,'group_pnc_visit.date_of_delivery')),2)}},{id:'mother-postnatal-follow-up-2',start:0,end:3,dueDate:function(e,t,n){return Utils.addDate(new Date(Utils.getField(n,'group_pnc_visit.date_of_delivery')),3)}},{id:'mother-postnatal-follow-up-3',start:0,end:3,dueDate:function(e,t,n){return Utils.addDate(new Date(Utils.getField(n,'group_pnc_visit.date_of_delivery')),7)}}];e.exports=[{name:'household_member_registration_reminder',icon:'icon-person',title:'task.household_member_registration_reminder',appliesTo:'contacts',appliesToType:['e_household'],appliesIf:function(e){return c(user)&&E(e.contact)&&'yes'===e.contact.needs_registration_follow_up},actions:[{form:'household_member_registration_reminder'}],events:[{id:'household_member_registration_reminder',days:7,start:7,end:2}],resolvedIf:function(e,t,n,r){return Utils.isFormSubmittedInWindow(e.reports,'household_member_registration_reminder',Utils.addDate(r,-n.start).getTime(),Utils.addDate(r,n.end+1).getTime())}},{name:'household_member_pregnancy_visit',icon:'icon-pregnancy-home-visit-service',title:'task.pregnancy_home_visit_service.title',appliesTo:'contacts',appliesToType:['f_client'],appliesIf:function(e){return c(user)&&E(e.contact)&&'yes'===e.contact.has_mch_handbook},actions:[{form:'pregnancy_home_visit'}],events:[{id:'household_member_pregnancy_visit',days:30,start:31,end:2}],resolvedIf:function(e,t,n,r){return Utils.isFormSubmittedInWindow(e.reports,'pregnancy_home_visit',Utils.addDate(r,-n.start).getTime(),Utils.addDate(r,n.end+1).getTime())||M(e)}},{name:'family-planning-service',icon:'icon-family-planning-service',title:'task.family_planning_service.title',appliesTo:'reports',appliesToType:['family_planning'],appliesIf:function(e,t){return c(user)&&'yes'===Utils.getField(t,'has_fp_follow_up')},actions:[{form:'family_planning'}],events:[{id:'family-planning-service',dueDate:function(e,t,n){return new Date(Utils.getField(n,'fp_follow_up_date'))},start:3,end:7}]},{name:'fp-side-effects-referral-follow-up',icon:'icon-follow-up',title:'task.fp_side_effects_referral_follow_up.title',appliesTo:'reports',appliesToType:['family_planning'],appliesIf:function(e,t){return c(user)&&'yes'===Utils.getField(t,'family_planning.has_side_effects')},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='fp_side_effects'}}],events:[{id:'fp-side-effects-referral-follow-up',days:3,start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'defaulter_follow_up_loop',icon:'icon-follow-up',title:'task.defaulter_follow_up.title',appliesTo:'reports',appliesToType:['defaulter_follow_up'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,'needs_follow_up')},actions:[{form:'defaulter_follow_up'}],events:[{id:'defaulter_follow_up',dueDate:(e,t,n)=>'yes'===Utils.getField(n,'needs_follow_up')?new Date(Utils.getField(n,'next_follow_up_date')):Utils.addDate(new Date(n.reported_date),3),start:1,end:3}]},{name:'task.wash.periodic',icon:'icon-wash-service',title:'task.wash.title',appliesTo:'reports',appliesToType:['wash'],appliesIf:(e,t)=>c(user)&&E(e.contact)&&'no'===Utils.getField(t,'group_wash.has_functional_latrine'),actions:[{form:'wash'}],events:[{id:'household-visit',start:5,end:14,dueDate:(e,t,n)=>new Date(Utils.getField(n,'summary.next_follow_up_date'))}],resolvedIf:function(e,t,n,r){return O(e.reports,['wash'],r,n,null,t._id)}},{name:'task.immunization.referral',icon:'icon-healthcare-immunization',title:'task.immunization.title',appliesTo:'reports',appliesToType:['immunization_service'],appliesIf:(e,t)=>{const n=Utils.getField(t,'needs_immunization_follow_up'),r=Utils.getField(t,'needs_vitamin_a_follow_up'),i=Utils.getField(t,'needs_growth_monitoring_follow_up'),a=Utils.getField(t,'services_for_follow_up');return c(user)&&('no'===n||'no'===r||'no'===i||'no'===a)},actions:[{form:'immunization_service',modifyContent:function(e,t,n){const a=Utils.getField(n,'group_vaccines.vaccines_for_referral'),o=Utils.getField(n,'group_vaccines.vaccines_given');e.count_due_vaccines=N(t.contact)-x(t.reports.filter(e=>[r.IMMUNIZATION_SERVICE,r.U5_ASSESSMENT].includes(e.form))).length,a&&Array.from(new Set(a.split(' '))).forEach(t=>{e[''+t]=Object.keys(i).includes(t)?'yes':'no'}),o&&Array.from(new Set(o.split(' '))).forEach(t=>{e[''+t]=Object.keys(i).includes(t)?'yes':'no'})}}],events:[{id:'immunization-referral-followup',start:0,end:1,dueDate:(e,t,n)=>new Date(Utils.getField(n,'follow_up_date'))}],resolvedIf:function(e,t,n,r){return O(e.reports,['immunization_service'],r,n,null,t._id)||O(e.reports,['u5_assessment'],r,n)}},{name:'task.wash-triggeer',icon:'icon-wash-service',title:'task.wash.title',appliesTo:'contacts',appliesToType:['e_household'],appliesIf:e=>c(user)&&E(e.contact)&&'no'===e.has_functional_latrine,actions:[{form:'wash'}],events:[{id:'household-visit-from-registration',start:5,end:14,days:30}],resolvedIf:function(e,t,n,r){return O(e.reports,['wash'],r,n,null,t._id)}},{name:'mute_person_confirmation',icon:'icon-mute',title:'task.mute_person_confirmation.title',appliesTo:'reports',appliesToType:['mute_person'],appliesIf:function(e,t){return l(user)&&'yes'===Utils.getField(t,'mute_report.confirm_mute')},actions:[{form:'approve_mute_person',modifyContent:function(e,t,n){e.t_mute_reason=Utils.getField(n,'c_mute_reason'),e.t_current_timestamp=(new Date).toISOString()}}],events:[{id:'mute_person_confirmation',days:3,start:3,end:7}],resolvedIf:function(e,t,n,r){return Utils.isFormSubmittedInWindow(e.reports,'approve_mute_person',Utils.addDate(r,-n.start).getTime(),Utils.addDate(r,n.end+1).getTime())}},{name:'mute_household_confirmation',icon:'icon-mute',title:'task.mute_household_confirmation.title',appliesTo:'reports',appliesToType:['mute_household'],appliesIf:function(e,t){return l(user)&&'yes'===Utils.getField(t,'mute_household_report.confirm_mute')},actions:[{form:'approve_mute_household',modifyContent:function(e,t,n){e.t_mute_reason=Utils.getField(n,'c_mute_reason'),e.t_current_timestamp=(new Date).toISOString(),e.t_supervisor_phone=user.phone}}],events:[{id:'mute_household_confirmation',days:3,start:3,end:7}],resolvedIf:function(e,t,n,r){return Utils.isFormSubmittedInWindow(e.reports,'approve_mute_household',Utils.addDate(r,-n.start).getTime(),Utils.addDate(r,n.end+1).getTime())}},{name:'anc-defaulter-referral-follow-up-service',icon:'icon-follow-up',title:'task.anc-defaulter-referral-follow-up-service.title',appliesTo:'reports',appliesToType:['pregnancy_home_visit'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'true'===Utils.getField(t,'is_anc_defaulter')},actions:[{form:'defaulter_follow_up',modifyContent:function(e){e.t_referral_type='anc'}}],events:[{id:'anc-referral-follow-up-service',days:3,start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['defaulter_follow_up'],r,n,null,t._id)}},{name:'anc-danger-signs-referral-follow-up-service',icon:'icon-anc-danger-signs',title:'task.anc-danger-signs-referral-follow-up-service.title',appliesTo:'reports',appliesToType:['pregnancy_home_visit'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&('yes'===Utils.getField(t,'has_danger_signs')||'yes'===Utils.getField(t,'has_mental_danger_signs'))},actions:[{form:'referral_follow_up',modifyContent:function(e,t,n){const r='yes'===Utils.getField(n,'has_danger_signs')?'anc_danger_signs':'',i='yes'===Utils.getField(n,'has_mental_danger_signs')?'anc_mental_signs':'';e.t_referral_type=[r,i].filter(e=>''!==e).join(', ')}}],events:[{id:'anc-danger-signs-referral-follow-up-service',dueDate:function(e,t,n){let r=3;return'yes'===Utils.getField(n,'has_danger_signs')&&(r=1),Utils.addDate(new Date(n.reported_date),r)},start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'u5_assessment_treatment_follow_up',icon:'icon-commodity',title:'task.u5_assessment_treatment_follow_up.title',appliesTo:'reports',appliesToType:['u5_assessment'],appliesIf:function(e,t){const n=[].concat('true'===Utils.getField(t,'malaria_screening.malaria_danger_signs')).concat('yes'===Utils.getField(t,'group_summary_no_danger_signs.r_given_amox')).concat('yes'===Utils.getField(t,'group_summary_no_danger_signs.r_given_zinc')).concat('yes'===Utils.getField(t,'group_summary_no_danger_signs.r_given_ors'));return c(user)&&E(e.contact)&&n.some(e=>e)},actions:[{form:'treatment_follow_up'}],events:[{id:'u5_assessment_treatment_follow_up',days:3,start:1,end:7}],resolvedIf:function(e,t,n,r){return O(e.reports,['treatment_follow_up'],r,n,null,t._id)}},{name:'u5_assessment_danger_sign_referral_follow_up',icon:'icon-iccm-danger-signs',title:'task.u5_assessment_danger_sign_referral_follow_up.title',appliesTo:'reports',appliesToType:['u5_assessment'],appliesIf:(e,t)=>c(user)&&E(e.contact)&&'true'===Utils.getField(t,'has_danger_signs'),actions:[{form:'referral_follow_up',modifyContent:function(e,t,n){e.t_referral_type='danger_signs';let r='';'true'===Utils.getField(n,'needs_malaria_referral')&&(r+='malaria '),'true'===Utils.getField(n,'needs_tb_referral')&&(r+='tb '),'true'===Utils.getField(n,'needs_diarrhea_referral')&&(r+='diarrhea '),'true'===Utils.getField(n,'needs_immunization_referral')&&(r+='immunization '),'true'===Utils.getField(n,'needs_growth_monitoring_referral')&&(r+='growth_monitoring '),'true'===Utils.getField(n,'needs_malnutrition_referral')&&(r+='malnutrition '),e.t_referral_reason=r}}],events:[{id:'u5_assessment_danger_sign_referral_follow_up',days:1,start:1,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'u5_assessment_3_day_referral_follow_up',icon:'icon-iccm-danger-signs',title:'task.u5_assessment_3_day_referral_follow_up.title',appliesTo:'reports',appliesToType:['u5_assessment'],appliesIf:(e,t)=>c(user)&&E(e.contact)&&'true'===Utils.getField(t,'needs_tb_referral'),actions:[{form:'referral_follow_up',modifyContent:function(e,t,n){e.t_referral_type='3_day_danger_signs';let r='';'true'===Utils.getField(n,'needs_malaria_referral')&&(r+='malaria '),'true'===Utils.getField(n,'needs_tb_referral')&&(r+='tb '),'true'===Utils.getField(n,'needs_diarrhea_referral')&&(r+='diarrhea '),'true'===Utils.getField(n,'needs_immunization_referral')&&(r+='immunization '),'true'===Utils.getField(n,'needs_growth_monitoring_referral')&&(r+='growth_monitoring '),'true'===Utils.getField(n,'needs_malnutrition_referral')&&(r+='malnutrition '),e.t_referral_reason=r}}],events:[{id:'u5_assessment_3_day_referral_follow_up',days:3,start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'muac_danger_sign_referral_follow_up',icon:'icon-iccm-danger-signs',title:'task.muac_danger_sign_referral_follow_up.title',appliesTo:'reports',appliesToType:['u5_assessment'],appliesIf:(e,t)=>c(user)&&E(e.contact)&&'red'===Utils.getField(t,'malnutrition_screening.muac_color'),actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='danger_signs'}}],events:[{id:'muac_danger_sign_referral_follow_up',days:1,start:1,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'immunization_referral_follow_up',icon:'icon-healthcare-immunization',title:'task.immunization_referral_follow_up.title',appliesTo:'reports',appliesToType:['u5_assessment'],appliesIf:(e,t)=>c(user)&&E(e.contact)&&'no'===Utils.getField(t,'immunization_screening.imm_schedule_upto_date'),actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='danger_signs'}}],events:[{id:'immunization_referral_follow_up',days:3,start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'growth_monitoring_referral_follow_up',icon:'icon-iccm-danger-signs',title:'task.growth_monitoring_referral_follow_up.title',appliesTo:'contacts',appliesToType:['f_client'],appliesIf:function(e){const t=Utils.getMostRecentReport(e.reports,'u5_assessment');return this.assessment=t,t&&c(user)&&E(e.contact)&&''!==Utils.getField(t,'growth_and_monitoring.delayed_development_milestones')},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='danger_signs'}}],events:[{id:'growth_monitoring_referral_follow_up',start:0,dueDate:function(){return Utils.addDate(new Date(this.assessment.reported_date),3)},end:5}]},{name:'pregnancy-home-visit-service',icon:'icon-pregnancy-home-visit-service',title:'task.pregnancy_home_visit_service.title',appliesTo:'reports',appliesToType:['pregnancy_home_visit'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&('yes'===Utils.getField(t,'is_upcoming_pregnancy_home_visit')||'no'===Utils.getField(t,'was_available'))},actions:[{form:'pregnancy_home_visit'}],events:[{id:'pregnancy-home-visit-service',dueDate:function(e,t,n){const r=Utils.getField(n,'anc_visits.next_anc_visit_date');return r?Utils.addDate(new Date(r),3):Utils.addDate(new Date(n.reported_date),3)},start:0,end:5}],resolvedIf:function(e,t,n,r){return this.definition.defaultResolvedIf(e,t,n,r)||M(e)}},{name:'referral-followup-service',icon:'icon-follow-up',title:'task.referral_follow_up.title',appliesTo:'reports',appliesToType:['referral_follow_up'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,'needs_follow_up')},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='referral_follow_up'}}],events:[{id:'referral-follow-up-referral-followup-service',dueDate:function(e,t,n){return new Date(Utils.getField(n,'follow_up_date'))},start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'treatment-follow-up-referral-followup-service',icon:'icon-commodity',title:'task.treament_follow_up_referral_service.title',appliesTo:'reports',appliesToType:['treatment_follow_up'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,'needs_follow_up')},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='treatment_follow_up'}}],events:[{id:'treatment-follow-up-referral-followup-service',dueDate:function(e,t,n){return new Date(Utils.getField(n,'follow_up_date'))},start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'over-five-referral-followup-24-hour-service',icon:'icon-follow-up',title:f.danger_signs_referral_follow_up,appliesTo:'reports',appliesToType:[r.OVER_FIVE_ASSESSMENT],appliesIf:function(e,t){return c(user)&&E(e.contact)&&('true'===Utils.getField(t,'needs_general_danger_signs_referral')||'true'===Utils.getField(t,'needs_general_signs_symptoms_referral')||'true'===Utils.getField(t,'needs_fever_referral')||'true'===Utils.getField(t,'needs_diarrhoea_referral'))},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='24_hour_referral_follow_up'}}],events:[{id:'over-five-referral-followup-24-hour-service',dueDate:function(e,t,n){const r=Utils.getField(n,'general_danger_signs_referral_follow_up_date')||Utils.getField(n,'general_signs_symptoms_referral_follow_up_date')||Utils.getField(n,'fever_referral_follow_up_date')||Utils.getField(n,'diarrhoea_referral_follow_up_date');return new Date(r)},start:1,end:5}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.REFERRAL_FOLLOW_UP],i,n,null,t._id)}},{name:'over-five-referral-followup-3-day',icon:'icon-follow-up',title:'task.over_five_referral_service_3_day.title',appliesTo:'reports',appliesToType:['over_five_assessment'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&('true'===Utils.getField(t,'needs_malaria_referral')||'true'===Utils.getField(t,'needs_tb_referral')||'true'===Utils.getField(t,'needs_diabetes_referral')||'true'===Utils.getField(t,'needs_hypertension_referral')||'true'===Utils.getField(t,'needs_mental_health_referral')||'true'===Utils.getField(t,'needs_sgbv_referral'))},actions:[{form:'referral_follow_up',modifyContent:function(e,t,n){e.t_referral_type='3_day_referral_follow_up';let r='';'true'===Utils.getField(n,'needs_malaria_referral')&&(r+='malaria '),'true'===Utils.getField(n,'needs_tb_referral')&&(r+='tb '),'true'===Utils.getField(n,'needs_diabetes_referral')&&(r+='diabetes '),'true'===Utils.getField(n,'needs_hypertension_referral')&&(r+='hypertension '),'true'===Utils.getField(n,'needs_mental_health_referral')&&(r+='mental_health '),'true'===Utils.getField(n,'needs_sgbv_referral')&&(r+='sgbv '),e.t_referral_reason=r}}],events:[{id:'over-five-referral-followup-3-day-service',dueDate:function(e,t,n){const r=Utils.getField(n,'malaria_referral_follow_up_date')||Utils.getField(n,'tb_referral_follow_up_date')||Utils.getField(n,'diabetes_referral_follow_up_date')||Utils.getField(n,'hypertension_referral_follow_up_date')||Utils.getField(n,'mental_health_referral_follow_up_date')||Utils.getField(n,'sgbv_referral_follow_up_date');return new Date(r)},start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'pnc-mother-danger-signs-referral',icon:'icon-pnc-danger-signs',title:'task.pnc_mother_danger_signs.title',appliesTo:'reports',appliesToType:['postnatal_care_service'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&('true'===Utils.getField(t,'needs_danger_signs_follow_up')||'true'===Utils.getField(t,'needs_pnc_update_follow_up')||'true'===Utils.getField(t,'needs_mental_health_follow_up'))},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='mother_danger_signs'}}],events:[{id:'pnc-mother-danger-signs-referral-follow-up-service',start:0,end:0,dueDate:(e,t,n)=>{const r=Utils.getField(n,'danger_signs_follow_up_date')||Utils.getField(n,'pnc_update_follow_up_date')||Utils.getField(n,'mental_health_follow_up_date');return new Date(r)}}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'pnc-newborn-danger-signs-referral',icon:'icon-baby-danger-signs',title:'task.pnc_newborn_danger_signs.title',appliesTo:'contacts',appliesToType:['f_client'],appliesIf:function(e){const t=e.contact;return c(user)&&E(e.contact)&&a(new Date(t.date_of_birth),new Date)<k&&'true'===t.needs_newborn_danger_signs_follow_up},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='newborn_danger_signs'}}],events:[{id:'pnc-newborn-danger-signs-referral-follow-up-service',start:0,end:0,dueDate:function(e,t){return new Date(t.contact.newborn_danger_signs_follow_up_date)}}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n)}},z({name:'pnc-mother-followup-home-delivery',customAppliesIf:function(e,t){return'home'===Utils.getField(t,'place_of_birth')},events:[...j]}),z({name:'pnc-mother-followup-facility-delivery',customAppliesIf:function(e,t){return'health_facility'===Utils.getField(t,'place_of_birth')},events:[...j.slice(1)]}),{name:'pnc-immunization-followup',icon:'icon-iccm-immunization',title:'task.pnc_newborn_immunization.title',appliesTo:'contacts',appliesToType:['f_client'],appliesIf:function(e){const t=e.contact;return c(user)&&E(t)&&a(new Date(t.date_of_birth),new Date)<k&&'true'===t.needs_immunization_follow_up},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='newborn_immunization'}}],events:[{id:'newborn-immunization-follow-up',start:0,end:1,dueDate:(e,t)=>new Date(t.contact.immunization_follow_up_date)}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n)}},{name:'pnc.home_visit_newborn.from_contact',icon:'icon-baby',title:'task.pnc_home_visit_newborn.title',appliesTo:'contacts',appliesToType:['f_client'],appliesIf:function(e){return c(user)&&d(e.contact)},resolvedIf:function(e,t,n,r){return O(e.reports.filter(e=>'true'===Utils.getField(e,'is_patient_available')),['postnatal_care_service_newborn'],r,n)},actions:[{type:'report',form:'postnatal_care_service_newborn',modifyContent:function(e,t){e.t_delivery_uuid=t.contact.created_by_doc||'',e.t_place_of_birth=t.contact.place_of_birth||'',e.t_is_immunization_defaulter=x(t.reports).length!==N(t)?'yes':'no',e.t_newborn_home_visit_count=C(t.reports)}}],events:[P(1,0,0),P(2,0,1),P(3,0,1)]},{name:'newborn-immunization-followup',icon:'icon-iccm-immunization',title:'task.pnc_newborn_immunization.title',appliesTo:'reports',appliesToType:['postnatal_care_service_newborn'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,'needs_immunization_follow_up')},actions:[{form:'immunization_service',modifyContent:function(e){e.t_referral_type='newborn_immunization'}}],events:[{id:'newborn-immunization-follow-up',start:0,end:1,dueDate:(e,t,n)=>new Date(Utils.getField(n,'immunization_follow_up_date'))}],resolvedIf:function(e,t,n,r){return O(e.reports,['immunization_service','posnatal_care_service_newborn'],r,n)}},{name:'newborn-danger-signs-referral',icon:'icon-baby-danger-signs',title:'task.pnc_newborn_danger_signs.title',appliesTo:'reports',appliesToType:['postnatal_care_service_newborn'],appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,'needs_danger_signs_follow_up')},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='newborn_danger_signs'}}],events:[{id:'pnc-newborn-danger-signs-referral-follow-up-service',start:0,end:0,dueDate:function(e,t,n){return new Date(Utils.getField(n,'danger_signs_follow_up_date'))}}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up','postnatal_care_service_newborn'],r,n)}},{name:'death-confirmation',icon:'icon-follow-up',title:f.death_confirmation,appliesTo:'reports',appliesToType:[r.DEATH_REPORT],appliesIf:()=>l(user),actions:[{form:r.DEATH_REVIEW,modifyContent:(e,t,n)=>{e.t_patient_name=Utils.getField(n,'patient_name'),e.t_patient_id=Utils.getField(n,'patient_id'),e.t_chv_name=Utils.getField(n,'chv_name'),e.t_chv_phone=Utils.getField(n,'chv_phone'),e.t_patient_age_in_years=Utils.getField(n,'patient_age_in_years'),e.t_patient_age_in_months=Utils.getField(n,'patient_age_in_months'),e.t_patient_age_in_days=Utils.getField(n,'patient_age_in_days'),e.t_patient_sex=Utils.getField(n,'patient_sex'),e.t_supervisor_phone=user.phone,e.t_household_id=Utils.getField(n,'household_id'),e.t_household_name=Utils.getField(n,'household_name')}}],contactLabel:(e,t)=>Utils.getField(t,'patient_name'),events:[{id:'death-report-confirmation',start:5,end:7,days:1}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.DEATH_REVIEW],i,n,null,t._id)}},{name:'pnc.delivery.check',icon:'icon-delivery',title:'task.pnc_home_visit.title',appliesTo:'reports',appliesToType:['pregnancy_home_visit'],appliesIf:function(e,t){const n=D(e.reports);if(n){const e=o(new Date,n),r=u-e;return c(user)&&r>=s.START&&r<=s.END&&'yes'===Utils.getField(t,'anc_visits.anc_upto_date')}return!1},actions:[{type:'report',form:'postnatal_care_service'}],events:[...Array(s.END-s.START+1).keys()].map(e=>{return{id:'delivery-check-home-visit-week'+(t=-1*e),start:0,end:3,dueDate:function(e,n){const r=D(n.reports);return Utils.addDate(new Date(r),t*_)}};var t}),resolvedIf:function(e,t,n,r){return!!M(e)||O(e.reports,['postnatal_care_service'],r,n,null,t._id)}},{name:'cebs-signal-verification',icon:'icon-signal-verification',title:f.ceb_signal_verification,appliesTo:'reports',appliesToType:[r.CEBS_CHV_SIGNAL_REPORTING],appliesIf:()=>l(user),events:[{id:'cha-signal-verification',days:0,start:0,end:60}],resolvedIf:function(e,t){return-1!==e.reports.findIndex(e=>e.form===r.CEBS_CHA_SIGNAL_VERIFICATION&&(Utils.getField(e,'case_id')===t.case_id||Utils.getField(e,'inputs.source_id')===t._id))},actions:[{form:r.CEBS_CHA_SIGNAL_VERIFICATION,modifyContent:function(e,t,n){e.t_source_chw_id=Utils.getField(n,'chw_id'),e.t_source_chw_name=Utils.getField(n,'chw_name'),e.t_source_chw_phone=Utils.getField(n,'chw_phone'),e.t_source_signal_id=n.case_id,e.t_source_signal_type=Utils.getField(n,'chv_signal.signal_type'),e.source_id=n._id}}]},{name:'chv-supervision',icon:'icon-community-health-volunteer-area',title:f.chv_supervision,appliesTo:'reports',appliesToType:[r.CHV_SUPERVISION,r.CHA_SUPERVISION_CALENDAR],appliesIf:(e,t)=>{const n=Utils.getField(t,F[t.form]);return l(user)&&V(e.contact)&&E(e.contact)&&(R.fromISO(n).isValid||'no'===n)},actions:[{form:r.CHV_SUPERVISION,modifyContent:function(e,t){const n=p(t.reports);e.calc_last_visit_date=n.last_visit_date,e.calc_last_visit_action_points=n.last_visit_action_points,e.calc_supervision_visit_count=n.supervision_visit_count}}],events:[{id:'household-visit',start:3,end:3,dueDate:(e,t,n)=>{const r=Utils.getField(n,q[n.form]);return new Date(r)}}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.CHV_SUPERVISION],i,n,null,t._id)}},{name:'cha-verbal-autopsy',icon:'icon-follow-up',title:f.cha_verbal_autopsy,appliesTo:'reports',appliesToType:['death_review'],appliesIf:(e,t)=>l(user)&&'yes'===Utils.getField(t,'group_review.dead'),actions:[{form:'cha_verbal_autopsy',modifyContent:(e,t,n)=>{e.t_patient_name=Utils.getField(n,'patient_name'),e.t_patient_id=Utils.getField(n,'patient_id'),e.t_chv_name=Utils.getField(n,'chv_name'),e.t_chv_phone=Utils.getField(n,'chv_phone'),e.t_patient_age_in_years=Utils.getField(n,'patient_age_in_years'),e.t_patient_age_in_months=Utils.getField(n,'patient_age_in_months'),e.t_patient_age_in_days=Utils.getField(n,'patient_age_in_days'),e.t_patient_sex=Utils.getField(n,'patient_sex'),e.t_supervisor_phone=user.phone,e.t_household_id=Utils.getField(n,'household_id'),e.t_household_name=Utils.getField(n,'household_name'),e.t_cause_of_death=Utils.getField(n,'cause_of_death'),e.t_date_of_death=Utils.getField(n,'date_of_death')}}],contactLabel:(e,t)=>Utils.getField(t,'patient_name'),events:[{id:'cha-verbal-autopsy',start:0,end:365,days:0}],resolvedIf:function(e,t,n,r){return O(e.reports.filter(e=>'yes'===Utils.getField(e,'autopsy.participated')),['cha_verbal_autopsy'],r,n,null,t._id)}},{name:'sgbv-referral-followup-service',icon:'icon-follow-up',title:'task.sgbv_referral_follow_up.title',appliesTo:'reports',appliesToType:['sgbv','u5_assessment'],appliesIf:function(e,t){let n=!1;return'sgbv'===t.form?n='yes'===Utils.getField(t,'sgbv.is_referred_to_cha'):'u5_assessment'===t.form&&(n='yes'===Utils.getField(t,'group_sgbv.is_referred_to_cha')),l(user)&&E(e.contact)&&n},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='sgbv'}}],events:[{id:'sgbv-referral-followup-service',start:5,end:5,days:3}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'sgbv-referral-followup-service-chv',icon:'icon-follow-up',title:f.sgbv_referral_follow_up,appliesTo:'reports',appliesToType:Object.keys(L),appliesIf:function(e,t){return c(user)&&E(e.contact)&&'yes'===Utils.getField(t,L[t.form])},actions:[{form:'referral_follow_up',modifyContent:function(e){e.t_referral_type='sgbv'}}],events:[{id:'sgbv-referral-followup-service',start:3,end:5,days:3}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'chv-commodity-receipt',icon:'icon-commodity',title:f.chv_commodity_receipt,appliesTo:'reports',appliesToType:[r.COMMODITES_SUPPLIED],appliesIf:()=>c(user),actions:[{form:r.COMMODITES_RECEIVED,modifyContent:function(e,t,n){e.t_rs_chv_name=user.name,e=v(e,n)}}],events:[{id:'commodities-received-bookkeeping',days:0,start:0,end:1}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.COMMODITY_RECEIVED_CONFRIMATION],i,n,null,t._id)}},{name:'chv-commodity-count',icon:'icon-commodity',title:f.chv_commodity_count,appliesTo:'contacts',appliesToType:[m.CHV_AREA],appliesIf:e=>c(user)&&!e.muted,actions:[{form:r.COMMODITES_COUNT}],events:[{id:'commodities-stock-take-start',dueDate:()=>new Date(A()),start:0,end:7},{id:'commodities-stock-take-mid',dueDate:()=>new Date(U()),start:0,end:7}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.COMMODITES_COUNT],i,n)}},{name:'cha-commodity-returned',icon:'icon-commodity',title:f.cha_commodity_returned,appliesTo:'reports',appliesToType:[r.COMMODITES_RETURN],appliesIf:()=>l(user),actions:[{form:r.COMMODITES_RETURNED,modifyContent:function(e,t,n){e=w(e,n)}}],events:[{id:'commodities-returned-bookkeeping',days:0,start:0,end:1}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.COMMODITES_RETURNED],i,n,null,t._id)}},{name:'cha-commodity-supplied-reconciliation',icon:'icon-commodity',title:f.cha_commodity_supplied_reconciliation,appliesTo:'reports',appliesToType:['commodity_received'],appliesIf:(e,t)=>l(user)&&I(t),actions:[{form:r.COMMODITES_DISCREPANCY_RESOLUTION,modifyContent:function(e,t,n){e=y(e,n)}}],events:[{id:'commodities-discrepancy-resolution',days:0,start:0,end:1}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.COMMODITES_DISCREPANCY_RESOLUTION],i,n,null,t._id)}},{name:'cha-commodity-stock-out',icon:'icon-commodity',title:f.cha_commodity_stock_out,appliesTo:'reports',appliesToType:[r.COMMODITES_COUNT],appliesIf:(e,t)=>l(user)&&T(t),actions:[{form:r.COMMODITES_STOCK_OUT,modifyContent:function(e,t,n){e=b(e,n)}}],events:[{id:'commodities-stock-out',days:0,start:0,end:30}],resolvedIf:function(e,t,n,i){return O(e.reports,[r.COMMODITES_STOCK_OUT],i,n,null,t._id)}},{name:'anc-danger-signs-referral-follow-up-service-demo',icon:'icon-anc-danger-signs',title:'task.anc-danger-signs-referral-follow-up-service.title',appliesTo:'reports',appliesToType:['REFERRAL_FOLLOWUP_AFYA_KE'],appliesIf:function(e){return c(user)&&E(e.contact)},actions:[{form:'referral_follow_up',modifyContent:function(e,t,n){e.t_referral_type='anc_danger_signs',e.t_follow_up_instruction=Utils.getField(n,'follow_up_instruction'),e.t_health_facility_contact=Utils.getField(n,'health_facility_contact')}}],events:[{id:'anc-danger-signs-referral-follow-up-service',days:0,start:0,end:5}],resolvedIf:function(e,t,n,r){return O(e.reports,['referral_follow_up'],r,n,null,t._id)}},{name:'hh-update-patient-details',icon:'icon-warning',title:f.hh_update_member_cr,appliesTo:'contacts',appliesToType:[h.CLIENT],appliesIf:e=>e&&e.contact&&E(e.contact)&&!S(e.contact),actions:[{form:r.CLIENT_DETAILS_NOTIFICATION,modifyContent:function(e,t){e.patient_name=t.contact.name,e.patient_uuid=t.contact._id}}],events:[-1,0,1].map(e=>{const t=R.local().startOf('month').plus({month:e});return{id:'update_notification-'+t.toFormat('MM-yyyy'),start:7,end:7,dueDate:()=>t.plus({days:7}).toJSDate()}}),resolvedIf:function(e){return S(e.contact)}},{name:'hh-update-patient-details-fix',icon:'icon-warning',title:f.hh_update_member_cr,appliesTo:'reports',appliesToType:[r.CLIENT_DETAILS_MISMATCH],appliesIf:e=>c(user)&&E(e.contact),actions:[{form:r.CLIENT_DETAILS_NOTIFICATION,modifyContent:function(e,t,n){e.patient_name=t.contact.name,e.patient_uuid=t.contact._id,e.mismatched_fields=Utils.getField(n,'mismatched_fields')}}],events:[-1,0,1].map(e=>{const t=R.local().startOf('month').plus({month:e});return{id:'update_notification-'+t.toFormat('MM-yyyy'),start:7,end:7,dueDate:()=>t.plus({days:7}).toJSDate()}}),resolvedIf:function(e,t,n,i){return O(e.reports,[r.CLIENT_DETAILS_NOTIFICATION],i,n,null,t._id)}}]},function(e,t){var n;n=function(){return this}();try{n=n||new Function('return this')()}catch(e){'object'==typeof window&&(n=window)}e.exports=n},function(e,t,n){const r=n(1),{productList:i,productDetailsList:a}=n(11),{getField:o}=r,s=(e,t,n=!0)=>{const r=Utils.getField(e,t),i=parseFloat(r);return!0===n?Number.isNaN(i)||void 0===r?0:i:r},u=e=>{const t=a[e],n=t?t.section:null;return n?'s_'+n:'s_'};e.exports={suppliedContent:(e,t)=>(e.t_rs_cha_name=o(t,'cha_name')?o(t,'cha_name'):'',e.t_rs_rdts=o(t,'s_malaria.rdts_supplied')?o(t,'s_malaria.rdts_supplied'):0,e.t_rs_act_6=o(t,'s_malaria.act_6_supplied')?o(t,'s_malaria.act_6_supplied'):0,e.t_rs_act_12=o(t,'s_malaria.act_12_supplied')?o(t,'s_malaria.act_12_supplied'):0,e.t_rs_act_18=o(t,'s_malaria.act_18_supplied')?o(t,'s_malaria.act_18_supplied'):0,e.t_rs_act_24=o(t,'s_malaria.act_24_supplied')?o(t,'s_malaria.act_24_supplied'):0,e.t_rs_dt_250=o(t,'s_child_health.dt_250_supplied')?o(t,'s_child_health.dt_250_supplied'):0,e.t_rs_ors_zinc=o(t,'s_child_health.ors_zinc_supplied')?o(t,'s_child_health.ors_zinc_supplied'):0,e.t_rs_ors_sachets=o(t,'s_child_health.ors_sachets_supplied')?o(t,'s_child_health.ors_sachets_supplied'):0,e.t_rs_zinc_sulphate=o(t,'s_child_health.zinc_sulphate_supplied')?o(t,'s_child_health.zinc_sulphate_supplied'):0,e.t_rs_albendazole=o(t,'s_child_health.albendazole_supplied')?o(t,'s_child_health.albendazole_supplied'):0,e.t_rs_tetra_eye=o(t,'s_child_health.tetra_eye_supplied')?o(t,'s_child_health.tetra_eye_supplied'):0,e.t_rs_paracetamol_120=o(t,'s_child_health.paracetamol_120_supplied')?o(t,'s_child_health.paracetamol_120_supplied'):0,e.t_rs_mebendazole=o(t,'s_reproductive.mebendazole_supplied')?o(t,'s_reproductive.mebendazole_supplied'):0,e.t_rs_coc=o(t,'s_reproductive.coc_supplied')?o(t,'s_reproductive.coc_supplied'):0,e.t_rs_prog=o(t,'s_reproductive.prog_supplied')?o(t,'s_reproductive.prog_supplied'):0,e.t_rs_depo_im=o(t,'s_reproductive.depo_im_supplied')?o(t,'s_reproductive.depo_im_supplied'):0,e.t_rs_depo_sc=o(t,'s_reproductive.depo_sc_supplied')?o(t,'s_reproductive.depo_sc_supplied'):0,e.t_rs_preg_strip=o(t,'s_reproductive.preg_strip_supplied')?o(t,'s_reproductive.preg_strip_supplied'):0,e.t_rs_chlorine=o(t,'s_wash.chlorine_supplied')?o(t,'s_wash.chlorine_supplied'):0,e.t_rs_gluc_strips=o(t,'s_ncds.gluc_strips_supplied')?o(t,'s_ncds.gluc_strips_supplied'):0,e.t_rs_paracetamol_500=o(t,'s_others.paracetamol_500_supplied')?o(t,'s_others.paracetamol_500_supplied'):0,e.t_rs_bandages=o(t,'s_non_pharma.bandages_supplied')?o(t,'s_non_pharma.bandages_supplied'):0,e.t_rs_povi=o(t,'s_non_pharma.povi_supplied')?o(t,'s_non_pharma.povi_supplied'):0,e.t_rs_strap=o(t,'s_non_pharma.strap_supplied')?o(t,'s_non_pharma.strap_supplied'):0,e.t_rs_gloves=o(t,'s_non_pharma.gloves_supplied')?o(t,'s_non_pharma.gloves_supplied'):0,e.t_rs_envelopes=o(t,'s_non_pharma.envelopes_supplied')?o(t,'s_non_pharma.envelopes_supplied'):0,e.t_rs_glucometer=o(t,'s_equipment.glucometer_supplied')?o(t,'s_equipment.glucometer_supplied'):0,e.t_rs_backpack=o(t,'s_equipment.backpack_supplied')?o(t,'s_equipment.backpack_supplied'):0,e.t_rs_badge=o(t,'s_equipment.badge_supplied')?o(t,'s_equipment.badge_supplied'):0,e.t_rs_flashlight=o(t,'s_equipment.flashlight_supplied')?o(t,'s_equipment.flashlight_supplied'):0,e.t_rs_salter=o(t,'s_equipment.salter_supplied')?o(t,'s_equipment.salter_supplied'):0,e.t_rs_color_salter=o(t,'s_equipment.color_salter_supplied')?o(t,'s_equipment.color_salter_supplied'):0,e.t_rs_weighing_scale=o(t,'s_equipment.weighing_scale_supplied')?o(t,'s_equipment.weighing_scale_supplied'):0,e.t_rs_first_aid=o(t,'s_equipment.first_aid_supplied')?o(t,'s_equipment.first_aid_supplied'):0,e.t_rs_bp=o(t,'s_equipment.bp_supplied')?o(t,'s_equipment.bp_supplied'):0,e.t_rs_thermometer=o(t,'s_equipment.thermometer_supplied')?o(t,'s_equipment.thermometer_supplied'):0,e.t_rs_resp_timer=o(t,'s_equipment.resp_timer_supplied')?o(t,'s_equipment.resp_timer_supplied'):0,e.t_rs_muac_tape_adults=o(t,'s_equipment.muac_tape_adults_supplied')?o(t,'s_equipment.muac_tape_adults_supplied'):0,e.t_rs_muac_tape_children=o(t,'s_equipment.muac_tape_children_supplied')?o(t,'s_equipment.muac_tape_children_supplied'):0,e.t_rs_family_muac_tape=o(t,'s_equipment.family_muac_tape_supplied')?o(t,'s_equipment.family_muac_tape_supplied'):0,e.t_rs_moh_514=o(t,'s_equipment.moh_514_supplied')?o(t,'s_equipment.moh_514_supplied'):0,e.t_rs_moh_521=o(t,'s_equipment.moh_521_supplied')?o(t,'s_equipment.moh_521_supplied'):0,e.t_rs_moh_100=o(t,'s_equipment.moh_100_supplied')?o(t,'s_equipment.moh_100_supplied'):0,e.t_rs_comm_daily_register=o(t,'s_equipment.comm_daily_register_supplied')?o(t,'s_equipment.comm_daily_register_supplied'):0,e.t_rs_phone=o(t,'s_equipment.phone_supplied')?o(t,'s_equipment.phone_supplied'):0,e.t_rs_safety_box=o(t,'s_equipment.safety_box_supplied')?o(t,'s_equipment.safety_box_supplied'):0,e.t_rs_others=o(t,'s_equipment.others_supplied')?o(t,'s_equipment.others_supplied'):0,e),discrepancyContent:(e,t)=>(e.d_rs_chv_name=o(t,'chv_name')||'',e.d_rs_chv_area_uuid=o(t,'chv_area_uuid')||'',e.d_rs_rdts=o(t,'s_malaria.rdts_quantity_received')||-1,e.d_rs_act_6=o(t,'s_malaria.act_6_quantity_received')||-1,e.d_rs_act_12=o(t,'s_malaria.act_12_quantity_received')||-1,e.d_rs_act_18=o(t,'s_malaria.act_18_quantity_received')||-1,e.d_rs_act_24=o(t,'s_malaria.act_24_quantity_received')||-1,e.d_rs_dt_250=o(t,'s_child_health.dt_250_quantity_received')||-1,e.d_rs_ors_zinc=o(t,'s_child_health.ors_zinc_quantity_received')||-1,e.d_rs_ors_sachets=o(t,'s_child_health.ors_sachets_quantity_received')||-1,e.d_rs_zinc_sulphate=o(t,'s_child_health.zinc_sulphate_quantity_received')||-1,e.d_rs_albendazole=o(t,'s_child_health.albendazole_quantity_received')||-1,e.d_rs_tetra_eye=o(t,'s_child_health.tetra_eye_quantity_received')||-1,e.d_rs_paracetamol_120=o(t,'s_child_health.paracetamol_120_quantity_received')||-1,e.d_rs_mebendazole=o(t,'s_reproductive.mebendazole_quantity_received')||-1,e.d_rs_coc=o(t,'s_reproductive.coc_quantity_received')||-1,e.d_rs_prog=o(t,'s_reproductive.prog_quantity_received')||-1,e.d_rs_depo_im=o(t,'s_reproductive.depo_im_quantity_received')||-1,e.d_rs_depo_sc=o(t,'s_reproductive.depo_sc_quantity_received')||-1,e.d_rs_preg_strip=o(t,'s_reproductive.preg_strip_quantity_received')||-1,e.d_rs_chlorine=o(t,'s_wash.chlorine_quantity_received')||-1,e.d_rs_gluc_strips=o(t,'s_ncds.gluc_strips_quantity_received')||-1,e.d_rs_paracetamol_500=o(t,'s_others.paracetamol_500_quantity_received')||-1,e.d_rs_bandages=o(t,'s_non_pharma.bandages_quantity_received')||-1,e.d_rs_povi=o(t,'s_non_pharma.povi_quantity_received')||-1,e.d_rs_strap=o(t,'s_non_pharma.strap_quantity_received')||-1,e.d_rs_gloves=o(t,'s_non_pharma.gloves_quantity_received')||-1,e.d_rs_envelopes=o(t,'s_non_pharma.envelopes_quantity_received')||-1,e.d_rs_glucometer=o(t,'s_equipment.glucometer_quantity_received')||-1,e.d_rs_backpack=o(t,'s_equipment.backpack_quantity_received')||-1,e.d_rs_badge=o(t,'s_equipment.badge_quantity_received')||-1,e.d_rs_flashlight=o(t,'s_equipment.flashlight_quantity_received')||-1,e.d_rs_salter=o(t,'s_equipment.salter_quantity_received')||-1,e.d_rs_color_salter=o(t,'s_equipment.color_salter_quantity_received')||-1,e.d_rs_weighing_scale=o(t,'s_equipment.weighing_scale_quantity_received')||-1,e.d_rs_first_aid=o(t,'s_equipment.first_aid_quantity_received')||-1,e.d_rs_bp=o(t,'s_equipment.bp_quantity_received')||-1,e.d_rs_thermometer=o(t,'s_equipment.thermometer_quantity_received')||-1,e.d_rs_resp_timer=o(t,'s_equipment.resp_timer_quantity_received')||-1,e.d_rs_muac_tape_adults=o(t,'s_equipment.muac_tape_adults_quantity_received')||-1,e.d_rs_muac_tape_children=o(t,'s_equipment.muac_tape_children_quantity_received')||-1,e.d_rs_family_muac_tape=o(t,'s_equipment.family_muac_tape_quantity_received')||-1,e.d_rs_moh_514=o(t,'s_equipment.moh_514_quantity_received')||-1,e.d_rs_moh_521=o(t,'s_equipment.moh_521_quantity_received')||-1,e.d_rs_moh_100=o(t,'s_equipment.moh_100_quantity_received')||-1,e.d_rs_comm_daily_register=o(t,'s_equipment.comm_daily_register_quantity_received')||-1,e.d_rs_phone=o(t,'s_equipment.phone_quantity_received')||-1,e.d_rs_safety_box=o(t,'s_equipment.safety_box_quantity_received')||-1,e.d_rs_others=o(t,'s_equipment.others_quantity_received')||-1,e.t_rs_rdts=o(t,'rs_rdts')||0,e.t_rs_act_6=o(t,'rs_act_6')||0,e.t_rs_act_12=o(t,'rs_act_12')||0,e.t_rs_act_18=o(t,'rs_act_18')||0,e.t_rs_act_24=o(t,'rs_act_24')||0,e.t_rs_dt_250=o(t,'rs_dt_250')||0,e.t_rs_ors_zinc=o(t,'rs_ors_zinc')||0,e.t_rs_ors_sachets=o(t,'rs_ors_sachets')||0,e.t_rs_zinc_sulphate=o(t,'rs_zinc_sulphate')||0,e.t_rs_albendazole=o(t,'rs_albendazole')||0,e.t_rs_tetra_eye=o(t,'rs_tetra_eye')||0,e.t_rs_paracetamol_120=o(t,'rs_paracetamol_120')||0,e.t_rs_mebendazole=o(t,'rs_mebendazole')||0,e.t_rs_coc=o(t,'rs_coc')||0,e.t_rs_prog=o(t,'rs_prog')||0,e.t_rs_depo_im=o(t,'rs_depo_im')||0,e.t_rs_depo_sc=o(t,'rs_depo_sc')||0,e.t_rs_preg_strip=o(t,'rs_preg_strip')||0,e.t_rs_chlorine=o(t,'rs_chlorine')||0,e.t_rs_gluc_strips=o(t,'rs_gluc_strips')||0,e.t_rs_paracetamol_500=o(t,'rs_paracetamol_500')||0,e.t_rs_bandages=o(t,'rs_bandages')||0,e.t_rs_povi=o(t,'rs_povi')||0,e.t_rs_strap=o(t,'rs_strap')||0,e.t_rs_gloves=o(t,'rs_gloves')||0,e.t_rs_envelopes=o(t,'rs_envelopes')||0,e.t_rs_glucometer=o(t,'rs_glucometer')||0,e.t_rs_backpack=o(t,'rs_backpack')||0,e.t_rs_badge=o(t,'rs_badge')||0,e.t_rs_flashlight=o(t,'rs_flashlight')||0,e.t_rs_salter=o(t,'rs_salter')||0,e.t_rs_color_salter=o(t,'rs_color_salter')||0,e.t_rs_weighing_scale=o(t,'rs_weighing_scale')||0,e.t_rs_first_aid=o(t,'rs_first_aid')||0,e.t_rs_bp=o(t,'rs_bp')||0,e.t_rs_thermometer=o(t,'rs_thermometer')||0,e.t_rs_resp_timer=o(t,'rs_resp_timer')||0,e.t_rs_muac_tape_adults=o(t,'rs_muac_tape_adults')||0,e.t_rs_muac_tape_children=o(t,'rs_muac_tape_children')||0,e.t_rs_family_muac_tape=o(t,'rs_family_muac_tape')||0,e.t_rs_moh_514=o(t,'rs_moh_514')||0,e.t_rs_moh_521=o(t,'rs_moh_521')||0,e.t_rs_moh_100=o(t,'rs_moh_100')||0,e.t_rs_comm_daily_register=o(t,'rs_comm_daily_register')||0,e.t_rs_phone=o(t,'rs_phone')||0,e.t_rs_safety_box=o(t,'rs_safety_box')||0,e.t_rs_others=o(t,'rs_others')||0,e),returnedContent:(e,t)=>{e.t_returned_chv_name=o(t,'chv_name')?o(t,'chv_name'):'';const n=parseInt(o(t,'s_malaria.rdts_excess_return'))?parseInt(o(t,'s_malaria.rdts_excess_return')):0,r=parseInt(o(t,'s_malaria.act_6_excess_return'))?parseInt(o(t,'s_malaria.act_6_excess_return')):0,i=parseInt(o(t,'s_malaria.act_12_excess_return'))?parseInt(o(t,'s_malaria.act_12_excess_return')):0,a=parseInt(o(t,'s_malaria.act_18_excess_return'))?parseInt(o(t,'s_malaria.act_18_excess_return')):0,s=parseInt(o(t,'s_malaria.act_24_excess_return'))?parseInt(o(t,'s_malaria.act_24_excess_return')):0,u=parseInt(o(t,'s_child_health.dt_250_excess_return'))?parseInt(o(t,'s_child_health.dt_250_excess_return')):0,_=parseInt(o(t,'s_child_health.ors_zinc_excess_return'))?parseInt(o(t,'s_child_health.ors_zinc_excess_return')):0,c=parseInt(o(t,'s_child_health.ors_sachets_excess_return'))?parseInt(o(t,'s_child_health.ors_sachets_excess_return')):0,l=parseInt(o(t,'s_child_health.zinc_sulphate_excess_return'))?parseInt(o(t,'s_child_health.zinc_sulphate_excess_return')):0,d=parseInt(o(t,'s_child_health.albendazole_excess_return'))?parseInt(o(t,'s_child_health.albendazole_excess_return')):0,p=parseInt(o(t,'s_child_health.tetra_eye_excess_return'))?parseInt(o(t,'s_child_health.tetra_eye_excess_return')):0,f=parseInt(o(t,'s_child_health.paracetamol_120_excess_return'))?parseInt(o(t,'s_child_health.paracetamol_120_excess_return')):0,m=parseInt(o(t,'s_reproductive.mebendazole_excess_return'))?parseInt(o(t,'s_reproductive.mebendazole_excess_return')):0,h=parseInt(o(t,'s_reproductive.coc_excess_return'))?parseInt(o(t,'s_reproductive.coc_excess_return')):0,g=parseInt(o(t,'s_reproductive.prog_excess_return'))?parseInt(o(t,'s_reproductive.prog_excess_return')):0,v=parseInt(o(t,'s_reproductive.depo_im_excess_return'))?parseInt(o(t,'s_reproductive.depo_im_excess_return')):0,y=parseInt(o(t,'s_reproductive.depo_sc_excess_return'))?parseInt(o(t,'s_reproductive.depo_sc_excess_return')):0,w=parseInt(o(t,'s_reproductive.preg_strip_excess_return'))?parseInt(o(t,'s_reproductive.preg_strip_excess_return')):0,I=parseInt(o(t,'s_wash.chlorine_excess_return'))?parseInt(o(t,'s_wash.chlorine_excess_return')):0,T=parseInt(o(t,'s_ncds.gluc_strips_excess_return'))?parseInt(o(t,'s_ncds.gluc_strips_excess_return')):0,b=parseInt(o(t,'s_others.paracetamol_500_excess_return'))?parseInt(o(t,'s_others.paracetamol_500_excess_return')):0,S=parseInt(o(t,'s_non_pharma.bandages_excess_return'))?parseInt(o(t,'s_non_pharma.bandages_excess_return')):0,E=parseInt(o(t,'s_non_pharma.povi_excess_return'))?parseInt(o(t,'s_non_pharma.povi_excess_return')):0,O=parseInt(o(t,'s_non_pharma.strap_excess_return'))?parseInt(o(t,'s_non_pharma.strap_excess_return')):0,k=parseInt(o(t,'s_non_pharma.gloves_excess_return'))?parseInt(o(t,'s_non_pharma.gloves_excess_return')):0,x=parseInt(o(t,'s_non_pharma.envelopes_excess_return'))?parseInt(o(t,'s_non_pharma.envelopes_excess_return')):0,N=parseInt(o(t,'s_equipment.glucometer_excess_return'))?parseInt(o(t,'s_equipment.glucometer_excess_return')):0,C=parseInt(o(t,'s_equipment.backpack_excess_return'))?parseInt(o(t,'s_equipment.backpack_excess_return')):0,D=parseInt(o(t,'s_equipment.badge_excess_return'))?parseInt(o(t,'s_equipment.badge_excess_return')):0,M=parseInt(o(t,'s_equipment.flashlight_excess_return'))?parseInt(o(t,'s_equipment.flashlight_excess_return')):0,A=parseInt(o(t,'s_equipment.salter_excess_return'))?parseInt(o(t,'s_equipment.salter_excess_return')):0,U=parseInt(o(t,'s_equipment.color_salter_excess_return'))?parseInt(o(t,'s_equipment.color_salter_excess_return')):0,F=parseInt(o(t,'s_equipment.weighing_scale_excess_return'))?parseInt(o(t,'s_equipment.weighing_scale_excess_return')):0,R=parseInt(o(t,'s_equipment.first_aid_excess_return'))?parseInt(o(t,'s_equipment.first_aid_excess_return')):0,q=parseInt(o(t,'s_equipment.bp_excess_return'))?parseInt(o(t,'s_equipment.bp_excess_return')):0,V=parseInt(o(t,'s_equipment.thermometer_excess_return'))?parseInt(o(t,'s_equipment.thermometer_excess_return')):0,L=parseInt(o(t,'s_equipment.resp_timer_excess_return'))?parseInt(o(t,'s_equipment.resp_timer_excess_return')):0,P=parseInt(o(t,'s_equipment.muac_tape_adults_excess_return'))?parseInt(o(t,'s_equipment.muac_tape_adults_excess_return')):0,z=parseInt(o(t,'s_equipment.muac_tape_children_excess_return'))?parseInt(o(t,'s_equipment.muac_tape_children_excess_return')):0,j=parseInt(o(t,'s_equipment.family_muac_tape_excess_return'))?parseInt(o(t,'s_equipment.family_muac_tape_excess_return')):0,H=parseInt(o(t,'s_equipment.moh_514_excess_return'))?parseInt(o(t,'s_equipment.moh_514_excess_return')):0,Z=parseInt(o(t,'s_equipment.moh_521_excess_return'))?parseInt(o(t,'s_equipment.moh_521_excess_return')):0,W=parseInt(o(t,'s_equipment.moh_100_excess_return'))?parseInt(o(t,'s_equipment.moh_100_excess_return')):0,B=parseInt(o(t,'s_equipment.comm_daily_register_excess_return'))?parseInt(o(t,'s_equipment.comm_daily_register_excess_return')):0,Y=parseInt(o(t,'s_equipment.phone_excess_return'))?parseInt(o(t,'s_equipment.phone_excess_return')):0,G=parseInt(o(t,'s_equipment.safety_box_excess_return'))?parseInt(o(t,'s_equipment.safety_box_excess_return')):0,J=parseInt(o(t,'s_equipment.others_excess_return'))?parseInt(o(t,'s_equipment.others_excess_return')):0,K=o(t,'s_malaria.rdts_excess_to_return')?o(t,'s_malaria.rdts_excess_to_return'):0,$=parseInt(o(t,'s_malaria.act_6_excess_to_return'))?parseInt(o(t,'s_malaria.act_6_excess_to_return')):0,Q=parseInt(o(t,'s_malaria.act_12_excess_to_return'))?parseInt(o(t,'s_malaria.act_12_excess_to_return')):0,X=parseInt(o(t,'s_malaria.act_18_excess_to_return'))?parseInt(o(t,'s_malaria.act_18_excess_to_return')):0,ee=parseInt(o(t,'s_malaria.act_24_excess_to_return'))?parseInt(o(t,'s_malaria.act_24_excess_to_return')):0,te=parseInt(o(t,'s_child_health.dt_250_excess_to_return'))?parseInt(o(t,'s_child_health.dt_250_excess_to_return')):0,ne=parseInt(o(t,'s_child_health.ors_zinc_excess_to_return'))?parseInt(o(t,'s_child_health.ors_zinc_excess_to_return')):0,re=parseInt(o(t,'s_child_health.ors_sachets_excess_to_return'))?parseInt(o(t,'s_child_health.ors_sachets_excess_to_return')):0,ie=parseInt(o(t,'s_child_health.zinc_sulphate_excess_to_return'))?parseInt(o(t,'s_child_health.zinc_sulphate_excess_to_return')):0,ae=parseInt(o(t,'s_child_health.albendazole_excess_to_return'))?parseInt(o(t,'s_child_health.albendazole_excess_to_return')):0,oe=parseInt(o(t,'s_child_health.tetra_eye_excess_to_return'))?parseInt(o(t,'s_child_health.tetra_eye_excess_to_return')):0,se=parseInt(o(t,'s_child_health.paracetamol_120_excess_to_return'))?parseInt(o(t,'s_child_health.paracetamol_120_excess_to_return')):0,ue=parseInt(o(t,'s_reproductive.mebendazole_excess_to_return'))?parseInt(o(t,'s_reproductive.mebendazole_excess_to_return')):0,_e=parseInt(o(t,'s_reproductive.coc_excess_to_return'))?parseInt(o(t,'s_reproductive.coc_excess_to_return')):0,ce=parseInt(o(t,'s_reproductive.prog_excess_to_return'))?parseInt(o(t,'s_reproductive.prog_excess_to_return')):0,le=parseInt(o(t,'s_reproductive.depo_im_excess_to_return'))?parseInt(o(t,'s_reproductive.depo_im_excess_to_return')):0,de=parseInt(o(t,'s_reproductive.depo_sc_excess_to_return'))?parseInt(o(t,'s_reproductive.depo_sc_excess_to_return')):0,pe=parseInt(o(t,'s_reproductive.preg_strip_excess_to_return'))?parseInt(o(t,'s_reproductive.preg_strip_excess_to_return')):0,fe=parseInt(o(t,'s_wash.chlorine_excess_to_return'))?parseInt(o(t,'s_wash.chlorine_excess_to_return')):0,me=parseInt(o(t,'s_ncds.gluc_strips_excess_to_return'))?parseInt(o(t,'s_ncds.gluc_strips_excess_to_return')):0,he=parseInt(o(t,'s_others.paracetamol_500_excess_to_return'))?parseInt(o(t,'s_others.paracetamol_500_excess_to_return')):0,ge=parseInt(o(t,'s_non_pharma.bandages_excess_to_return'))?parseInt(o(t,'s_non_pharma.bandages_excess_to_return')):0,ve=parseInt(o(t,'s_non_pharma.povi_excess_to_return'))?parseInt(o(t,'s_non_pharma.povi_excess_to_return')):0,ye=parseInt(o(t,'s_non_pharma.strap_excess_to_return'))?parseInt(o(t,'s_non_pharma.strap_excess_to_return')):0,we=parseInt(o(t,'s_non_pharma.gloves_excess_to_return'))?parseInt(o(t,'s_non_pharma.gloves_excess_to_return')):0,Ie=parseInt(o(t,'s_non_pharma.envelopes_excess_to_return'))?parseInt(o(t,'s_non_pharma.envelopes_excess_to_return')):0,Te=parseInt(o(t,'s_equipment.glucometer_excess_to_return'))?parseInt(o(t,'s_equipment.glucometer_excess_to_return')):0,be=parseInt(o(t,'s_equipment.backpack_excess_to_return'))?parseInt(o(t,'s_equipment.backpack_excess_to_return')):0,Se=parseInt(o(t,'s_equipment.badge_excess_to_return'))?parseInt(o(t,'s_equipment.badge_excess_to_return')):0,Ee=parseInt(o(t,'s_equipment.flashlight_excess_to_return'))?parseInt(o(t,'s_equipment.flashlight_excess_to_return')):0,Oe=parseInt(o(t,'s_equipment.salter_excess_to_return'))?parseInt(o(t,'s_equipment.salter_excess_to_return')):0,ke=parseInt(o(t,'s_equipment.color_salter_excess_to_return'))?parseInt(o(t,'s_equipment.color_salter_excess_to_return')):0,xe=parseInt(o(t,'s_equipment.weighing_scale_excess_to_return'))?parseInt(o(t,'s_equipment.weighing_scale_excess_to_return')):0,Ne=parseInt(o(t,'s_equipment.first_aid_excess_to_return'))?parseInt(o(t,'s_equipment.first_aid_excess_to_return')):0,Ce=parseInt(o(t,'s_equipment.bp_excess_to_return'))?parseInt(o(t,'s_equipment.bp_excess_to_return')):0,De=parseInt(o(t,'s_equipment.thermometer_excess_to_return'))?parseInt(o(t,'s_equipment.thermometer_excess_to_return')):0,Me=parseInt(o(t,'s_equipment.resp_timer_excess_to_return'))?parseInt(o(t,'s_equipment.resp_timer_excess_to_return')):0,Ae=parseInt(o(t,'s_equipment.muac_tape_adults_excess_to_return'))?parseInt(o(t,'s_equipment.muac_tape_adults_excess_to_return')):0,Ue=parseInt(o(t,'s_equipment.muac_tape_children_excess_to_return'))?parseInt(o(t,'s_equipment.muac_tape_children_excess_to_return')):0,Fe=parseInt(o(t,'s_equipment.family_muac_tape_excess_to_return'))?parseInt(o(t,'s_equipment.family_muac_tape_excess_to_return')):0,Re=parseInt(o(t,'s_equipment.moh_514_excess_to_return'))?parseInt(o(t,'s_equipment.moh_514_excess_to_return')):0,qe=parseInt(o(t,'s_equipment.moh_521_excess_to_return'))?parseInt(o(t,'s_equipment.moh_521_excess_to_return')):0,Ve=parseInt(o(t,'s_equipment.moh_100_excess_to_return'))?parseInt(o(t,'s_equipment.moh_100_excess_to_return')):0,Le=parseInt(o(t,'s_equipment.comm_daily_register_excess_to_return'))?parseInt(o(t,'s_equipment.comm_daily_register_excess_to_return')):0,Pe=parseInt(o(t,'s_equipment.phone_excess_to_return'))?parseInt(o(t,'s_equipment.phone_excess_to_return')):0,ze=parseInt(o(t,'s_equipment.safety_box_excess_to_return'))?parseInt(o(t,'s_equipment.safety_box_excess_to_return')):0,je=parseInt(o(t,'s_equipment.others_excess_to_return'))?parseInt(o(t,'s_equipment.others_excess_to_return')):0,He=parseInt(o(t,'s_malaria.rdts_damaged_or_expired_return'))?parseInt(o(t,'s_malaria.rdts_damaged_or_expired_return')):0,Ze=parseInt(o(t,'s_malaria.act_6_damaged_or_expired_return'))?parseInt(o(t,'s_malaria.act_6_damaged_or_expired_return')):0,We=parseInt(o(t,'s_malaria.act_12_damaged_or_expired_return'))?parseInt(o(t,'s_malaria.act_12_damaged_or_expired_return')):0,Be=parseInt(o(t,'s_malaria.act_18_damaged_or_expired_return'))?parseInt(o(t,'s_malaria.act_18_damaged_or_expired_return')):0,Ye=parseInt(o(t,'s_malaria.act_24_damaged_or_expired_return'))?parseInt(o(t,'s_malaria.act_24_damaged_or_expired_return')):0,Ge=parseInt(o(t,'s_child_health.dt_250_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.dt_250_damaged_or_expired_return')):0,Je=parseInt(o(t,'s_child_health.ors_zinc_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.ors_zinc_damaged_or_expired_return')):0,Ke=parseInt(o(t,'s_child_health.ors_sachets_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.ors_sachets_damaged_or_expired_return')):0,$e=parseInt(o(t,'s_child_health.zinc_sulphate_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.zinc_sulphate_damaged_or_expired_return')):0,Qe=parseInt(o(t,'s_child_health.albendazole_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.albendazole_damaged_or_expired_return')):0,Xe=parseInt(o(t,'s_child_health.tetra_eye_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.tetra_eye_damaged_or_expired_return')):0,et=parseInt(o(t,'s_child_health.paracetamol_120_damaged_or_expired_return'))?parseInt(o(t,'s_child_health.paracetamol_120_damaged_or_expired_return')):0,tt=parseInt(o(t,'s_reproductive.mebendazole_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.mebendazole_damaged_or_expired_return')):0,nt=parseInt(o(t,'s_reproductive.coc_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.coc_damaged_or_expired_return')):0,rt=parseInt(o(t,'s_reproductive.prog_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.prog_damaged_or_expired_return')):0,it=parseInt(o(t,'s_reproductive.depo_im_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.depo_im_damaged_or_expired_return')):0,at=parseInt(o(t,'s_reproductive.depo_sc_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.depo_sc_damaged_or_expired_return')):0,ot=parseInt(o(t,'s_reproductive.preg_strip_damaged_or_expired_return'))?parseInt(o(t,'s_reproductive.preg_strip_damaged_or_expired_return')):0,st=parseInt(o(t,'s_wash.chlorine_damaged_or_expired_return'))?parseInt(o(t,'s_wash.chlorine_damaged_or_expired_return')):0,ut=parseInt(o(t,'s_ncds.gluc_strips_damaged_or_expired_return'))?parseInt(o(t,'s_ncds.gluc_strips_damaged_or_expired_return')):0,_t=parseInt(o(t,'s_others.paracetamol_500_damaged_or_expired_return'))?parseInt(o(t,'s_others.paracetamol_500_damaged_or_expired_return')):0,ct=parseInt(o(t,'s_non_pharma.bandages_damaged_or_expired_return'))?parseInt(o(t,'s_non_pharma.bandages_damaged_or_expired_return')):0,lt=parseInt(o(t,'s_non_pharma.povi_damaged_or_expired_return'))?parseInt(o(t,'s_non_pharma.povi_damaged_or_expired_return')):0,dt=parseInt(o(t,'s_non_pharma.strap_damaged_or_expired_return'))?parseInt(o(t,'s_non_pharma.strap_damaged_or_expired_return')):0,pt=parseInt(o(t,'s_non_pharma.gloves_damaged_or_expired_return'))?parseInt(o(t,'s_non_pharma.gloves_damaged_or_expired_return')):0,ft=parseInt(o(t,'s_non_pharma.envelopes_damaged_or_expired_return'))?parseInt(o(t,'s_non_pharma.envelopes_damaged_or_expired_return')):0,mt=parseInt(o(t,'s_equipment.glucometer_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.glucometer_damaged_or_expired_return')):0,ht=parseInt(o(t,'s_equipment.backpack_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.backpack_damaged_or_expired_return')):0,gt=parseInt(o(t,'s_equipment.badge_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.badge_damaged_or_expired_return')):0,vt=parseInt(o(t,'s_equipment.flashlight_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.flashlight_damaged_or_expired_return')):0,yt=parseInt(o(t,'s_equipment.salter_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.salter_damaged_or_expired_return')):0,wt=parseInt(o(t,'s_equipment.color_salter_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.color_salter_damaged_or_expired_return')):0,It=parseInt(o(t,'s_equipment.weighing_scale_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.weighing_scale_damaged_or_expired_return')):0,Tt=parseInt(o(t,'s_equipment.first_aid_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.first_aid_damaged_or_expired_return')):0,bt=parseInt(o(t,'s_equipment.bp_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.bp_damaged_or_expired_return')):0,St=parseInt(o(t,'s_equipment.thermometer_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.thermometer_damaged_or_expired_return')):0,Et=parseInt(o(t,'s_equipment.resp_timer_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.resp_timer_damaged_or_expired_return')):0,Ot=parseInt(o(t,'s_equipment.muac_tape_adults_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.muac_tape_adults_damaged_or_expired_return')):0,kt=parseInt(o(t,'s_equipment.muac_tape_children_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.muac_tape_children_damaged_or_expired_return')):0,xt=parseInt(o(t,'s_equipment.family_muac_tape_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.family_muac_tape_damaged_or_expired_return')):0,Nt=parseInt(o(t,'s_equipment.moh_514_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.moh_514_damaged_or_expired_return')):0,Ct=parseInt(o(t,'s_equipment.moh_521_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.moh_521_damaged_or_expired_return')):0,Dt=parseInt(o(t,'s_equipment.moh_100_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.moh_100_damaged_or_expired_return')):0,Mt=parseInt(o(t,'s_equipment.comm_daily_register_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.comm_daily_register_damaged_or_expired_return')):0,At=parseInt(o(t,'s_equipment.phone_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.phone_damaged_or_expired_return')):0,Ut=parseInt(o(t,'s_equipment.safety_box_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.safety_box_damaged_or_expired_return')):0,Ft=parseInt(o(t,'s_equipment.others_damaged_or_expired_return'))?parseInt(o(t,'s_equipment.others_damaged_or_expired_return')):0;return e.t_returned_rdts=n+K+He,e.t_returned_act_6=r+$+Ze,e.t_returned_act_12=i+Q+We,e.t_returned_act_18=a+X+Be,e.t_returned_act_24=s+ee+Ye,e.t_returned_dt_250=u+te+Ge,e.t_returned_ors_zinc=_+ne+Je,e.t_returned_ors_sachets=c+re+Ke,e.t_returned_zinc_sulphate=l+ie+$e,e.t_returned_albendazole=d+ae+Qe,e.t_returned_tetra_eye=p+oe+Xe,e.t_returned_paracetamol_120=f+se+et,e.t_returned_mebendazole=m+ue+tt,e.t_returned_coc=h+_e+nt,e.t_returned_prog=g+ce+rt,e.t_returned_depo_im=v+le+it,e.t_returned_depo_sc=y+de+at,e.t_returned_preg_strip=w+pe+ot,e.t_returned_chlorine=I+fe+st,e.t_returned_gluc_strips=T+me+ut,e.t_returned_paracetamol_500=b+he+_t,e.t_returned_bandages=S+ge+ct,e.t_returned_povi=E+ve+lt,e.t_returned_strap=O+ye+dt,e.t_returned_gloves=k+we+pt,e.t_returned_envelopes=x+Ie+ft,e.t_returned_glucometer=N+Te+mt,e.t_returned_backpack=C+be+ht,e.t_returned_badge=D+Se+gt,e.t_returned_flashlight=M+Ee+vt,e.t_returned_salter=A+Oe+yt,e.t_returned_color_salter=U+ke+wt,e.t_returned_weighing_scale=F+xe+It,e.t_returned_first_aid=R+Ne+Tt,e.t_returned_bp=q+Ce+bt,e.t_returned_thermometer=V+De+St,e.t_returned_resp_timer=L+Me+Et,e.t_returned_muac_tape_adults=P+Ae+Ot,e.t_returned_muac_tape_children=z+Ue+kt,e.t_returned_family_muac_tape=j+Fe+xt,e.t_returned_moh_514=H+Re+Nt,e.t_returned_moh_521=Z+qe+Ct,e.t_returned_moh_100=W+Ve+Dt,e.t_returned_comm_daily_register=B+Le+Mt,e.t_returned_phone=Y+Pe+At,e.t_returned_safety_box=G+ze+Ut,e.t_returned_others=J+je+Ft,e.t_returned_reason_rdts=o(t,'s_malaria.rdts_reason_return'),e.t_returned_reason_act_6=o(t,'s_malaria.act_6_reason_return'),e.t_returned_reason_act_12=o(t,'s_malaria.act_12_reason_return'),e.t_returned_reason_act_18=o(t,'s_malaria.act_18_reason_return'),e.t_returned_reason_act_24=o(t,'s_malaria.act_24_reason_return'),e.t_returned_reason_dt_250=o(t,'s_child_health.dt_250_reason_return'),e.t_returned_reason_ors_zinc=o(t,'s_child_health.ors_zinc_reason_return'),e.t_returned_reason_ors_sachets=o(t,'s_child_health.ors_sachets_reason_return'),e.t_returned_reason_zinc_sulphate=o(t,'s_child_health.zinc_sulphate_reason_return'),e.t_returned_reason_albendazole=o(t,'s_child_health.albendazole_reason_return'),e.t_returned_reason_tetra_eye=o(t,'s_child_health.tetra_eye_reason_return'),e.t_returned_reason_paracetamol_120=o(t,'s_child_health.paracetamol_120_reason_return'),e.t_returned_reason_mebendazole=o(t,'s_reproductive.mebendazole_reason_return'),e.t_returned_reason_coc=o(t,'s_reproductive.coc_reason_return'),e.t_returned_reason_prog=o(t,'s_reproductive.prog_reason_return'),e.t_returned_reason_depo_im=o(t,'s_reproductive.depo_im_reason_return'),e.t_returned_reason_depo_sc=o(t,'s_reproductive.depo_sc_reason_return'),e.t_returned_reason_preg_strip=o(t,'s_reproductive.preg_strip_reason_return'),e.t_returned_reason_chlorine=o(t,'s_wash.chlorine_reason_return'),e.t_returned_reason_gluc_strips=o(t,'s_ncds.gluc_strips_reason_return'),e.t_returned_reason_paracetamol_500=o(t,'s_others.paracetamol_500_reason_return'),e.t_returned_reason_bandages=o(t,'s_non_pharma.bandages_reason_return'),e.t_returned_reason_povi=o(t,'s_non_pharma.povi_reason_return'),e.t_returned_reason_strap=o(t,'s_non_pharma.strap_reason_return'),e.t_returned_reason_gloves=o(t,'s_non_pharma.gloves_reason_return'),e.t_returned_reason_envelopes=o(t,'s_non_pharma.envelopes_reason_return'),e.t_returned_reason_glucometer=o(t,'s_equipment.glucometer_reason_return'),e.t_returned_reason_backpack=o(t,'s_equipment.backpack_reason_return'),e.t_returned_reason_badge=o(t,'s_equipment.badge_reason_return'),e.t_returned_reason_flashlight=o(t,'s_equipment.flashlight_reason_return'),e.t_returned_reason_salter=o(t,'s_equipment.salter_reason_return'),e.t_returned_reason_color_salter=o(t,'s_equipment.color_salter_reason_return'),e.t_returned_reason_weighing_scale=o(t,'s_equipment.weighing_scale_reason_return'),e.t_returned_reason_first_aid=o(t,'s_equipment.first_aid_reason_return'),e.t_returned_reason_bp=o(t,'s_equipment.bp_reason_return'),e.t_returned_reason_thermometer=o(t,'s_equipment.thermometer_reason_return'),e.t_returned_reason_resp_timer=o(t,'s_equipment.resp_timer_reason_return'),e.t_returned_reason_muac_tape_adults=o(t,'s_equipment.muac_tape_adults_reason_return'),e.t_returned_reason_muac_tape_children=o(t,'s_equipment.muac_tape_children_reason_return'),e.t_returned_reason_family_muac_tape=o(t,'s_equipment.family_muac_tape_reason_return'),e.t_returned_reason_moh_514=o(t,'s_equipment.moh_514_reason_return'),e.t_returned_reason_moh_521=o(t,'s_equipment.moh_521_reason_return'),e.t_returned_reason_moh_100=o(t,'s_equipment.moh_100_reason_return'),e.t_returned_reason_comm_daily_register=o(t,'s_equipment.comm_daily_register_reason_return'),e.t_returned_reason_phone=o(t,'s_equipment.phone_reason_return'),e.t_returned_reason_safety_box=o(t,'s_equipment.safety_box_reason_return'),e.t_returned_reason_others=o(t,'s_equipment.others_reason_return'),e},hasDiscrepancy:e=>e.form===r.Services.COMMODITES_RECEIVED&&i.some(t=>{const n=u(t,a),r=s(e,`${n}.${t}_received`,!1);return void 0!==r&&'no'===r}),hasStockOut:e=>e.form===r.Services.COMMODITES_COUNT&&i.some(t=>s(e,'wos_'+t,!1)<=2),stockOutContent:(e,t)=>(e.t_wos_chv_name=o(t,'chv_name')||'',e.t_wos_rdts=o(t,'wos_rdts')||'0',e.t_wos_act_6=o(t,'wos_act_6')||'0',e.t_wos_act_12=o(t,'wos_act_12')||'0',e.t_wos_act_18=o(t,'wos_act_18')||'0',e.t_wos_act_24=o(t,'wos_act_24')||'0',e.t_wos_dt_250=o(t,'wos_dt_250')||'0',e.t_wos_ors_zinc=o(t,'wos_ors_zinc')||'0',e.t_wos_ors_sachets=o(t,'wos_ors_sachets')||'0',e.t_wos_zinc_sulphate=o(t,'wos_zinc_sulphate')||'0',e.t_wos_albendazole=o(t,'wos_albendazole')||'0',e.t_wos_tetra_eye=o(t,'wos_tetra_eye')||'0',e.t_wos_paracetamol_120=o(t,'wos_paracetamol_120')||'0',e.t_wos_mebendazole=o(t,'wos_mebendazole')||'0',e.t_wos_coc=o(t,'wos_coc')||'0',e.t_wos_prog=o(t,'wos_prog')||'0',e.t_wos_depo_im=o(t,'wos_depo_im')||'0',e.t_wos_depo_sc=o(t,'wos_depo_sc')||'0',e.t_wos_preg_strip=o(t,'wos_preg_strip')||'0',e.t_wos_chlorine=o(t,'wos_chlorine')||'0',e.t_wos_gluc_strips=o(t,'wos_gluc_strips')||'0',e.t_wos_paracetamol_500=o(t,'wos_paracetamol_500')||'0',e.t_wos_bandages=o(t,'wos_bandages')||'0',e.t_wos_povi=o(t,'wos_povi')||'0',e.t_wos_strap=o(t,'wos_strap')||'0',e.t_wos_gloves=o(t,'wos_gloves')||'0',e.t_wos_envelopes=o(t,'wos_envelopes')||'0',e.t_wos_glucometer=o(t,'wos_glucometer')||'0',e.t_wos_backpack=o(t,'wos_backpack')||'0',e.t_wos_badge=o(t,'wos_badge')||'0',e.t_wos_flashlight=o(t,'wos_flashlight')||'0',e.t_wos_salter=o(t,'wos_salter')||'0',e.t_wos_color_salter=o(t,'wos_color_salter')||'0',e.t_wos_weighing_scale=o(t,'wos_weighing_scale')||'0',e.t_wos_first_aid=o(t,'wos_first_aid')||'0',e.t_wos_bp=o(t,'wos_bp')||'0',e.t_wos_thermometer=o(t,'wos_thermometer')||'0',e.t_wos_resp_timer=o(t,'wos_resp_timer')||'0',e.t_wos_muac_tape_adults=o(t,'wos_muac_tape_adults')||'0',e.t_wos_muac_tape_children=o(t,'wos_muac_tape_children')||'0',e.t_wos_family_muac_tape=o(t,'wos_family_muac_tape')||'0',e.t_wos_moh_514=o(t,'wos_moh_514')||'0',e.t_wos_moh_521=o(t,'wos_moh_521')||'0',e.t_wos_moh_100=o(t,'wos_moh_100')||'0',e.t_wos_comm_daily_register=o(t,'wos_comm_daily_register')||'0',e.t_wos_phone=o(t,'wos_phone')||'0',e.t_wos_safety_box=o(t,'wos_safety_box')||'0',e.t_wos_others=o(t,'wos_others')||'0',e.t_soh_rdts=o(t,'rdts_count_final')||'0',e.t_soh_act_6=o(t,'act_6_count_final')||'0',e.t_soh_act_12=o(t,'act_12_count_final')||'0',e.t_soh_act_18=o(t,'act_18_count_final')||'0',e.t_soh_act_24=o(t,'act_24_count_final')||'0',e.t_soh_dt_250=o(t,'dt_250_count_final')||'0',e.t_soh_ors_zinc=o(t,'ors_zinc_count_final')||'0',e.t_soh_ors_sachets=o(t,'ors_sachets_count_final')||'0',e.t_soh_zinc_sulphate=o(t,'zinc_sulphate_count_final')||'0',e.t_soh_albendazole=o(t,'albendazole_count_final')||'0',e.t_soh_tetra_eye=o(t,'tetra_eye_count_final')||'0',e.t_soh_paracetamol_120=o(t,'paracetamol_120_count_final')||'0',e.t_soh_mebendazole=o(t,'mebendazole_count_final')||'0',e.t_soh_coc=o(t,'coc_count_final')||'0',e.t_soh_prog=o(t,'prog_count_final')||'0',e.t_soh_depo_im=o(t,'depo_im_count_final')||'0',e.t_soh_depo_sc=o(t,'depo_sc_count_final')||'0',e.t_soh_preg_strip=o(t,'preg_strip_count_final')||'0',e.t_soh_chlorine=o(t,'chlorine_count_final')||'0',e.t_soh_gluc_strips=o(t,'gluc_strips_count_final')||'0',e.t_soh_paracetamol_500=o(t,'paracetamol_500_count_final')||'0',e.t_soh_bandages=o(t,'bandages_count_final')||'0',e.t_soh_povi=o(t,'povi_count_final')||'0',e.t_soh_strap=o(t,'strap_count_final')||'0',e.t_soh_gloves=o(t,'gloves_count_final')||'0',e.t_soh_envelopes=o(t,'envelopes_count_final')||'0',e.t_soh_glucometer=o(t,'glucometer_count_final')||'0',e.t_soh_backpack=o(t,'backpack_count_final')||'0',e.t_soh_badge=o(t,'badge_count_final')||'0',e.t_soh_flashlight=o(t,'flashlight_count_final')||'0',e.t_soh_salter=o(t,'salter_count_final')||'0',e.t_soh_color_salter=o(t,'color_salter_count_final')||'0',e.t_soh_weighing_scale=o(t,'weighing_scale_count_final')||'0',e.t_soh_first_aid=o(t,'first_aid_count_final')||'0',e.t_soh_bp=o(t,'bp_count_final')||'0',e.t_soh_thermometer=o(t,'thermometer_count_final')||'0',e.t_soh_resp_timer=o(t,'resp_timer_count_final')||'0',e.t_soh_muac_tape_adults=o(t,'muac_tape_adults_count_final')||'0',e.t_soh_muac_tape_children=o(t,'muac_tape_children_count_final')||'0',e.t_soh_family_muac_tape=o(t,'family_muac_tape_count_final')||'0',e.t_soh_moh_514=o(t,'moh_514_count_final')||'0',e.t_soh_moh_521=o(t,'moh_521_count_final')||'0',e.t_soh_moh_100=o(t,'moh_100_count_final')||'0',e.t_soh_comm_daily_register=o(t,'comm_daily_register_count_final')||'0',e.t_soh_phone=o(t,'phone_count_final')||'0',e.t_soh_safety_box=o(t,'safety_box_count_final')||'0',e.t_soh_others=o(t,'others_count_final')||'0',e)}},function(e,t){e.exports={productList:['rdts','act_6','act_12','act_18','act_24','dt_250','ors_zinc','ors_sachets','zinc_sulphate','albendazole','tetra_eye','paracetamol_120','mebendazole','coc','prog','depo_im','depo_sc','preg_strip','chlorine','gluc_strips','paracetamol_500','bandages','povi','strap','gloves','envelopes','glucometer','backpack','badge','flashlight','salter','color_salter','weighing_scale','first_aid','bp','thermometer','resp_timer','muac_tape_adults','muac_tape_children','family_muac_tape','moh_514','moh_521','moh_100','comm_daily_register','phone','safety_box','others'],productDetailsList:{rdts:{label:'RDTs (Malaria Test Kit)',units:'Kits',section:'malaria',showInCard:{chv:!0,cha:!0}},act_6:{label:'First Line Anti-Malarial (ACT/Coartem) 6 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_12:{label:'First Line Anti-Malarial (ACT/Coartem) 12 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_18:{label:'First Line Anti-Malarial (ACT/Coartem) 18 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},act_24:{label:'First Line Anti-Malarial (ACT/Coartem) 24 pack',units:'Packs',section:'malaria',showInCard:{chv:!0,cha:!0}},dt_250:{label:'Antibiotics (Amoxicillin DT 250mg ) tablets',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},ors_zinc:{label:'ORS + Zinc Co-pack',units:'Pieces',section:'child_health',showInCard:{chv:!0,cha:!0}},ors_sachets:{label:'ORS Satchets',units:'Sachets',section:'child_health',showInCard:{chv:!0,cha:!0}},zinc_sulphate:{label:'Zinc Sulphate 20mg Tablets',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},albendazole:{label:'Albendazole 400mg (Dewormers)',units:'Tablets',section:'child_health',showInCard:{chv:!0,cha:!0}},tetra_eye:{label:'Tetracycline Eye Ointment 1% tubes',units:'Tubes',section:'child_health',showInCard:{chv:!0,cha:!0}},paracetamol_120:{label:'Paracetamol 120mg/5ml suspension',units:'Bottles',section:'child_health',showInCard:{chv:!0,cha:!0}},mebendazole:{label:'Mebendazole 500mg (Dewormers) tablets',units:'Tablets',section:'reproductive',showInCard:{chv:!0,cha:!0}},coc:{label:'Combined Oral Contraceptives',units:'Cycles',section:'reproductive',showInCard:{chv:!0,cha:!0}},prog:{label:'Progestin Only pill',units:'Cycles',section:'reproductive',showInCard:{chv:!0,cha:!0}},depo_im:{label:'Depo Medroxy provera injection-IM (vials)',units:'Vials',section:'reproductive',showInCard:{chv:!0,cha:!0}},depo_sc:{label:'Depo Medroxy provera injection - SC (vials)',units:'Vials',section:'reproductive',showInCard:{chv:!0,cha:!0}},preg_strip:{label:'Pregnancy Test Strip',units:'Strips',section:'reproductive',showInCard:{chv:!0,cha:!0}},chlorine:{label:'Chlorine',units:'Tablets',section:'wash',showInCard:{chv:!0,cha:!0}},gluc_strips:{label:'Glucometer Strips',units:'Strips',section:'ncds',showInCard:{chv:!0,cha:!0}},paracetamol_500:{label:'Paracetamol Tablets, 500mg',units:'Tablets',section:'others',showInCard:{chv:!0,cha:!0}},bandages:{label:'Bandages',units:'Rolls',section:'non_pharma',showInCard:{chv:!0,cha:!0}},povi:{label:'Povidone Iodine Solution',units:'Bottles',section:'non_pharma',showInCard:{chv:!0,cha:!0}},strap:{label:'Strapping',units:'Rolls',section:'non_pharma',showInCard:{chv:!0,cha:!0}},gloves:{label:'Gloves',units:'Pairs',section:'non_pharma',showInCard:{chv:!0,cha:!0}},envelopes:{label:'Medical Dispensing Envelopes',units:'Pieces',section:'non_pharma',showInCard:{chv:!0,cha:!0}},glucometer:{label:'Glucometer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},backpack:{label:'Backpack with logo',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},badge:{label:'Badge (Name Tag)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},flashlight:{label:'Flashlight (Torch)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},salter:{label:'Salter scale',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},color_salter:{label:'Color coded salter scale',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},weighing_scale:{label:'Weighing scale (Bathroom)',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},first_aid:{label:'First Aid Kit',units:'Kits',section:'equipment',showInCard:{chv:!0,cha:!0}},bp:{label:'BP Machine',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},thermometer:{label:'Digital Thermometer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},resp_timer:{label:'Respiratory Timer',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},muac_tape_adults:{label:'MUAC TAPE (Adults)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},muac_tape_children:{label:'MUAC TAPE (Children)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},family_muac_tape:{label:'Family MUAC tape (Children)',units:'Pieces',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_514:{label:'Register MOH 514',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_521:{label:'Register MOH 521',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},moh_100:{label:'Referral Form MOH 100',units:'Forms',section:'equipment',showInCard:{chv:!0,cha:!0}},comm_daily_register:{label:'Community commodity Daily Activity Register',units:'Books',section:'equipment',showInCard:{chv:!0,cha:!0}},phone:{label:'Mobile Phone',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}},safety_box:{label:'Safety box',units:'Unit',section:'equipment',showInCard:{chv:!0,cha:!0}},others:{label:'Others',units:'Units',section:'equipment',showInCard:{chv:!0,cha:!0}}}}},function(e,t,n){const r=n(1),i=n(5),{DateTime:a}=n(2),{isEligibleForTasks:o,Persons:s,Places:u,isMale:_,isFemaleOrIntersex:c,Services:l,Targets:d,getHouseholdId:p,getField:f}=r,{isHouseholdMember:m,isPregnant:h,getMostRecentReport:g}=i,{isReportedThisMonth:v,ageInMonths:y,ageInYears:w,isReferredByCHV:I,isUnder5WithPneumonia:T,isUnder5WithPneumoniaTreated:b,FIELDS_FOR_CHV_REFERRAL:S,FIELDS_FOR_MRDT_RESULT:E,MRDT_RESULT_OPTIONS:O,MRDT_TEST_RESULT_OPTIONS:k,MUAC_COLORS:x,FIELDS_FOR_GROWTH_MONITORING:N,MALNUTRITION_MUAC_COLORS:C}=n(4);e.exports=[{id:'total-population-male-all-time',translation_key:'targets.population.male.title',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-man',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>m(e.contact)&&o(e.contact)&&_(e.contact),date:'now'},{id:d.WOMEN_15_49,translation_key:'targets.population.women_15_49',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-woman',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>{const t=w(e.contact.date_of_birth),n=t>=15&&t<=49;return m(e.contact)&&o(e.contact)&&c(e.contact)&&n},date:'now'},{id:'total-population-female-all-time',translation_key:'targets.population.female.title',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-woman',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>m(e.contact)&&o(e.contact)&&c(e.contact),date:'now'},{id:d.HH_VISITED,translation_key:'targets.household.visited.title',subtitle_translation_key:'targets.this_month.subtitle',type:'percent',goal:100,icon:'icon-community-health-unit',appliesTo:'contacts',appliesToType:[u.HOUSEHOLD,s.CLIENT],idType:'contact',groupBy:e=>p(e),passesIfGroupCount:{gte:1},appliesIf:e=>Boolean(p(e)),emitCustom:(e,t,n)=>{const r=p(n);for(const i of n.reports.filter(e=>[l.U5_ASSESSMENT,l.OVER_FIVE_ASSESSMENT].includes(e.form))){const n=a.fromMillis(parseInt(i.reported_date||0));if(n){e(Object.assign({},t,{_id:`${r}-${n.toFormat('yyyy-MM-dd')}`,pass:!0,date:n.toMillis()}))}}n.contact&&[u.HOUSEHOLD,s.CLIENT].includes(n.contact.contact_type)&&e(Object.assign({},t,{_id:r,date:Date.now(),pass:!1}))}},{id:d.UNDER_1_POPULATION,translation_key:'targets.population.under_1',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-baby',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<1,date:'now'},{id:d.ACTIVE_PREGNANCIES,translation_key:'targets.population.active_pregnancies',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-pregnancy-home-visit-service',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>m(e.contact)&&o(e.contact)&&c(e.contact)&&h(e.contact,e.reports),date:'now'},{id:d.UNDER_5_POPULATION,translation_key:'targets.population.under_5',subtitle_translation_key:'targets.all_time.subtitle',type:'count',icon:'icon-baby',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:e=>m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5,date:'now'},{id:d.PERCENT_POPULATION_LT_2_MONTHS_ASSESSED,type:'percent',icon:'icon-child-growth',goal:100,translation_key:'targets.assessments.percentage.lt.2.months.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&y(e.contact.date_of_birth)<2},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e))},idType:'contact',date:'now'},{id:d.PERCENT_POPULATION_2_TO_59_MONTHS_ASSESSED,type:'percent',icon:'icon-child-growth',goal:100,translation_key:'targets.assessments.percentage_2_to_59_months.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){const t=y(e.contact.date_of_birth);return m(e.contact)&&o(e.contact)&&t>=2&&t<60},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e))},idType:'contact',date:'now'},{id:d.PERCENT_POPULATION_OVER_5_YEARS_ASSESSED,type:'percent',icon:'icon-healthcare-assessment',goal:100,translation_key:'targets.assessments.percentage_over_5_years.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)>5},passesIf:function(e){return e.reports.some(e=>e.form===l.OVER_FIVE_ASSESSMENT&&v(e))},idType:'contact',date:'now'},{id:d.U5_WITH_PNEUMONIA_TREATED,type:'percent',icon:'icon-disease-pneumonia',goal:100,translation_key:'targets.u5_with_pneumonia_treated.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5&&e.reports.some(e=>v(e)&&T(e))},passesIf:function(e){return e.reports.some(e=>b(e))},idType:'contact',date:'now'},{id:d.U5_WITH_MALARIA_TREATED,type:'percent',icon:'icon-disease-malaria',goal:100,translation_key:'targets.u5_with_malaria_treated.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5&&e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&'true'===f(e,'malaria_screening.malaria_test_positive'))},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&'yes'===f(e,'group_summary_no_danger_signs.r_given_al'))},idType:'contact'},{id:'percent-hh-functional-latrine',type:'percent',icon:'icon-people-family',goal:100,translation_key:'targets.percent-hh-functional-latrine.title',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesTo:'contacts',appliesToType:['e_household'],emitCustom:(e,t,n)=>{const r=n.contact._id,i=g(n.reports,l.WASH);i&&'yes'===Utils.getField(i,'group_wash.has_functional_latrine')&&e(Object.assign({},t,{_id:r,pass:!0})),i&&'yes'!==Utils.getField(i,'group_wash.has_functional_latrine')&&e(Object.assign({},t,{_id:r,pass:!1}))},groupBy:e=>e.contact._id,passesIfGroupCount:{gte:1},date:'now'},{id:d.U5_WITH_DIARRHOEA_TREATED,type:'percent',icon:'icon-condition-diarrhea',goal:100,translation_key:'targets.u5_with_diarrhoea_treated.title',subtitle_translation_key:'targets.this_month.subtitle',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5&&e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&'yes'===f(e,'u5_assessment.has_diarrhoea'))},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&('yes'===f(e,'group_summary_no_danger_signs.r_given_ors')&&'yes'===f(e,'group_summary_no_danger_signs.r_given_zinc')||'yes'===f(e,'group_summary_danger_signs.r_dt_given_ors')&&'yes'===f(e,'group_summary_danger_signs.r_dt_diarrhoea_given_zinc')))},idType:'contact',date:'now'},{id:d.TOTAL_REFERRALS,translation_key:'targets.referrals.total',subtitle_translation_key:'targets.this_month.subtitle',type:'count',icon:'icon-follow-up',goal:-1,appliesTo:'reports',appliesToType:Object.keys(S),appliesIf:I,date:'reported',idType:'report'},{id:'skilled-deliveries-cha-percent',type:'percent',icon:'icon-delivery',goal:100,translation_key:'targets.skilled-deliveries-percent.title',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesTo:'reports',idType:'report',appliesIf:function(e,t){return'postnatal_care_service'===t.form&&'yes'===Utils.getField(t,'group_pregnancy_status.has_delivered')},passesIf:function(e,t){return'health_facility'===Utils.getField(t,'group_pnc_visit.place_of_delivery')},date:'now'},{id:d.CHILDREN_WITH_UPTODATE_GROWTH_MONITORING,translation_key:'targets.children_with_uptodate_growth_monitoring.title',subtitle_translation_key:'targets.this_month.subtitle',type:'percent',icon:'icon-baby',goal:100,appliesTo:'contacts',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5},passesIf:function(e){return e.reports.some(e=>Object.keys(N).includes(e.form)&&v(e)&&'yes'===f(e,N[e.form]))},idType:'contact',date:'now'},{id:d.GAM_RATE,translation_key:'targets.gam_rate.title',subtitle_translation_key:'targets.this_month.subtitle',type:'percent',icon:'icon-child-nutrition',goal:-1,appliesTo:'contacts',appliesToType:[s.CLIENT],context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesIf:function(e){return m(e.contact)&&o(e.contact)&&w(e.contact.date_of_birth)<5&&e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&x.includes(f(e,'malnutrition_screening.muac_color')))},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&v(e)&&C.includes(f(e,'malnutrition_screening.muac_color')))},idType:'contact',date:'now'},{id:d.NEW_PREGNANT,translation_key:'targets.new_pregnancies.title',subtitle_translation_key:'targets.this_month.subtitle',type:'count',icon:'icon-pregnancy-home-visit-service',goal:-1,appliesTo:'contacts',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesToType:[s.CLIENT],appliesIf:e=>e.reports.some(e=>v(e)&&e.form===l.PREGNANCY_HOME_VISIT&&'true'===f(e,'marked_as_pregnant')),date:'now'},{id:d.PERCENT_POPULATION_OVER_2_MONTHS_SUSPECTED_MALARIA_TESTED_WITH_MRDT,translation_key:'targets.over_two_months_with_suspected_malaria_tested_with_mrdt.title',subtitle_translation_key:'targets.this_month.subtitle',type:'percent',icon:'icon-healthcare-mrdt',goal:100,appliesTo:'contacts',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesToType:[s.CLIENT],appliesIf:function(e){return m(e.contact)&&o(e.contact)&&y(e.contact.date_of_birth)>2&&e.reports.some(e=>Object.keys(E).includes(e.form)&&v(e)&&O.includes(f(e,E[e.form])))},passesIf:function(e){return e.reports.some(e=>Object.keys(E).includes(e.form)&&v(e)&&k.includes(f(e,E[e.form])))},idType:'contact',date:'now'},{id:'percent-exclusive-breastfeeding',type:'percent',icon:'icon-baby',goal:100,translation_key:'targets.percent-exclusive-breastfeeding.title',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesTo:'contacts',appliesToType:[s.CLIENT],appliesIf:function(e){const t=a.now().minus({month:6}).toISODate();return m(e.contact)&&o(e.contact)&&e.contact.date_of_birth>t},passesIf:function(e){return e.reports.some(e=>e.form===l.U5_ASSESSMENT&&'yes'===Utils.getField(e,'nutrition_screening.is_breastfeeding_exclusively')&&v(e))},idType:'contact',date:'now'},{id:d.PERCENT_REFERRED_TB_CASES_FOLLOWED_UP,type:'percent',icon:'icon-follow-up',goal:100,translation_key:'targets.percent-tb-cases-follow-up.title',context:'user.parent && user.parent.contact_type === \"c_community_health_unit\"',appliesTo:'reports',idType:'report',appliesIf:function(e,t){const n=['tb_contact','chest_pain','weight_loss_failure_to_thrive','night_sweats','fatigue'];return'u5_assessment'===t.form&&'yes'===Utils.getField(t,'u5_assessment.has_cough')&&'yes'===Utils.getField(t,'u5_assessment.has_contact_with_tb')||'over_five_assessment'===t.form&&Utils.getField(t,'group_tb.tb_symptoms')&&Utils.getField(t,'group_tb.tb_symptoms').split(' ').some(e=>n.some(t=>t===e))},passesIf:function(e){return e.reports.filter(e=>'referral_follow_up'===e.form&&v(e)&&Utils.getField(e,'referral_reason').includes('tb')).length},date:function(e,t){const n=e.reports.filter(e=>'referral_follow_up'===e.form&&v(e)&&Utils.getField(e,'referral_reason').includes('tb'));return n.length&&new Date(n[0].reported_date)||new Date(t.reported_date)}}]},function(e,t,n){var r=n(6),i=n(14);function a(e,t,n,r,i,a){var o;if(e.appliesToType){var s;if('contacts'===e.appliesTo){if(!i.contact)return;s='contact'===i.contact.type?i.contact.contact_type:i.contact.type}else{if(!a)return;s=a.form}if(-1===e.appliesToType.indexOf(s))return}if('scheduled_tasks'===e.appliesTo||!e.appliesIf||e.appliesIf(i,a))if('scheduled_tasks'===e.appliesTo){if(a&&e.appliesIf){if(!a.scheduled_tasks)return;for(o=0;o<a.scheduled_tasks.length;o++)e.appliesIf(i,a,o)&&_(o)}}else _();function u(e,t,n){var r;return(r='function'==typeof e.contactLabel?e.contactLabel(t,n):e.contactLabel)?{name:r}:t.contact}function _(o){var s,_,l,d,p=null;for(s=0;s<e.events.length;s++){if((_=e.events[s]).dueDate)p=_.dueDate(_,i,a,o);else if(a)p=void 0!==o?new Date(t.addDate(new Date(a.scheduled_tasks[o].due),_.days)):new Date(t.addDate(new Date(a.reported_date),_.days));else if(_.dueDate)p=_.dueDate(_,i);else{var f=i.contact&&i.contact.reported_date?new Date(i.contact.reported_date):new Date;p=new Date(t.addDate(f,_.days))}t.isTimely(p,_)&&(d={_id:(a?a._id:i.contact&&i.contact._id)+'~'+(_.id||s)+'~'+e.name,deleted:!(!(i.contact&&i.contact.deleted||a)||!a.deleted),doc:i,contact:u(e,i,a),icon:e.icon,date:p,readyStart:_.start||0,readyEnd:_.end||0,title:e.title,resolved:e.resolvedIf(i,a,_,p,o),actions:c(e.actions,_)},void 0!==o&&(d._id+='-'+o),'function'==typeof(l=e.priority)&&(l=l(i,a)),l&&(d.priority=l.level,d.priorityLabel=l.label),r('task',new n(d)))}}function c(t,n){return e.actions.map((function(e){return function(e,t){var n={source:'task',source_id:a?a._id:i.contact&&i.contact._id,contact:i.contact};e.modifyContent&&e.modifyContent(n,i,a,t);return{type:e.type||'report',form:e.form,label:e.label||'Follow up',content:n}}(e,n)}))}}e.exports=function(e,t,n,o,s){if(e)for(var u,_,c=0;c<e.length;++c)switch('function'!=typeof(u=Object.assign({},e[c],i)).resolvedIf&&(u.resolvedIf=function(e,t,r,i){return u.defaultResolvedIf(e,t,r,i,n)}),r(u),u.appliesTo){case'reports':case'scheduled_tasks':for(var l=0;l<t.reports.length;++l)_=t.reports[l],a(u,n,o,s,t,_);break;case'contacts':t.contact&&a(u,n,o,s,t);break;default:throw new Error('Unrecognised task.appliesTo: '+u.appliesTo)}}},function(e,t){e.exports={defaultResolvedIf:function(e,t,n,r,i){var a,o;i||(i=Utils);var s=function(e){var t;if(!e||!e.actions)return;return(t=e.actions.find((function(e){return!e.type||'report'===e.type})))&&t.form}(this.definition);if(!s)throw new Error('Could not find the default resolving form!');return a=0,a=t?Math.max(i.addDate(r,-n.start).getTime(),t.reported_date+1):i.addDate(r,-n.start).getTime(),o=i.addDate(r,n.end+1).getTime(),i.isFormSubmittedInWindow(e.reports,s,a,o)}}},function(e,t,n){var r=n(6);function i(e,t,n,r,i,a){var o=!!a;if(i.contact){var s='contact'===i.contact.type?i.contact.contact_type:i.contact.type,u=o?a.form:s;if(!(e.appliesToType&&e.appliesToType.indexOf(u)<0)&&(!e.appliesIf||e.appliesIf(i,a)))for(var _=o?a:i.contact,c=function(e,t,n){var r;return r='function'==typeof e.idType?e.idType(t,n):'report'===e.idType?n&&n._id:t.contact&&t.contact._id,Array.isArray(r)||(r=[r]),r}(e,i,a),l=!e.passesIf||!!e.passesIf(i,a),d=function(e,t,n,r){if('function'==typeof e.date)return e.date(n,r)||t.now().getTime();if(void 0===e.date||null===e.date||'now'===e.date)return t.now().getTime();if('reported'===e.date)return r?r.reported_date:n.contact.reported_date;throw new Error('Unrecognised value for target.date: '+e.date)}(e,n,i,a),p=e.groupBy&&e.groupBy(i,a),f=0;f<c.length;++f){var m=new t({_id:c[f]+'~'+e.id,contact:i.contact,deleted:!!_.deleted,type:e.id,pass:l,groupBy:p,date:d});e.emitCustom?e.emitCustom(h,m,i,a):h(m)}}function h(e){r('target',e)}}e.exports=function(e,t,n,a,o){for(var s=0;s<e.length;++s){var u=e[s];switch(r(u),u.appliesTo){case'contacts':i(u,a,n,o,t);break;case'reports':for(var _=0;_<t.reports.length;++_){i(u,a,n,o,t,t.reports[_])}break;default:throw new Error('Unrecognised target.appliesTo: '+u.appliesTo)}}}},function(e,t,n){'use strict';n.r(t),n.d(t,'default',(function(){return Tn})),n.d(t,'VERSION',(function(){return i.e})),n.d(t,'restArguments',(function(){return a})),n.d(t,'isObject',(function(){return o})),n.d(t,'isNull',(function(){return s})),n.d(t,'isUndefined',(function(){return u})),n.d(t,'isBoolean',(function(){return _})),n.d(t,'isElement',(function(){return c})),n.d(t,'isString',(function(){return d})),n.d(t,'isNumber',(function(){return p})),n.d(t,'isDate',(function(){return f})),n.d(t,'isRegExp',(function(){return m})),n.d(t,'isError',(function(){return h})),n.d(t,'isSymbol',(function(){return g})),n.d(t,'isArrayBuffer',(function(){return v})),n.d(t,'isDataView',(function(){return O})),n.d(t,'isArray',(function(){return k})),n.d(t,'isFunction',(function(){return I})),n.d(t,'isArguments',(function(){return C})),n.d(t,'isFinite',(function(){return D})),n.d(t,'isNaN',(function(){return M})),n.d(t,'isTypedArray',(function(){return L})),n.d(t,'isEmpty',(function(){return H})),n.d(t,'isMatch',(function(){return Z})),n.d(t,'isEqual',(function(){return G})),n.d(t,'isMap',(function(){return re})),n.d(t,'isWeakMap',(function(){return ie})),n.d(t,'isSet',(function(){return ae})),n.d(t,'isWeakSet',(function(){return oe})),n.d(t,'keys',(function(){return j})),n.d(t,'allKeys',(function(){return J})),n.d(t,'values',(function(){return se})),n.d(t,'pairs',(function(){return ue})),n.d(t,'invert',(function(){return _e})),n.d(t,'functions',(function(){return ce})),n.d(t,'methods',(function(){return ce})),n.d(t,'extend',(function(){return de})),n.d(t,'extendOwn',(function(){return pe})),n.d(t,'assign',(function(){return pe})),n.d(t,'defaults',(function(){return fe})),n.d(t,'create',(function(){return he})),n.d(t,'clone',(function(){return ge})),n.d(t,'tap',(function(){return ve})),n.d(t,'get',(function(){return Te})),n.d(t,'has',(function(){return be})),n.d(t,'mapObject',(function(){return De})),n.d(t,'identity',(function(){return Se})),n.d(t,'constant',(function(){return A})),n.d(t,'noop',(function(){return Me})),n.d(t,'toPath',(function(){return ye})),n.d(t,'property',(function(){return Oe})),n.d(t,'propertyOf',(function(){return Ae})),n.d(t,'matcher',(function(){return Ee})),n.d(t,'matches',(function(){return Ee})),n.d(t,'times',(function(){return Ue})),n.d(t,'random',(function(){return Fe})),n.d(t,'now',(function(){return Re})),n.d(t,'escape',(function(){return Le})),n.d(t,'unescape',(function(){return Pe})),n.d(t,'templateSettings',(function(){return ze})),n.d(t,'template',(function(){return Ye})),n.d(t,'result',(function(){return Ge})),n.d(t,'uniqueId',(function(){return Ke})),n.d(t,'chain',(function(){return $e})),n.d(t,'iteratee',(function(){return Ne})),n.d(t,'partial',(function(){return et})),n.d(t,'bind',(function(){return tt})),n.d(t,'bindAll',(function(){return it})),n.d(t,'memoize',(function(){return at})),n.d(t,'delay',(function(){return ot})),n.d(t,'defer',(function(){return st})),n.d(t,'throttle',(function(){return ut})),n.d(t,'debounce',(function(){return _t})),n.d(t,'wrap',(function(){return ct})),n.d(t,'negate',(function(){return lt})),n.d(t,'compose',(function(){return dt})),n.d(t,'after',(function(){return pt})),n.d(t,'before',(function(){return ft})),n.d(t,'once',(function(){return mt})),n.d(t,'findKey',(function(){return ht})),n.d(t,'findIndex',(function(){return vt})),n.d(t,'findLastIndex',(function(){return yt})),n.d(t,'sortedIndex',(function(){return wt})),n.d(t,'indexOf',(function(){return Tt})),n.d(t,'lastIndexOf',(function(){return bt})),n.d(t,'find',(function(){return St})),n.d(t,'detect',(function(){return St})),n.d(t,'findWhere',(function(){return Et})),n.d(t,'each',(function(){return Ot})),n.d(t,'forEach',(function(){return Ot})),n.d(t,'map',(function(){return kt})),n.d(t,'collect',(function(){return kt})),n.d(t,'reduce',(function(){return Nt})),n.d(t,'foldl',(function(){return Nt})),n.d(t,'inject',(function(){return Nt})),n.d(t,'reduceRight',(function(){return Ct})),n.d(t,'foldr',(function(){return Ct})),n.d(t,'filter',(function(){return Dt})),n.d(t,'select',(function(){return Dt})),n.d(t,'reject',(function(){return Mt})),n.d(t,'every',(function(){return At})),n.d(t,'all',(function(){return At})),n.d(t,'some',(function(){return Ut})),n.d(t,'any',(function(){return Ut})),n.d(t,'contains',(function(){return Ft})),n.d(t,'includes',(function(){return Ft})),n.d(t,'include',(function(){return Ft})),n.d(t,'invoke',(function(){return Rt})),n.d(t,'pluck',(function(){return qt})),n.d(t,'where',(function(){return Vt})),n.d(t,'max',(function(){return Lt})),n.d(t,'min',(function(){return Pt})),n.d(t,'shuffle',(function(){return Zt})),n.d(t,'sample',(function(){return Ht})),n.d(t,'sortBy',(function(){return Wt})),n.d(t,'groupBy',(function(){return Yt})),n.d(t,'indexBy',(function(){return Gt})),n.d(t,'countBy',(function(){return Jt})),n.d(t,'partition',(function(){return Kt})),n.d(t,'toArray',(function(){return jt})),n.d(t,'size',(function(){return $t})),n.d(t,'pick',(function(){return Xt})),n.d(t,'omit',(function(){return en})),n.d(t,'first',(function(){return nn})),n.d(t,'head',(function(){return nn})),n.d(t,'take',(function(){return nn})),n.d(t,'initial',(function(){return tn})),n.d(t,'last',(function(){return an})),n.d(t,'rest',(function(){return rn})),n.d(t,'tail',(function(){return rn})),n.d(t,'drop',(function(){return rn})),n.d(t,'compact',(function(){return on})),n.d(t,'flatten',(function(){return sn})),n.d(t,'without',(function(){return _n})),n.d(t,'uniq',(function(){return cn})),n.d(t,'unique',(function(){return cn})),n.d(t,'union',(function(){return ln})),n.d(t,'intersection',(function(){return dn})),n.d(t,'difference',(function(){return un})),n.d(t,'unzip',(function(){return pn})),n.d(t,'transpose',(function(){return pn})),n.d(t,'zip',(function(){return fn})),n.d(t,'object',(function(){return mn})),n.d(t,'range',(function(){return hn})),n.d(t,'chunk',(function(){return gn})),n.d(t,'mixin',(function(){return yn}));var r={};n.r(r),n.d(r,'VERSION',(function(){return i.e})),n.d(r,'restArguments',(function(){return a})),n.d(r,'isObject',(function(){return o})),n.d(r,'isNull',(function(){return s})),n.d(r,'isUndefined',(function(){return u})),n.d(r,'isBoolean',(function(){return _})),n.d(r,'isElement',(function(){return c})),n.d(r,'isString',(function(){return d})),n.d(r,'isNumber',(function(){return p})),n.d(r,'isDate',(function(){return f})),n.d(r,'isRegExp',(function(){return m})),n.d(r,'isError',(function(){return h})),n.d(r,'isSymbol',(function(){return g})),n.d(r,'isArrayBuffer',(function(){return v})),n.d(r,'isDataView',(function(){return O})),n.d(r,'isArray',(function(){return k})),n.d(r,'isFunction',(function(){return I})),n.d(r,'isArguments',(function(){return C})),n.d(r,'isFinite',(function(){return D})),n.d(r,'isNaN',(function(){return M})),n.d(r,'isTypedArray',(function(){return L})),n.d(r,'isEmpty',(function(){return H})),n.d(r,'isMatch',(function(){return Z})),n.d(r,'isEqual',(function(){return G})),n.d(r,'isMap',(function(){return re})),n.d(r,'isWeakMap',(function(){return ie})),n.d(r,'isSet',(function(){return ae})),n.d(r,'isWeakSet',(function(){return oe})),n.d(r,'keys',(function(){return j})),n.d(r,'allKeys',(function(){return J})),n.d(r,'values',(function(){return se})),n.d(r,'pairs',(function(){return ue})),n.d(r,'invert',(function(){return _e})),n.d(r,'functions',(function(){return ce})),n.d(r,'methods',(function(){return ce})),n.d(r,'extend',(function(){return de})),n.d(r,'extendOwn',(function(){return pe})),n.d(r,'assign',(function(){return pe})),n.d(r,'defaults',(function(){return fe})),n.d(r,'create',(function(){return he})),n.d(r,'clone',(function(){return ge})),n.d(r,'tap',(function(){return ve})),n.d(r,'get',(function(){return Te})),n.d(r,'has',(function(){return be})),n.d(r,'mapObject',(function(){return De})),n.d(r,'identity',(function(){return Se})),n.d(r,'constant',(function(){return A})),n.d(r,'noop',(function(){return Me})),n.d(r,'toPath',(function(){return ye})),n.d(r,'property',(function(){return Oe})),n.d(r,'propertyOf',(function(){return Ae})),n.d(r,'matcher',(function(){return Ee})),n.d(r,'matches',(function(){return Ee})),n.d(r,'times',(function(){return Ue})),n.d(r,'random',(function(){return Fe})),n.d(r,'now',(function(){return Re})),n.d(r,'escape',(function(){return Le})),n.d(r,'unescape',(function(){return Pe})),n.d(r,'templateSettings',(function(){return ze})),n.d(r,'template',(function(){return Ye})),n.d(r,'result',(function(){return Ge})),n.d(r,'uniqueId',(function(){return Ke})),n.d(r,'chain',(function(){return $e})),n.d(r,'iteratee',(function(){return Ne})),n.d(r,'partial',(function(){return et})),n.d(r,'bind',(function(){return tt})),n.d(r,'bindAll',(function(){return it})),n.d(r,'memoize',(function(){return at})),n.d(r,'delay',(function(){return ot})),n.d(r,'defer',(function(){return st})),n.d(r,'throttle',(function(){return ut})),n.d(r,'debounce',(function(){return _t})),n.d(r,'wrap',(function(){return ct})),n.d(r,'negate',(function(){return lt})),n.d(r,'compose',(function(){return dt})),n.d(r,'after',(function(){return pt})),n.d(r,'before',(function(){return ft})),n.d(r,'once',(function(){return mt})),n.d(r,'findKey',(function(){return ht})),n.d(r,'findIndex',(function(){return vt})),n.d(r,'findLastIndex',(function(){return yt})),n.d(r,'sortedIndex',(function(){return wt})),n.d(r,'indexOf',(function(){return Tt})),n.d(r,'lastIndexOf',(function(){return bt})),n.d(r,'find',(function(){return St})),n.d(r,'detect',(function(){return St})),n.d(r,'findWhere',(function(){return Et})),n.d(r,'each',(function(){return Ot})),n.d(r,'forEach',(function(){return Ot})),n.d(r,'map',(function(){return kt})),n.d(r,'collect',(function(){return kt})),n.d(r,'reduce',(function(){return Nt})),n.d(r,'foldl',(function(){return Nt})),n.d(r,'inject',(function(){return Nt})),n.d(r,'reduceRight',(function(){return Ct})),n.d(r,'foldr',(function(){return Ct})),n.d(r,'filter',(function(){return Dt})),n.d(r,'select',(function(){return Dt})),n.d(r,'reject',(function(){return Mt})),n.d(r,'every',(function(){return At})),n.d(r,'all',(function(){return At})),n.d(r,'some',(function(){return Ut})),n.d(r,'any',(function(){return Ut})),n.d(r,'contains',(function(){return Ft})),n.d(r,'includes',(function(){return Ft})),n.d(r,'include',(function(){return Ft})),n.d(r,'invoke',(function(){return Rt})),n.d(r,'pluck',(function(){return qt})),n.d(r,'where',(function(){return Vt})),n.d(r,'max',(function(){return Lt})),n.d(r,'min',(function(){return Pt})),n.d(r,'shuffle',(function(){return Zt})),n.d(r,'sample',(function(){return Ht})),n.d(r,'sortBy',(function(){return Wt})),n.d(r,'groupBy',(function(){return Yt})),n.d(r,'indexBy',(function(){return Gt})),n.d(r,'countBy',(function(){return Jt})),n.d(r,'partition',(function(){return Kt})),n.d(r,'toArray',(function(){return jt})),n.d(r,'size',(function(){return $t})),n.d(r,'pick',(function(){return Xt})),n.d(r,'omit',(function(){return en})),n.d(r,'first',(function(){return nn})),n.d(r,'head',(function(){return nn})),n.d(r,'take',(function(){return nn})),n.d(r,'initial',(function(){return tn})),n.d(r,'last',(function(){return an})),n.d(r,'rest',(function(){return rn})),n.d(r,'tail',(function(){return rn})),n.d(r,'drop',(function(){return rn})),n.d(r,'compact',(function(){return on})),n.d(r,'flatten',(function(){return sn})),n.d(r,'without',(function(){return _n})),n.d(r,'uniq',(function(){return cn})),n.d(r,'unique',(function(){return cn})),n.d(r,'union',(function(){return ln})),n.d(r,'intersection',(function(){return dn})),n.d(r,'difference',(function(){return un})),n.d(r,'unzip',(function(){return pn})),n.d(r,'transpose',(function(){return pn})),n.d(r,'zip',(function(){return fn})),n.d(r,'object',(function(){return mn})),n.d(r,'range',(function(){return hn})),n.d(r,'chunk',(function(){return gn})),n.d(r,'mixin',(function(){return yn})),n.d(r,'default',(function(){return wn}));var i=n(0);function a(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=r,e.apply(this,a)}}function o(e){var t=typeof e;return'function'===t||'object'===t&&!!e}function s(e){return null===e}function u(e){return void 0===e}function _(e){return!0===e||!1===e||'[object Boolean]'===i.t.call(e)}function c(e){return!(!e||1!==e.nodeType)}function l(e){var t='[object '+e+']';return function(e){return i.t.call(e)===t}}var d=l('String'),p=l('Number'),f=l('Date'),m=l('RegExp'),h=l('Error'),g=l('Symbol'),v=l('ArrayBuffer'),y=l('Function'),w=i.p.document&&i.p.document.childNodes;'object'!=typeof Int8Array&&'function'!=typeof w&&(y=function(e){return'function'==typeof e||!1});var I=y,T=l('Object'),b=i.s&&T(new DataView(new ArrayBuffer(8))),S='undefined'!=typeof Map&&T(new Map),E=l('DataView');var O=b?function(e){return null!=e&&I(e.getInt8)&&v(e.buffer)}:E,k=i.k||l('Array');function x(e,t){return null!=e&&i.i.call(e,t)}var N=l('Arguments');!function(){N(arguments)||(N=function(e){return x(e,'callee')})}();var C=N;function D(e){return!g(e)&&Object(i.f)(e)&&!isNaN(parseFloat(e))}function M(e){return p(e)&&Object(i.g)(e)}function A(e){return function(){return e}}function U(e){return function(t){var n=e(t);return'number'==typeof n&&n>=0&&n<=i.b}}function F(e){return function(t){return null==t?void 0:t[e]}}var R=F('byteLength'),q=U(R),V=/\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;var L=i.r?function(e){return i.l?Object(i.l)(e)&&!O(e):q(e)&&V.test(i.t.call(e))}:A(!1),P=F('length');function z(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=i.n.length,r=e.constructor,a=I(r)&&r.prototype||i.c,o='constructor';for(x(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=i.n[n])in e&&e[o]!==a[o]&&!t.contains(o)&&t.push(o)}function j(e){if(!o(e))return[];if(i.m)return Object(i.m)(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return i.h&&z(e,t),t}function H(e){if(null==e)return!0;var t=P(e);return'number'==typeof t&&(k(e)||d(e)||C(e))?0===t:0===P(j(e))}function Z(e,t){var n=j(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0}function W(e){return e instanceof W?e:this instanceof W?void(this._wrapped=e):new W(e)}function B(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,R(e))}W.VERSION=i.e,W.prototype.value=function(){return this._wrapped},W.prototype.valueOf=W.prototype.toJSON=W.prototype.value,W.prototype.toString=function(){return String(this._wrapped)};function Y(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return('function'===a||'object'===a||'object'==typeof t)&&function e(t,n,r,a){t instanceof W&&(t=t._wrapped);n instanceof W&&(n=n._wrapped);var o=i.t.call(t);if(o!==i.t.call(n))return!1;if(b&&'[object Object]'==o&&O(t)){if(!O(n))return!1;o='[object DataView]'}switch(o){case'[object RegExp]':case'[object String]':return''+t==''+n;case'[object Number]':return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case'[object Date]':case'[object Boolean]':return+t==+n;case'[object Symbol]':return i.d.valueOf.call(t)===i.d.valueOf.call(n);case'[object ArrayBuffer]':case'[object DataView]':return e(B(t),B(n),r,a)}var s='[object Array]'===o;if(!s&&L(t)){if(R(t)!==R(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;s=!0}if(!s){if('object'!=typeof t||'object'!=typeof n)return!1;var u=t.constructor,_=n.constructor;if(u!==_&&!(I(u)&&u instanceof u&&I(_)&&_ instanceof _)&&'constructor'in t&&'constructor'in n)return!1}a=a||[];var c=(r=r||[]).length;for(;c--;)if(r[c]===t)return a[c]===n;if(r.push(t),a.push(n),s){if((c=t.length)!==n.length)return!1;for(;c--;)if(!Y(t[c],n[c],r,a))return!1}else{var l,d=j(t);if(c=d.length,j(n).length!==c)return!1;for(;c--;)if(l=d[c],!x(n,l)||!Y(t[l],n[l],r,a))return!1}return r.pop(),a.pop(),!0}(e,t,n,r)}function G(e,t){return Y(e,t)}function J(e){if(!o(e))return[];var t=[];for(var n in e)t.push(n);return i.h&&z(e,t),t}function K(e){var t=P(e);return function(n){if(null==n)return!1;var r=J(n);if(P(r))return!1;for(var i=0;i<t;i++)if(!I(n[e[i]]))return!1;return e!==te||!I(n[$])}}var $='forEach',Q=['clear','delete'],X=['get','has','set'],ee=Q.concat($,X),te=Q.concat(X),ne=['add'].concat(Q,$,'has'),re=S?K(ee):l('Map'),ie=S?K(te):l('WeakMap'),ae=S?K(ne):l('Set'),oe=l('WeakSet');function se(e){for(var t=j(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function ue(e){for(var t=j(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function _e(e){for(var t={},n=j(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function ce(e){var t=[];for(var n in e)I(e[n])&&t.push(n);return t.sort()}function le(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;u<s;u++){var _=o[u];t&&void 0!==n[_]||(n[_]=a[_])}return n}}var de=le(J),pe=le(j),fe=le(J,!0);function me(e){if(!o(e))return{};if(i.j)return Object(i.j)(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function he(e,t){var n=me(e);return t&&pe(n,t),n}function ge(e){return o(e)?k(e)?e.slice():de({},e):e}function ve(e,t){return t(e),e}function ye(e){return k(e)?e:[e]}function we(e){return W.toPath(e)}function Ie(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Te(e,t,n){var r=Ie(e,we(t));return u(r)?n:r}function be(e,t){for(var n=(t=we(t)).length,r=0;r<n;r++){var i=t[r];if(!x(e,i))return!1;e=e[i]}return!!n}function Se(e){return e}function Ee(e){return e=pe({},e),function(t){return Z(t,e)}}function Oe(e){return e=we(e),function(t){return Ie(t,e)}}function ke(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}}function xe(e,t,n){return null==e?Se:I(e)?ke(e,t,n):o(e)&&!k(e)?Ee(e):Oe(e)}function Ne(e,t){return xe(e,t,1/0)}function Ce(e,t,n){return W.iteratee!==Ne?W.iteratee(e,t):xe(e,t,n)}function De(e,t,n){t=Ce(t,n);for(var r=j(e),i=r.length,a={},o=0;o<i;o++){var s=r[o];a[s]=t(e[s],s,e)}return a}function Me(){}function Ae(e){return null==e?Me:function(t){return Te(e,t)}}function Ue(e,t,n){var r=Array(Math.max(0,e));t=ke(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function Fe(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}W.toPath=ye,W.iteratee=Ne;var Re=Date.now||function(){return(new Date).getTime()};function qe(e){var t=function(t){return e[t]},n='(?:'+j(e).join('|')+')',r=RegExp(n),i=RegExp(n,'g');return function(e){return e=null==e?'':''+e,r.test(e)?e.replace(i,t):e}}var Ve={'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;','\\'':'&#x27;','`':'&#x60;'},Le=qe(Ve),Pe=qe(_e(Ve)),ze=W.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},je=/(.)^/,He={'\\'':'\\'','\\\\':'\\\\','\\r':'r','\\n':'n','\\u2028':'u2028','\\u2029':'u2029'},Ze=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g;function We(e){return'\\\\'+He[e]}var Be=/^\\s*(\\w|\\$)+\\s*$/;function Ye(e,t,n){!t&&n&&(t=n),t=fe({},t,W.templateSettings);var r=RegExp([(t.escape||je).source,(t.interpolate||je).source,(t.evaluate||je).source].join('|')+'|$','g'),i=0,a='__p+=\\'';e.replace(r,(function(t,n,r,o,s){return a+=e.slice(i,s).replace(Ze,We),i=s+t.length,n?a+='\\'+\\n((__t=('+n+'))==null?\\'\\':_.escape(__t))+\\n\\'':r?a+='\\'+\\n((__t=('+r+'))==null?\\'\\':__t)+\\n\\'':o&&(a+='\\';\\n'+o+'\\n__p+=\\''),t})),a+='\\';\\n';var o,s=t.variable;if(s){if(!Be.test(s))throw new Error('variable is not a bare identifier: '+s)}else a='with(obj||{}){\\n'+a+'}\\n',s='obj';a='var __t,__p=\\'\\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\\'\\');};\\n'+a+'return __p;\\n';try{o=new Function(s,'_',a)}catch(e){throw e.source=a,e}var u=function(e){return o.call(this,e,W)};return u.source='function('+s+'){\\n'+a+'}',u}function Ge(e,t,n){var r=(t=we(t)).length;if(!r)return I(n)?n.call(e):n;for(var i=0;i<r;i++){var a=null==e?void 0:e[t[i]];void 0===a&&(a=n,i=r),e=I(a)?a.call(e):a}return e}var Je=0;function Ke(e){var t=++Je+'';return e?e+t:t}function $e(e){var t=W(e);return t._chain=!0,t}function Qe(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=me(e.prototype),s=e.apply(a,i);return o(s)?s:a}var Xe=a((function(e,t){var n=Xe.placeholder,r=function(){for(var i=0,a=t.length,o=Array(a),s=0;s<a;s++)o[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return Qe(e,r,this,this,o)};return r}));Xe.placeholder=W;var et=Xe,tt=a((function(e,t,n){if(!I(e))throw new TypeError('Bind must be called on a function');var r=a((function(i){return Qe(e,r,t,this,n.concat(i))}));return r})),nt=U(P);function rt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,a=0,o=P(e);a<o;a++){var s=e[a];if(nt(s)&&(k(s)||C(s)))if(t>1)rt(s,t-1,n,r),i=r.length;else for(var u=0,_=s.length;u<_;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var it=a((function(e,t){var n=(t=rt(t,!1,!1)).length;if(n<1)throw new Error('bindAll must be passed function names');for(;n--;){var r=t[n];e[r]=tt(e[r],e)}return e}));function at(e,t){var n=function(r){var i=n.cache,a=''+(t?t.apply(this,arguments):r);return x(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n}var ot=a((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),st=et(ot,W,1);function ut(e,t,n){var r,i,a,o,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Re(),r=null,o=e.apply(i,a),r||(i=a=null)},_=function(){var _=Re();s||!1!==n.leading||(s=_);var c=t-(_-s);return i=this,a=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=_,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,c)),o};return _.cancel=function(){clearTimeout(r),s=0,r=i=a=null},_}function _t(e,t,n){var r,i,o,s,u,_=function(){var a=Re()-i;t>a?r=setTimeout(_,t-a):(r=null,n||(s=e.apply(u,o)),r||(o=u=null))},c=a((function(a){return u=this,o=a,i=Re(),r||(r=setTimeout(_,t),n&&(s=e.apply(u,o))),s}));return c.cancel=function(){clearTimeout(r),r=o=u=null},c}function ct(e,t){return et(t,e)}function lt(e){return function(){return!e.apply(this,arguments)}}function dt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function pt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function ft(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var mt=et(ft,2);function ht(e,t,n){t=Ce(t,n);for(var r,i=j(e),a=0,o=i.length;a<o;a++)if(t(e[r=i[a]],r,e))return r}function gt(e){return function(t,n,r){n=Ce(n,r);for(var i=P(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}}var vt=gt(1),yt=gt(-1);function wt(e,t,n,r){for(var i=(n=Ce(n,r,1))(t),a=0,o=P(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a}function It(e,t,n){return function(r,a,o){var s=0,u=P(r);if('number'==typeof o)e>0?s=o>=0?o:Math.max(o+u,s):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,a)]===a?o:-1;if(a!=a)return(o=t(i.q.call(r,s,u),M))>=0?o+s:-1;for(o=e>0?s:u-1;o>=0&&o<u;o+=e)if(r[o]===a)return o;return-1}}var Tt=It(1,vt,wt),bt=It(-1,yt);function St(e,t,n){var r=(nt(e)?vt:ht)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Et(e,t){return St(e,Ee(t))}function Ot(e,t,n){var r,i;if(t=ke(t,n),nt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=j(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e}function kt(e,t,n){t=Ce(t,n);for(var r=!nt(e)&&j(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a}function xt(e){var t=function(t,n,r,i){var a=!nt(t)&&j(t),o=(a||t).length,s=e>0?0:o-1;for(i||(r=t[a?a[s]:s],s+=e);s>=0&&s<o;s+=e){var u=a?a[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var a=arguments.length>=3;return t(e,ke(n,i,4),r,a)}}var Nt=xt(1),Ct=xt(-1);function Dt(e,t,n){var r=[];return t=Ce(t,n),Ot(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Mt(e,t,n){return Dt(e,lt(Ce(t)),n)}function At(e,t,n){t=Ce(t,n);for(var r=!nt(e)&&j(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0}function Ut(e,t,n){t=Ce(t,n);for(var r=!nt(e)&&j(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1}function Ft(e,t,n,r){return nt(e)||(e=se(e)),('number'!=typeof n||r)&&(n=0),Tt(e,t,n)>=0}var Rt=a((function(e,t,n){var r,i;return I(t)?i=t:(t=we(t),r=t.slice(0,-1),t=t[t.length-1]),kt(e,(function(e){var a=i;if(!a){if(r&&r.length&&(e=Ie(e,r)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)}))}));function qt(e,t){return kt(e,Oe(t))}function Vt(e,t){return Dt(e,Ee(t))}function Lt(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t||'number'==typeof t&&'object'!=typeof e[0]&&null!=e)for(var s=0,u=(e=nt(e)?e:se(e)).length;s<u;s++)null!=(r=e[s])&&r>a&&(a=r);else t=Ce(t,n),Ot(e,(function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)}));return a}function Pt(e,t,n){var r,i,a=1/0,o=1/0;if(null==t||'number'==typeof t&&'object'!=typeof e[0]&&null!=e)for(var s=0,u=(e=nt(e)?e:se(e)).length;s<u;s++)null!=(r=e[s])&&r<a&&(a=r);else t=Ce(t,n),Ot(e,(function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)}));return a}var zt=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;function jt(e){return e?k(e)?i.q.call(e):d(e)?e.match(zt):nt(e)?kt(e,Se):se(e):[]}function Ht(e,t,n){if(null==t||n)return nt(e)||(e=se(e)),e[Fe(e.length-1)];var r=jt(e),i=P(r);t=Math.max(Math.min(t,i),0);for(var a=i-1,o=0;o<t;o++){var s=Fe(o,a),u=r[o];r[o]=r[s],r[s]=u}return r.slice(0,t)}function Zt(e){return Ht(e,1/0)}function Wt(e,t,n){var r=0;return t=Ce(t,n),qt(kt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),'value')}function Bt(e,t){return function(n,r,i){var a=t?[[],[]]:{};return r=Ce(r,i),Ot(n,(function(t,i){var o=r(t,i,n);e(a,t,o)})),a}}var Yt=Bt((function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]})),Gt=Bt((function(e,t,n){e[n]=t})),Jt=Bt((function(e,t,n){x(e,n)?e[n]++:e[n]=1})),Kt=Bt((function(e,t,n){e[n?0:1].push(t)}),!0);function $t(e){return null==e?0:nt(e)?e.length:j(e).length}function Qt(e,t,n){return t in n}var Xt=a((function(e,t){var n={},r=t[0];if(null==e)return n;I(r)?(t.length>1&&(r=ke(r,t[1])),t=J(e)):(r=Qt,t=rt(t,!1,!1),e=Object(e));for(var i=0,a=t.length;i<a;i++){var o=t[i],s=e[o];r(s,o,e)&&(n[o]=s)}return n})),en=a((function(e,t){var n,r=t[0];return I(r)?(r=lt(r),t.length>1&&(n=t[1])):(t=kt(rt(t,!1,!1),String),r=function(e,n){return!Ft(t,n)}),Xt(e,r,n)}));function tn(e,t,n){return i.q.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function nn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:tn(e,e.length-t)}function rn(e,t,n){return i.q.call(e,null==t||n?1:t)}function an(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:rn(e,Math.max(0,e.length-t))}function on(e){return Dt(e,Boolean)}function sn(e,t){return rt(e,t,!1)}var un=a((function(e,t){return t=rt(t,!0,!0),Dt(e,(function(e){return!Ft(t,e)}))})),_n=a((function(e,t){return un(e,t)}));function cn(e,t,n,r){_(t)||(r=n,n=t,t=!1),null!=n&&(n=Ce(n,r));for(var i=[],a=[],o=0,s=P(e);o<s;o++){var u=e[o],c=n?n(u,o,e):u;t&&!n?(o&&a===c||i.push(u),a=c):n?Ft(a,c)||(a.push(c),i.push(u)):Ft(i,u)||i.push(u)}return i}var ln=a((function(e){return cn(rt(e,!0,!0))}));function dn(e){for(var t=[],n=arguments.length,r=0,i=P(e);r<i;r++){var a=e[r];if(!Ft(t,a)){var o;for(o=1;o<n&&Ft(arguments[o],a);o++);o===n&&t.push(a)}}return t}function pn(e){for(var t=e&&Lt(e,P).length||0,n=Array(t),r=0;r<t;r++)n[r]=qt(e,r);return n}var fn=a(pn);function mn(e,t){for(var n={},r=0,i=P(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function hn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i}function gn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,a=e.length;r<a;)n.push(i.q.call(e,r,r+=t));return n}function vn(e,t){return e._chain?W(t).chain():t}function yn(e){return Ot(ce(e),(function(t){var n=W[t]=e[t];W.prototype[t]=function(){var e=[this._wrapped];return i.o.apply(e,arguments),vn(this,n.apply(W,e))}})),W}Ot(['pop','push','reverse','shift','sort','splice','unshift'],(function(e){var t=i.a[e];W.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),'shift'!==e&&'splice'!==e||0!==n.length||delete n[0]),vn(this,n)}})),Ot(['concat','join','slice'],(function(e){var t=i.a[e];W.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),vn(this,e)}}));var wn=W,In=yn(r);In._=In;var Tn=In}]);",
      "isDeclarative": true,
      "targets": {
        "enabled": true,
        "items": [
          {
            "id": "total-population-male-all-time",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.male.title",
            "icon": "icon-man",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "total-population-women-15-49-yr",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.women_15_49",
            "icon": "icon-woman",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "total-population-female-all-time",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.female.title",
            "icon": "icon-woman",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "count-households-visited",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.household.visited.title",
            "passesIfGroupCount": {
              "gte": 1
            },
            "icon": "icon-community-health-unit",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "total-population-under-1",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.under_1",
            "icon": "icon-baby",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "total-active-pregnancies",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.active_pregnancies",
            "icon": "icon-pregnancy-home-visit-service",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "total-population-under-5",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.population.under_5",
            "icon": "icon-baby",
            "subtitle_translation_key": "targets.all_time.subtitle"
          },
          {
            "id": "percent-population-under-2-months-assessed",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.assessments.percentage.lt.2.months.title",
            "icon": "icon-child-growth",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "percent-population-2-to-59-months-assessed",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.assessments.percentage_2_to_59_months.title",
            "icon": "icon-child-growth",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "percent-population-over-5-years-assessed",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.assessments.percentage_over_5_years.title",
            "icon": "icon-healthcare-assessment",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "u5-with-pneumonia-treated",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.u5_with_pneumonia_treated.title",
            "icon": "icon-disease-pneumonia",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "u5-with-malaria-treated",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.u5_with_malaria_treated.title",
            "icon": "icon-disease-malaria",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "percent-hh-functional-latrine",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.percent-hh-functional-latrine.title",
            "passesIfGroupCount": {
              "gte": 1
            },
            "icon": "icon-people-family",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\""
          },
          {
            "id": "u5-with-diarrhoea-treated",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.u5_with_diarrhoea_treated.title",
            "icon": "icon-condition-diarrhea",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "total-referrals",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.referrals.total",
            "icon": "icon-follow-up",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "skilled-deliveries-cha-percent",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.skilled-deliveries-percent.title",
            "icon": "icon-delivery",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\""
          },
          {
            "id": "children-with-uptodate-growth-monitoring",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.children_with_uptodate_growth_monitoring.title",
            "icon": "icon-baby",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\"",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "global-acute-malnutrition-rate",
            "type": "percent",
            "goal": -1,
            "translation_key": "targets.gam_rate.title",
            "icon": "icon-child-nutrition",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\"",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "new-pregnant-women",
            "type": "count",
            "goal": -1,
            "translation_key": "targets.new_pregnancies.title",
            "icon": "icon-pregnancy-home-visit-service",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\"",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "percent-population-over-two-months-with-suspected-malaria-tested-with-mrdt",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.over_two_months_with_suspected_malaria_tested_with_mrdt.title",
            "icon": "icon-healthcare-mrdt",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\"",
            "subtitle_translation_key": "targets.this_month.subtitle"
          },
          {
            "id": "percent-exclusive-breastfeeding",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.percent-exclusive-breastfeeding.title",
            "icon": "icon-baby",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\""
          },
          {
            "id": "percent-tb-cases-follow-up",
            "type": "percent",
            "goal": 100,
            "translation_key": "targets.percent-tb-cases-follow-up.title",
            "icon": "icon-follow-up",
            "context": "user.parent && user.parent.contact_type === \"c_community_health_unit\""
          }
        ]
      }
    },
    "create_user_for_contacts": {
      "replace_forms": [
        "replace_user"
      ]
    },
    "transitions": {
      "death_reporting": true,
      "muting": true,
      "mark_for_outbound": true,
      "accept_patient_reports": true,
      "registration": true,
      "accept_case_reports": true
    },
    "task_days_overdue": true,
    "replication_depth": [
      {
        "role": "sub_county_supervisor",
        "depth": 2,
        "report_depth": 2
      }
    ],
    "muting": {
      "mute_forms": [
        "mute_person_confirmed",
        "mute_household_confirmed"
      ],
      "unmute_forms": [
        "unmute_person",
        "unmute_household"
      ]
    },
    "patient_reports": [
      {
        "form": "death_review",
        "silence_type": "",
        "silence_for": "",
        "fields": [],
        "validations": {},
        "messages": [
          {
            "translation_key": "messages.death.review.refuted",
            "event_type": "report_accepted",
            "recipient": "chv_phone",
            "bool_expr": "doc.fields.group_review.dead === 'no'"
          }
        ]
      },
      {
        "form": "approve_mute_person",
        "silence_type": "",
        "silence_for": "",
        "fields": [],
        "validations": {},
        "messages": [
          {
            "translation_key": "messages.muting.person.refuted",
            "event_type": "report_accepted",
            "recipient": "chv_phone",
            "bool_expr": "doc.fields.approve_mute_report.status === 'reject'"
          }
        ]
      },
      {
        "form": "approve_mute_household",
        "silence_type": "",
        "silence_for": "",
        "fields": [],
        "validations": {},
        "messages": [
          {
            "translation_key": "messages.muting.household.refuted",
            "event_type": "report_accepted",
            "recipient": "chv_phone",
            "bool_expr": "doc.fields.approve_mute_report.status === 'reject'"
          }
        ]
      },
      {
        "form": "sgbv",
        "silence_type": "",
        "silence_for": "",
        "fields": [],
        "validations": {},
        "messages": [
          {
            "translation_key": "messages.sgbv.referral.prompt",
            "event_type": "report_accepted",
            "recipient": "ancestor:c_community_health_unit",
            "bool_expr": "doc.fields.sgbv.is_referred_to_cha === 'yes'"
          }
        ]
      }
    ],
    "sms": {
      "outgoing_service": "rapidpro",
      "rapidpro": {
        "url": "https://textit.in"
      },
      "duplicate_limit": "2"
    },
    "registrations": [
      {
        "form": "chv_signal_reporting",
        "events": [
          {
            "name": "on_create",
            "trigger": "add_case"
          }
        ],
        "messages": [
          {
            "event_type": "report_accepted",
            "bool_expr": "true",
            "message": "{{contact.name}} has reported  public health signal {{signal_code}}. Signal Unique ID is {{case_id}}.",
            "recipient": "parent"
          }
        ]
      },
      {
        "form": "cha_signal_reporting_verification",
        "events": [
          {
            "name": "on_create",
            "trigger": "add_case"
          }
        ],
        "messages": [
          {
            "event_type": "report_accepted",
            "bool_expr": "doc.fields && doc.fields.cha_verification && doc.fields.cha_verification.threat_exists === 'yes'",
            "message": "{{contact.name}} {{contact.phone}} has verified a public health signal {{signal_type_label}}.",
            "recipient": "parent"
          }
        ]
      },
      {
        "form": "cha_signal_verification",
        "events": [
          {
            "name": "on_create",
            "trigger": "clear_schedule",
            "params": "dummy"
          }
        ]
      }
    ],
    "accept_case_reports": [
      {
        "form": "cha_signal_verification",
        "validations": {},
        "messages": [
          {
            "event_type": "report_accepted",
            "bool_expr": "doc.fields && doc.fields.cha_verification && doc.fields.cha_verification.threat_exists === 'yes'",
            "message": "{{contact.name}} {{contact.phone}} has verified a public health signal {{signal_type_label}}.",
            "recipient": "parent"
          }
        ]
      }
    ],
    "outbound": {
      "process_in_client_registry": {
        "relevant_to": "doc.type === 'contact' && doc.contact_type === 'f_client' && !['none', 'drivers_license'].includes(doc.identification_type) && !doc.upi && !doc.date_of_death",
        "destination": {
          "base_url": "env.INTEROP_GATEWAY_URL",
          "auth": {
            "type": "basic",
            "username": "env.INTEROP_CLIENT_USER",
            "password_key": "mykey"
          },
          "path": "/echis-mediator/client"
        },
        "mapping": {
          "doc": "doc"
        }
      },
      "referrals": {
        "relevant_to": "doc.type === 'data_record' && doc.form && doc.fields.has_been_referred === 'yes'",
        "destination": {
          "base_url": "env.INTEROP_GATEWAY_URL",
          "auth": {
            "type": "basic",
            "username": "env.INTEROP_CLIENT_USER",
            "password_key": "mykey"
          },
          "path": "/echis-mediator/referral/facility"
        },
        "mapping": {
          "_id": {
            "expr": "doc._id"
          },
          "upi": {
            "expr": "doc.fields.data._upi"
          },
          "name": {
            "expr": "doc.fields.data._patient_name"
          },
          "service": {
            "expr": "doc.form"
          },
          "screening": {
            "expr": "doc.fields.data._screening"
          },
          "supportingInfo": {
            "expr": "doc.fields.data._supporting_info"
          },
          "reported_date": {
            "expr": "doc.reported_date"
          },
          "follow_up_date": {
            "expr": "doc.fields.data._follow_up_date"
          },
          "chu_code": {
            "expr": "doc.fields.data._chu_code"
          },
          "chu_name": {
            "expr": "doc.fields.data._chu_name"
          },
          "referred_to_facility_code": {
            "expr": "doc.fields.data._referred_to_facility_code"
          },
          "referred_to_facility_name": {
            "expr": "doc.fields.data._referred_to_facility_name"
          }
        }
      }
    },
    "forms": {
      "REFERRAL_FOLLOWUP_AFYA_KE": {
        "meta": {
          "code": "referral_follow_up",
          "icon": "icon-follow-up",
          "translation_key": "outbound.referral_follow_up.title"
        },
        "fields": {
          "subject": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.subject.name"
              }
            },
            "position": 0,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "patient_uuid": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.patient_uuid.name"
              }
            },
            "position": 1,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "patient_id": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.patient_id.name"
              }
            },
            "position": 2,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "authored_on": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.authored_on.name"
              }
            },
            "position": 3,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "date_service_offered": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.date_service_offered.name"
              }
            },
            "position": 4,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "date_of_visit": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.date_of_visit.name"
              }
            },
            "position": 5,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "follow_up_instruction": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.follow_up_instruction.name"
              }
            },
            "position": 6,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          },
          "health_facility_contact": {
            "labels": {
              "tiny": {
                "en": "ID"
              },
              "short": {
                "translation_key": "outbound.health_facility_contact.name"
              }
            },
            "position": 7,
            "type": "string",
            "length": [
              1,
              13
            ],
            "required": false
          }
        }
      },
      "CLIENT_DETAILS_MISMATCH": {
        "meta": {
          "code": "client_details_mismatch",
          "icon": "icon-follow-up",
          "translation_key": "outbound.client_details_mismatch.title"
        },
        "fields": {
          "patient_id": {
            "type": "string",
            "required": true,
            "labels": {
              "short": {
                "translation_key": "outbound.patient_uuid.name"
              }
            }
          },
          "mismatched_fields": {
            "type": "string",
            "required": true,
            "labels": {
              "short": {
                "translation_key": "outbound.mismatched_fields.name"
              }
            }
          },
          "source": {
            "type": "string",
            "required": true,
            "labels": {
              "short": {
                "translation_key": "outbound.source.name"
              }
            }
          }
        }
      }
    },
    "schedules": [
      {
        "name": "dummy",
        "summary": "Seemingly, `accept_case_reports` has dependency on `registrations`. A form configured for `accept_case_reports` needs to have a corresponding entry in `registrations`. This schedule is never triggered. It is used in the corresponding entries in `registrations` config.",
        "description": "",
        "start_from": "reported_date",
        "start_mid_group": true,
        "messages": [
          {
            "translation_key": "schedules.dummy.message",
            "group": 1,
            "offset": "52 weeks",
            "send_day": "monday",
            "send_time": "09:00",
            "recipient": "reporting_unit"
          }
        ]
      }
    ],
    "purge": {
      "cron": "0 0 * * *",
      "run_every_days": 1,
      "fn": "function (userCtx, contact, reports) {\n    const reportsToPurge = [];\n\n    const excludedChpReportsToPurgeForCha = [\n      'death_report',\n      'family_planning',\n      'household_member_registration_reminder',\n      'mute_person',\n      'mute_household',\n      'treatment_follow_up',\n      'wash'\n    ];\n\n    const purgeScheduleForChas = [\n      { form: 'commodities_order', durationInDays: 30 * 3 },\n      { form: 'commodity_received', durationInDays: 30 * 3 },\n      { form: 'commodity_supply', durationInDays: 30 * 3 },\n      { form: 'stock_ammendment', durationInDays: 30 * 3 },\n      { form: 'commodity_stockout', durationInDays: 30 * 3 },\n      { form: 'cha_signal_reporting_verification', durationInDays: 30 * 3 },\n      { form: 'cha_signal_verification', durationInDays: 30 * 3 },\n      { form: 'death_review', durationInDays: 30 * 3 },\n      { form: 'cha_verbal_autopsy', durationInDays: 30 * 4 },\n      { form: 'approve_mute_person', durationInDays: 30 * 3 },\n      { form: 'approve_mute_household', durationInDays: 30 * 3 },\n      { form: 'sgbv', durationInDays: 30 * 3 },\n      { form: 'chu_supervision', durationInDays: 30 * 3 },\n      { form: 'community_event', durationInDays: 30 * 3 },\n      { form: 'referral_follow_up', durationInDays: 30 * 3 },\n      { form: 'postnatal_care_service', durationInDays: 30 * 1.5 },\n      { form: 'u5_assessment', durationInDays: 30 * 1.5 },\n      { form: 'over_five_assessment', durationInDays: 30 * 1.5 },\n      { form: 'pregnancy_home_visit', durationInDays: 30 * 1.5 },\n      { form: 'postnatal_care_service_newborn', durationInDays: 30 * 1.5 },\n      { form: 'immunization_service', durationInDays: 30 * 1.5 },\n      { form: 'defaulter_follow_up', durationInDays: 30 * 1.5 },\n    ];\n\n    const purgeScheduleForChps = [\n      { form: 'chv_signal_reporting', durationInDays: 30 * 3 },\n      { form: 'commodity_count', durationInDays: 30 * 1 },\n      { form: 'commodity_received', durationInDays: 30 * 1 },\n      { form: 'commodity_return', durationInDays: 30 * 1 },\n      { form: 'death_report', durationInDays: 30 * 1 },\n      { form: 'defaulter_follow_up', durationInDays: 30 * 1.5 },\n      { form: 'family_planning', durationInDays: 30 * 3 },\n      { form: 'immunization_service', durationInDays: 30 * 24 },\n      { form: 'mute_household', durationInDays: 30 * 1 },\n      { form: 'mute_person', durationInDays: 30 * 1 },\n      { form: 'over_five_assessment', durationInDays: 30 * 3 },\n      { form: 'postnatal_care_service', durationInDays: 30 * 3 },\n      { form: 'postnatal_care_service_newborn', durationInDays: 30 * 3 },\n      { form: 'pregnancy_home_visit', durationInDays: 30 * 1.5 },\n      { form: 'referral_follow_up', durationInDays: 30 * 3 },\n      { form: 'sgbv', durationInDays: 30 * 1 },\n      { form: 'socio_economic_survey', durationInDays: 30 * 1 },\n      { form: 'treatment_follow_up', durationInDays: 30 * 3 },\n      { form: 'u5_assessment', durationInDays: 30 * 3 },\n      { form: 'unmute_household', durationInDays: 30 * 1 },\n      { form: 'unmute_person', durationInDays: 30 * 1 },\n      { form: 'wash', durationInDays: 30 * 6 },\n      { form: 'chv_consumption_log', durationInDays: 30 * 3 },\n    ];\n\n    const generateReportsToPurge = (purgeSchedule) => reports.filter(report => [...purgeSchedule].map(item => item.form).includes(report.form))\n      .filter(report => {\n        const duration = purgeSchedule.find(item => item.form === report.form).durationInDays;\n        const old = Date.now() - (1000 * 60 * 60 * 24 * duration);\n        return report.reported_date <= old;\n      }).map(report => report._id);\n\n    if (userCtx.roles.includes('community_health_volunteer')) {\n      reportsToPurge.push(...generateReportsToPurge(purgeScheduleForChps));\n    }\n    if (userCtx.roles.includes('community_health_assistant')) {\n      const excludedReportsToPurgeForCha = reports\n        .filter(report => excludedChpReportsToPurgeForCha.includes(report.form))\n        .map(report => report._id);\n\n      reportsToPurge.push(...generateReportsToPurge(purgeScheduleForChas), ...excludedReportsToPurgeForCha);\n    }\n\n    return reportsToPurge;\n  }"
    }
  }
}